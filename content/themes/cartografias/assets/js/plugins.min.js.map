{"version":3,"sources":["plugins.js"],"names":["method","noop","methods","length","console","window","document","exports","global","define","undefined","renderDocument","options","windowWidth","windowHeight","html2canvasIndex","createWindowClone","defaultView","pageXOffset","pageYOffset","then","container","log","attributeName","html2canvasNodeAttribute","selector","querySelector","removeAttribute","clonedWindow","contentWindow","node","oncloneHandler","Promise","resolve","onclone","renderWindow","support","Support","imageLoader","ImageLoader","bounds","getBounds","width","type","documentWidth","height","documentHeight","renderer","parser","NodeParser","ready","canvas","crop","top","left","x","y","body","documentElement","cleanupContainer","removeContainer","parentNode","removeChild","croppedCanvas","createElement","x1","Math","min","max","x2","y1","y2","getContext","drawImage","doc","scrollWidth","offsetWidth","clientWidth","scrollHeight","offsetHeight","clientHeight","smallImage","isIE9","documentMode","cloneNodeIE9","javascriptEnabled","clone","nodeType","createTextNode","nodeValue","cloneNode","child","firstChild","nodeName","appendChild","nextSibling","ownerDocument","containerDocument","labelCanvasElements","className","style","visibility","position","border","scrolling","documentClone","cloneNodeValues","onload","interval","setInterval","childNodes","cloneCanvasContents","clearInterval","scrollTo","open","write","restoreOwnerScroll","replaceChild","adoptNode","removeScriptNodes","close","originalNodes","getElementsByTagName","clonedNodes","count","i","value","loadUrlDocument","src","proxy","Proxy","documentFromHTML","html","DOMParser","parseFromString","e","implementation","createHTMLDocument","ee","innerHTML","b","href","host","base","head","insertBefore","slice","call","querySelectorAll","forEach","setAttribute","html2canvasCanvasCloneAttribute","html2canvasCanvasCloneIndex","clonedCanvas","getAttribute","putImageData","getImageData","parent","filter","isElementNode","tagName","Node","ELEMENT_NODE","absoluteUrl","url","link","Color","this","r","g","a","fromArray","namedColor","rgb","rgba","hex6","hex3","DummyImageContainer","promise","image","prototype","Image","reject","onerror","complete","Font","family","size","baseline","middle","img","span","sampleText","fontFamily","fontSize","margin","padding","verticalAlign","offsetTop","lineHeight","lineWidth","FontMetrics","data","FrameContainer","sameOrigin","self","URL","proxyLoad","html2canvas","allowTaint","imageTimeout","GradientContainer","imageData","colorStops","x0","y0","ImageContainer","cors","tainted","crossOrigin","origin","getOrigin","location","LinearGradientContainer","apply","arguments","TYPES","LINEAR","hasDirection","args","match","stepRegExp","split","reverse","map","colorStop","colorStopMatch","color","stop","index","some","find","logging","Function","bind","Date","now","start","concat","NodeContainer","stack","borders","clip","backgroundClip","offsetBounds","visible","computedStyles","colors","styles","backgroundImages","transformData","transformMatrix","isPseudoElement","opacity","selectionValue","option","selectedIndex","text","parseMatrix","s","parseFloat","trim","isPercentage","toString","indexOf","parseBackgrounds","backgroundImage","definition","prefix","prefix_i","block","quote","whitespace","results","mode","numParen","appendResult","substr","push","toLowerCase","c","removePx","str","replace","asFloat","getBoundingClientRect","clientRect","bottom","right","offsetParent","offsetLeft","element","range","renderQueue","StackingContext","background","rectangle","canvasBackground","isTransparent","visibile","isElementVisible","createPseudoHideStyles","disableAnimations","nodes","flatten","getChildren","getPseudoElements","fontMetrics","calculateOverflowClips","images","fetch","isElement","createStackingContexts","sortStackingContexts","parse","async","renderIndex","asyncRenderer","paint","hasParentClip","toCamelCase","toUpperCase","ClearTransform","calculateBorders","nodeBounds","borderPoints","radius","borderSide","bx","by","bw","bh","drawSide","c1","c2","c3","c4","topLeftOuter","topLeftInner","topRightOuter","topRightInner","bottomRightOuter","bottomRightInner","bottomLeftOuter","bottomLeftInner","getCurvePoints","r1","r2","kappa","sqrt","ox","oy","xm","ym","topLeft","bezierCurve","topRight","bottomRight","bottomLeft","calculateCurvePoints","borderRadius","tlh","tlv","trh","trv","brh","brv","blh","blv","topWidth","rightHeight","bottomWidth","leftHeight","subdivide","startControl","endControl","end","lerp","t","ab","bc","cd","abbc","bccd","dest","curveTo","borderArgs","curveToReversed","borderData","radius1","radius2","outer1","inner1","outer2","inner2","parseCorner","corner1","corner2","negativeZIndex","cssInt","positiveZIndex","zIndex0","inlineLevel","css","isStackingContext","hasText","noLetterSpacing","test","getBorderRadiusData","side","arr","asInt","renderableNode","TEXT_NODE","isPositionedForStacking","zIndex","isPositioned","isFloating","isInlineBlock","not","callback","context","isTextNode","zIndexSort","contexts","hasOpacity","getOpacity","parseInt","getWidth","nonIgnoredElement","nodeContainer","arrays","stripQuotes","content","first","getWords","characters","word","words","onWordBoundary","isWordBoundary","splice","punycode","ucs2","encode","characterCode","hasUnicode","string","proxyUrl","createCallback","supportsCORS","createProxyUrl","XHR","jsonp","response","decode64","ProxyURL","supportsCORSImage","cleanup","useCORS","proxyCount","round","random","encodeURIComponent","ProxyImageContainer","PseudoElementContainer","before","Renderer","hasOwnStacking","ownStacking","children","rangeBounds","testRangeBounds","testCORS","svg","testSVG","SVGContainer","hasFabric","isInline","inlineFormatting","fabric","loadSVGFromString","createCanvas","base64","encoded1","encoded2","encoded3","encoded4","byte1","byte2","byte3","chars","len","output","String","fromCharCode","SVGNodeContainer","native","XMLSerializer","serializeToString","parseSVGDocument","TextContainer","capitalize","m","p1","p2","WebkitGradientContainer","RADIAL","xhr","XMLHttpRequest","status","responseText","Error","statusText","send","CanvasRenderer","ctx","taintCtx","textBaseline","variables","hasEntries","array","n","l","A","F","process","nextTick","G","B","observe","characterData","H","MessageChannel","port1","onmessage","port2","postMessage","I","setTimeout","p","J","d","K","f","q","L","u","TypeError","constructor","v","error","M","C","D","k","h","N","o","O","E","Array","isArray","Object","w","MutationObserver","WebKitMutationObserver","Uint8ClampedArray","importScripts","j","all","race","catch","z","polyfill","amd","module","ES6Promise","root","RangeError","errors","fn","result","mapDomain","parts","labels","regexSeparators","encoded","join","ucs2decode","extra","counter","charCodeAt","ucs2encode","stringFromCharCode","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","floor","damp","baseMinusTMin","tMax","skew","decode","input","out","basic","oldi","baseMinusT","inputLength","initialN","bias","initialBias","lastIndexOf","delimiter","maxInt","tMin","handledCPCount","basicLength","currentValue","handledCPCountPlusOne","qMinusT","toUnicode","regexPunycode","toASCII","regexNonASCII","freeExports","freeModule","freeGlobal","key","overflow","not-basic","invalid-input","version","hasOwnProperty","html2canvasCloneIndex","nodeList","strict","innerWidth","innerHeight","onrendered","darken","amount","isBlack","_hex3","_hex6","substring","_rgb","Number","_rgba","isColor","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","getMetrics","findImages","reduce","imageNodes","addImage","loadImage","findBackgroundImage","parseBackgroundImages","hasImageBackground","newImage","imageExists","isSVG","isSameOrigin","protocol","hostname","port","getPromise","timeout","dummy","get","found","timer","res","clearTimeout","create","cloneTo","cssFloat","assignStack","hasAttribute","attribute","computedStyle","prefixedCss","prefixes","getComputedStyle","isNaN","fontWeight","weight","parseClip","matches","CLIP","cssList","property","parseBackgroundSize","targetRatio","currentRatio","parseBackgroundPosition","backgroundSize","parseBackgroundRepeat","parseTextShadows","textShadow","shadows","TEXT_SHADOW_PROPERTY","TEXT_SHADOW_VALUES","offsetX","offsetY","blur","parseTransform","hasTransform","offset","parseBounds","matrix","parseTransformMatrix","transform","MATRIX_PROPERTY","getValue","placeholder","appendToDOM","parseBorders","cssClip","cleanDOM","queue","asyncTimer","createStyles","PSEUDO_HIDE_ELEMENT_CLASS_BEFORE","PSEUDO_HIDE_ELEMENT_CLASS_AFTER","hidePseudoElements","getPseudoElement","after","display","isImage","pseudoNode","pseudoContainer","item","parentContainer","newStackingContext","parentStack","getParentStack","isRootElement","isBodyWithTransparentRoot","sort","parseTextBounds","textList","getRangeBounds","replacementNode","splitText","getWrapperBounds","wrapper","backupText","createRange","setStart","setEnd","negativeZindex","descendantElements","descendantNonFloats","nonInlineNonPositionedDescendants","nonPositionedFloats","inFlow","stackLevel0","positiveZindex","restore","paintText","paintNode","setOpacity","save","setTransform","paintCheckbox","paintRadio","paintElement","renderBackground","renderBorders","imgContainer","renderImage","imageContainer","paintFormValue","checked","font","circleStroke","circle","ceil","properties","message","textContent","applyTextTransform","letterRendering","character","fontShadow","clearShadow","renderTextDecoration","metrics","borderColorTransforms","inset","colorTransform","parseBackgroundClip","getHideClass","paddingLeft","paddingTop","paddingRight","paddingBottom","renderBackgroundColor","renderBackgroundImage","renderBorder","drawShape","renderBackgroundRepeating","gradientImage","renderBackgroundGradient","repeat","backgroundRepeatShape","renderBackgroundRepeat","testElement","rangeHeight","selectNode","toDataURL","removeContentType","objects","StaticCanvas","lowerCanvasEl","setWidth","setHeight","add","util","groupSVGElements","renderAll","atob","setFillStyle","fillStyle","fillRect","beginPath","arc","PI","closePath","fill","stroke","strokeColor","strokeStyle","shape","taints","sx","sy","sw","sh","dx","dy","dw","dh","shapes","point","rect","variant","setVariable","globalAlpha","translate","fillText","backgroundPosition","borderLeft","borderTop","createPattern","resizeImage","gradient","createLinearGradient","addColorStop","$","dragging","placeholders","sortable","extend","connectWith","each","items","attr","removeData","off","isHandle","handle","mousedown","mouseup","on","dt","originalEvent","dataTransfer","effectAllowed","setData","addClass","removeClass","show","detach","trigger","dragDrop","is","stopPropagation","preventDefault","dropEffect","forcePlaceholderSize","outerHeight","hide","append","jQuery","button","menu","getElementById","onclick","is_webkit","navigator","userAgent","is_opera","is_ie","addEventListener","hash","tabIndex","focus","initialize","object","orig","__defineGetter__","S","extendPrototype","name","__sp","func","__nsp","methodsAdded","restorePrototype","getNativeStringProperties","names","getNativeStringPropertyNames","retObj","getOwnPropertyNames","stringNames","Export","multiArgs","VERSION","ENTITIES","latin_map","Á","Ă","Ắ","Ặ","Ằ","Ẳ","Ẵ","Ǎ","Â","Ấ","Ậ","Ầ","Ẩ","Ẫ","Ä","Ǟ","Ȧ","Ǡ","Ạ","Ȁ","À","Ả","Ȃ","Ā","Ą","Å","Ǻ","Ḁ","Ⱥ","Ã","Ꜳ","Æ","Ǽ","Ǣ","Ꜵ","Ꜷ","Ꜹ","Ꜻ","Ꜽ","Ḃ","Ḅ","Ɓ","Ḇ","Ƀ","Ƃ","Ć","Č","Ç","Ḉ","Ĉ","Ċ","Ƈ","Ȼ","Ď","Ḑ","Ḓ","Ḋ","Ḍ","Ɗ","Ḏ","ǲ","ǅ","Đ","Ƌ","Ǳ","Ǆ","É","Ĕ","Ě","Ȩ","Ḝ","Ê","Ế","Ệ","Ề","Ể","Ễ","Ḙ","Ë","Ė","Ẹ","Ȅ","È","Ẻ","Ȇ","Ē","Ḗ","Ḕ","Ę","Ɇ","Ẽ","Ḛ","Ꝫ","Ḟ","Ƒ","Ǵ","Ğ","Ǧ","Ģ","Ĝ","Ġ","Ɠ","Ḡ","Ǥ","Ḫ","Ȟ","Ḩ","Ĥ","Ⱨ","Ḧ","Ḣ","Ḥ","Ħ","Í","Ĭ","Ǐ","Î","Ï","Ḯ","İ","Ị","Ȉ","Ì","Ỉ","Ȋ","Ī","Į","Ɨ","Ĩ","Ḭ","Ꝺ","Ꝼ","Ᵹ","Ꞃ","Ꞅ","Ꞇ","Ꝭ","Ĵ","Ɉ","Ḱ","Ǩ","Ķ","Ⱪ","Ꝃ","Ḳ","Ƙ","Ḵ","Ꝁ","Ꝅ","Ĺ","Ƚ","Ľ","Ļ","Ḽ","Ḷ","Ḹ","Ⱡ","Ꝉ","Ḻ","Ŀ","Ɫ","ǈ","Ł","Ǉ","Ḿ","Ṁ","Ṃ","Ɱ","Ń","Ň","Ņ","Ṋ","Ṅ","Ṇ","Ǹ","Ɲ","Ṉ","Ƞ","ǋ","Ñ","Ǌ","Ó","Ŏ","Ǒ","Ô","Ố","Ộ","Ồ","Ổ","Ỗ","Ö","Ȫ","Ȯ","Ȱ","Ọ","Ő","Ȍ","Ò","Ỏ","Ơ","Ớ","Ợ","Ờ","Ở","Ỡ","Ȏ","Ꝋ","Ꝍ","Ō","Ṓ","Ṑ","Ɵ","Ǫ","Ǭ","Ø","Ǿ","Õ","Ṍ","Ṏ","Ȭ","Ƣ","Ꝏ","Ɛ","Ɔ","Ȣ","Ṕ","Ṗ","Ꝓ","Ƥ","Ꝕ","Ᵽ","Ꝑ","Ꝙ","Ꝗ","Ŕ","Ř","Ŗ","Ṙ","Ṛ","Ṝ","Ȑ","Ȓ","Ṟ","Ɍ","Ɽ","Ꜿ","Ǝ","Ś","Ṥ","Š","Ṧ","Ş","Ŝ","Ș","Ṡ","Ṣ","Ṩ","ẞ","Ť","Ţ","Ṱ","Ț","Ⱦ","Ṫ","Ṭ","Ƭ","Ṯ","Ʈ","Ŧ","Ɐ","Ꞁ","Ɯ","Ʌ","Ꜩ","Ú","Ŭ","Ǔ","Û","Ṷ","Ü","Ǘ","Ǚ","Ǜ","Ǖ","Ṳ","Ụ","Ű","Ȕ","Ù","Ủ","Ư","Ứ","Ự","Ừ","Ử","Ữ","Ȗ","Ū","Ṻ","Ų","Ů","Ũ","Ṹ","Ṵ","Ꝟ","Ṿ","Ʋ","Ṽ","Ꝡ","Ẃ","Ŵ","Ẅ","Ẇ","Ẉ","Ẁ","Ⱳ","Ẍ","Ẋ","Ý","Ŷ","Ÿ","Ẏ","Ỵ","Ỳ","Ƴ","Ỷ","Ỿ","Ȳ","Ɏ","Ỹ","Ź","Ž","Ẑ","Ⱬ","Ż","Ẓ","Ȥ","Ẕ","Ƶ","Ĳ","Œ","ᴀ","ᴁ","ʙ","ᴃ","ᴄ","ᴅ","ᴇ","ꜰ","ɢ","ʛ","ʜ","ɪ","ʁ","ᴊ","ᴋ","ʟ","ᴌ","ᴍ","ɴ","ᴏ","ɶ","ᴐ","ᴕ","ᴘ","ʀ","ᴎ","ᴙ","ꜱ","ᴛ","ⱻ","ᴚ","ᴜ","ᴠ","ᴡ","ʏ","ᴢ","á","ă","ắ","ặ","ằ","ẳ","ẵ","ǎ","â","ấ","ậ","ầ","ẩ","ẫ","ä","ǟ","ȧ","ǡ","ạ","ȁ","à","ả","ȃ","ā","ą","ᶏ","ẚ","å","ǻ","ḁ","ⱥ","ã","ꜳ","æ","ǽ","ǣ","ꜵ","ꜷ","ꜹ","ꜻ","ꜽ","ḃ","ḅ","ɓ","ḇ","ᵬ","ᶀ","ƀ","ƃ","ɵ","ć","č","ç","ḉ","ĉ","ɕ","ċ","ƈ","ȼ","ď","ḑ","ḓ","ȡ","ḋ","ḍ","ɗ","ᶑ","ḏ","ᵭ","ᶁ","đ","ɖ","ƌ","ı","ȷ","ɟ","ʄ","ǳ","ǆ","é","ĕ","ě","ȩ","ḝ","ê","ế","ệ","ề","ể","ễ","ḙ","ë","ė","ẹ","ȅ","è","ẻ","ȇ","ē","ḗ","ḕ","ⱸ","ę","ᶒ","ɇ","ẽ","ḛ","ꝫ","ḟ","ƒ","ᵮ","ᶂ","ǵ","ğ","ǧ","ģ","ĝ","ġ","ɠ","ḡ","ᶃ","ǥ","ḫ","ȟ","ḩ","ĥ","ⱨ","ḧ","ḣ","ḥ","ɦ","ẖ","ħ","ƕ","í","ĭ","ǐ","î","ï","ḯ","ị","ȉ","ì","ỉ","ȋ","ī","į","ᶖ","ɨ","ĩ","ḭ","ꝺ","ꝼ","ᵹ","ꞃ","ꞅ","ꞇ","ꝭ","ǰ","ĵ","ʝ","ɉ","ḱ","ǩ","ķ","ⱪ","ꝃ","ḳ","ƙ","ḵ","ᶄ","ꝁ","ꝅ","ĺ","ƚ","ɬ","ľ","ļ","ḽ","ȴ","ḷ","ḹ","ⱡ","ꝉ","ḻ","ŀ","ɫ","ᶅ","ɭ","ł","ǉ","ſ","ẜ","ẛ","ẝ","ḿ","ṁ","ṃ","ɱ","ᵯ","ᶆ","ń","ň","ņ","ṋ","ȵ","ṅ","ṇ","ǹ","ɲ","ṉ","ƞ","ᵰ","ᶇ","ɳ","ñ","ǌ","ó","ŏ","ǒ","ô","ố","ộ","ồ","ổ","ỗ","ö","ȫ","ȯ","ȱ","ọ","ő","ȍ","ò","ỏ","ơ","ớ","ợ","ờ","ở","ỡ","ȏ","ꝋ","ꝍ","ⱺ","ō","ṓ","ṑ","ǫ","ǭ","ø","ǿ","õ","ṍ","ṏ","ȭ","ƣ","ꝏ","ɛ","ᶓ","ɔ","ᶗ","ȣ","ṕ","ṗ","ꝓ","ƥ","ᵱ","ᶈ","ꝕ","ᵽ","ꝑ","ꝙ","ʠ","ɋ","ꝗ","ŕ","ř","ŗ","ṙ","ṛ","ṝ","ȑ","ɾ","ᵳ","ȓ","ṟ","ɼ","ᵲ","ᶉ","ɍ","ɽ","ↄ","ꜿ","ɘ","ɿ","ś","ṥ","š","ṧ","ş","ŝ","ș","ṡ","ṣ","ṩ","ʂ","ᵴ","ᶊ","ȿ","ɡ","ß","ᴑ","ᴓ","ᴝ","ť","ţ","ṱ","ț","ȶ","ẗ","ⱦ","ṫ","ṭ","ƭ","ṯ","ᵵ","ƫ","ʈ","ŧ","ᵺ","ɐ","ᴂ","ǝ","ᵷ","ɥ","ʮ","ʯ","ᴉ","ʞ","ꞁ","ɯ","ɰ","ᴔ","ɹ","ɻ","ɺ","ⱹ","ʇ","ʌ","ʍ","ʎ","ꜩ","ú","ŭ","ǔ","û","ṷ","ü","ǘ","ǚ","ǜ","ǖ","ṳ","ụ","ű","ȕ","ù","ủ","ư","ứ","ự","ừ","ử","ữ","ȗ","ū","ṻ","ų","ᶙ","ů","ũ","ṹ","ṵ","ᵫ","ꝸ","ⱴ","ꝟ","ṿ","ʋ","ᶌ","ⱱ","ṽ","ꝡ","ẃ","ŵ","ẅ","ẇ","ẉ","ẁ","ⱳ","ẘ","ẍ","ẋ","ᶍ","ý","ŷ","ÿ","ẏ","ỵ","ỳ","ƴ","ỷ","ỿ","ȳ","ẙ","ɏ","ỹ","ź","ž","ẑ","ʑ","ⱬ","ż","ẓ","ȥ","ẕ","ᵶ","ᶎ","ʐ","ƶ","ɀ","ﬀ","ﬃ","ﬄ","ﬁ","ﬂ","ĳ","œ","ﬆ","ₐ","ₑ","ᵢ","ⱼ","ₒ","ᵣ","ᵤ","ᵥ","ₓ","between","startPos","endPos","camelize","mathc","sep","charAt","chompLeft","chompRight","suffix","endsWith","collapseWhitespace","contains","ss","require","dasherize","latinise","decodeHtmlEntities","_","code","hex","target","suffixes","escapeHTML","reversedEscapeChars","ensureLeft","ensureRight","humanize","underscore","isAlpha","isAlphaNumeric","isEmpty","isLower","isNumeric","isUpper","lines","replaceAll","pad","ch","padLeft","padRight","parseCSV","qualifier","escape","lineDelimiter","fieldBuffer","fields","inField","inUnqualifiedString","ca","rows","current","strip","setValue","slugify","sl","startsWith","stripPunctuation","stripTags","tag","RegExp","template","values","opening","closing","TMPL_OPEN","TMPL_CLOSE","times","toBoolean","toFloat","precision","num","toFixed","toInt","trimLeft","trimRight","truncate","pruneStr","tmpl","toCSV","hasVal","it","delim","encloseNumbers","keys","dataArray","separator","rep","buildString","shouldQualify","unescapeHTML","entity","entityCode","escapeChars","valueOf","wrapHTML","tagAttrs","el","elAttr","wrapped","prop","nativeProperties","stringProp","include","toInteger","toBool","decodeHTMLEntities","lt","gt","quot","apos","amp","AElig","Aacute","Acirc","Agrave","Aring","Atilde","Auml","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","Iacute","Icirc","Igrave","Iuml","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","aelig","agrave","aring","atilde","auml","ccedil","eacute","ecirc","egrave","eth","euml","iacute","icirc","igrave","iuml","ntilde","oacute","ocirc","ograve","oslash","otilde","ouml","szlig","thorn","uacute","ucirc","ugrave","uuml","yacute","yuml","copy","reg","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","shy","macr","deg","plusmn","sup1","sup2","sup3","acute","micro","para","middot","cedil","ordm","raquo","frac14","frac12","frac34","iquest","divide","OElig;","oelig;","Scaron;","scaron;","Yuml;","fnof;","circ;","tilde;","Alpha;","Beta;","Gamma;","Delta;","Epsilon;","Zeta;","Eta;","Theta;","Iota;","Kappa;","Lambda;","Mu;","Nu;","Xi;","Omicron;","Pi;","Rho;","Sigma;","Tau;","Upsilon;","Phi;","Chi;","Psi;","Omega;","alpha;","beta;","gamma;","delta;","epsilon;","zeta;","eta;","theta;","iota;","kappa;","lambda;","mu;","nu;","xi;","omicron;","pi;","rho;","sigmaf;","sigma;","tau;","upsilon;","phi;","chi;","psi;","omega;","thetasym;","upsih;","piv;","ensp;","emsp;","thinsp;","zwnj;","zwj;","lrm;","rlm;","ndash;","mdash;","lsquo;","rsquo;","sbquo;","ldquo;","rdquo;","bdquo;","dagger;","Dagger;","bull;","hellip;","permil;","prime;","Prime;","lsaquo;","rsaquo;","oline;","frasl;","euro;","image;","weierp;","real;","trade;","alefsym;","larr;","uarr;","rarr;","darr;","harr;","crarr;","lArr;","uArr;","rArr;","dArr;","hArr;","forall;","part;","exist;","empty;","nabla;","isin;","notin;","ni;","prod;","sum;","minus;","lowast;","radic;","prop;","infin;","ang;","and;","or;","cap;","cup;","int;","there4;","sim;","cong;","asymp;","ne;","equiv;","le;","ge;","sub;","sup;","nsub;","sube;","supe;","oplus;","otimes;","perp;","sdot;","lceil;","rceil;","lfloor;","rfloor;","lang;","rang;","loz;","spades;","clubs;","hearts;","diams;"],"mappings":"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,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,KAAKC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,KAAKC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,IAAIC,IAAI,I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","file":"plugins.min.js","sourcesContent":["// Avoid `console` errors in browsers that lack a console.\n(function() {\n    var method;\n    var noop = function noop() {};\n    var methods = [\n        'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',\n        'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',\n        'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',\n        'timeStamp', 'trace', 'warn'\n    ];\n    var length = methods.length;\n    var console = (window.console = window.console || {});\n\n    while (length--) {\n        method = methods[length];\n\n        // Only stub undefined methods.\n        if (!console[method]) {\n            console[method] = noop;\n        }\n    }\n}());\n\n// Place any jQuery/helper plugins in here.\n\n/*\r\n  html2canvas 0.5.0-alpha1 <http://html2canvas.hertzen.com>\r\n  Copyright (c) 2015 Niklas von Hertzen\r\n\r\n  Released under MIT License\r\n*/\r\n\r\n(function(window, document, exports, global, define, undefined){\r\n\r\n/*!\r\n * @overview es6-promise - a tiny implementation of Promises/A+.\r\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\r\n * @license   Licensed under MIT license\r\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\r\n * @version   2.0.1\r\n */\r\n\r\n(function(){function r(a,b){n[l]=a;n[l+1]=b;l+=2;2===l&&A()}function s(a){return\"function\"===typeof a}function F(){return function(){process.nextTick(t)}}function G(){var a=0,b=new B(t),c=document.createTextNode(\"\");b.observe(c,{characterData:!0});return function(){c.data=a=++a%2}}function H(){var a=new MessageChannel;a.port1.onmessage=t;return function(){a.port2.postMessage(0)}}function I(){return function(){setTimeout(t,1)}}function t(){for(var a=0;a<l;a+=2)(0,n[a])(n[a+1]),n[a]=void 0,n[a+1]=void 0;\r\nl=0}function p(){}function J(a,b,c,d){try{a.call(b,c,d)}catch(e){return e}}function K(a,b,c){r(function(a){var e=!1,f=J(c,b,function(c){e||(e=!0,b!==c?q(a,c):m(a,c))},function(b){e||(e=!0,g(a,b))});!e&&f&&(e=!0,g(a,f))},a)}function L(a,b){1===b.a?m(a,b.b):2===a.a?g(a,b.b):u(b,void 0,function(b){q(a,b)},function(b){g(a,b)})}function q(a,b){if(a===b)g(a,new TypeError(\"You cannot resolve a promise with itself\"));else if(\"function\"===typeof b||\"object\"===typeof b&&null!==b)if(b.constructor===a.constructor)L(a,\r\nb);else{var c;try{c=b.then}catch(d){v.error=d,c=v}c===v?g(a,v.error):void 0===c?m(a,b):s(c)?K(a,b,c):m(a,b)}else m(a,b)}function M(a){a.f&&a.f(a.b);x(a)}function m(a,b){void 0===a.a&&(a.b=b,a.a=1,0!==a.e.length&&r(x,a))}function g(a,b){void 0===a.a&&(a.a=2,a.b=b,r(M,a))}function u(a,b,c,d){var e=a.e,f=e.length;a.f=null;e[f]=b;e[f+1]=c;e[f+2]=d;0===f&&a.a&&r(x,a)}function x(a){var b=a.e,c=a.a;if(0!==b.length){for(var d,e,f=a.b,g=0;g<b.length;g+=3)d=b[g],e=b[g+c],d?C(c,d,e,f):e(f);a.e.length=0}}function D(){this.error=\r\nnull}function C(a,b,c,d){var e=s(c),f,k,h,l;if(e){try{f=c(d)}catch(n){y.error=n,f=y}f===y?(l=!0,k=f.error,f=null):h=!0;if(b===f){g(b,new TypeError(\"A promises callback cannot return that same promise.\"));return}}else f=d,h=!0;void 0===b.a&&(e&&h?q(b,f):l?g(b,k):1===a?m(b,f):2===a&&g(b,f))}function N(a,b){try{b(function(b){q(a,b)},function(b){g(a,b)})}catch(c){g(a,c)}}function k(a,b,c,d){this.n=a;this.c=new a(p,d);this.i=c;this.o(b)?(this.m=b,this.d=this.length=b.length,this.l(),0===this.length?m(this.c,\r\nthis.b):(this.length=this.length||0,this.k(),0===this.d&&m(this.c,this.b))):g(this.c,this.p())}function h(a){O++;this.b=this.a=void 0;this.e=[];if(p!==a){if(!s(a))throw new TypeError(\"You must pass a resolver function as the first argument to the promise constructor\");if(!(this instanceof h))throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");N(this,a)}}var E=Array.isArray?Array.isArray:function(a){return\"[object Array]\"===\r\nObject.prototype.toString.call(a)},l=0,w=\"undefined\"!==typeof window?window:{},B=w.MutationObserver||w.WebKitMutationObserver,w=\"undefined\"!==typeof Uint8ClampedArray&&\"undefined\"!==typeof importScripts&&\"undefined\"!==typeof MessageChannel,n=Array(1E3),A;A=\"undefined\"!==typeof process&&\"[object process]\"==={}.toString.call(process)?F():B?G():w?H():I();var v=new D,y=new D;k.prototype.o=function(a){return E(a)};k.prototype.p=function(){return Error(\"Array Methods must be provided an Array\")};k.prototype.l=\r\nfunction(){this.b=Array(this.length)};k.prototype.k=function(){for(var a=this.length,b=this.c,c=this.m,d=0;void 0===b.a&&d<a;d++)this.j(c[d],d)};k.prototype.j=function(a,b){var c=this.n;\"object\"===typeof a&&null!==a?a.constructor===c&&void 0!==a.a?(a.f=null,this.g(a.a,b,a.b)):this.q(c.resolve(a),b):(this.d--,this.b[b]=this.h(a))};k.prototype.g=function(a,b,c){var d=this.c;void 0===d.a&&(this.d--,this.i&&2===a?g(d,c):this.b[b]=this.h(c));0===this.d&&m(d,this.b)};k.prototype.h=function(a){return a};\r\nk.prototype.q=function(a,b){var c=this;u(a,void 0,function(a){c.g(1,b,a)},function(a){c.g(2,b,a)})};var O=0;h.all=function(a,b){return(new k(this,a,!0,b)).c};h.race=function(a,b){function c(a){q(e,a)}function d(a){g(e,a)}var e=new this(p,b);if(!E(a))return (g(e,new TypeError(\"You must pass an array to race.\")), e);for(var f=a.length,h=0;void 0===e.a&&h<f;h++)u(this.resolve(a[h]),void 0,c,d);return e};h.resolve=function(a,b){if(a&&\"object\"===typeof a&&a.constructor===this)return a;var c=new this(p,b);\r\nq(c,a);return c};h.reject=function(a,b){var c=new this(p,b);g(c,a);return c};h.prototype={constructor:h,then:function(a,b){var c=this.a;if(1===c&&!a||2===c&&!b)return this;var d=new this.constructor(p),e=this.b;if(c){var f=arguments[c-1];r(function(){C(c,d,f,e)})}else u(this,d,a,b);return d},\"catch\":function(a){return this.then(null,a)}};var z={Promise:h,polyfill:function(){var a;a=\"undefined\"!==typeof global?global:\"undefined\"!==typeof window&&window.document?window:self;\"Promise\"in a&&\"resolve\"in\r\na.Promise&&\"reject\"in a.Promise&&\"all\"in a.Promise&&\"race\"in a.Promise&&function(){var b;new a.Promise(function(a){b=a});return s(b)}()||(a.Promise=h)}};\"function\"===typeof define&&define.amd?define(function(){return z}):\"undefined\"!==typeof module&&module.exports?module.exports=z:\"undefined\"!==typeof this&&(this.ES6Promise=z);}).call(window);\r\nif (window) {\r\n    window.ES6Promise.polyfill();\r\n}\r\n\r\n\r\nif (typeof(document) === \"undefined\" || typeof(Object.create) !== \"function\" || typeof(document.createElement(\"canvas\").getContext) !== \"function\") {\r\n    (window || module.exports).html2canvas = function() {\r\n        return Promise.reject(\"No canvas support\");\r\n    };\r\n    return;\r\n}\r\n\r\n/*! https://mths.be/punycode v1.3.1 by @mathias */\r\n;(function(root) {\r\n\r\n\t/** Detect free variables */\r\n\tvar freeExports = typeof exports == 'object' && exports &&\r\n\t\t!exports.nodeType && exports;\r\n\tvar freeModule = typeof module == 'object' && module &&\r\n\t\t!module.nodeType && module;\r\n\tvar freeGlobal = typeof global == 'object' && global;\r\n\tif (\r\n\t\tfreeGlobal.global === freeGlobal ||\r\n\t\tfreeGlobal.window === freeGlobal ||\r\n\t\tfreeGlobal.self === freeGlobal\r\n\t) {\r\n\t\troot = freeGlobal;\r\n\t}\r\n\r\n\t/**\r\n\t * The `punycode` object.\r\n\t * @name punycode\r\n\t * @type Object\r\n\t */\r\n\tvar punycode,\r\n\r\n\t/** Highest positive signed 32-bit float value */\r\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\r\n\r\n\t/** Bootstring parameters */\r\n\tbase = 36,\r\n\ttMin = 1,\r\n\ttMax = 26,\r\n\tskew = 38,\r\n\tdamp = 700,\r\n\tinitialBias = 72,\r\n\tinitialN = 128, // 0x80\r\n\tdelimiter = '-', // '\\x2D'\r\n\r\n\t/** Regular expressions */\r\n\tregexPunycode = /^xn--/,\r\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\r\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\r\n\r\n\t/** Error messages */\r\n\terrors = {\r\n\t\t'overflow': 'Overflow: input needs wider integers to process',\r\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\r\n\t\t'invalid-input': 'Invalid input'\r\n\t},\r\n\r\n\t/** Convenience shortcuts */\r\n\tbaseMinusTMin = base - tMin,\r\n\tfloor = Math.floor,\r\n\tstringFromCharCode = String.fromCharCode,\r\n\r\n\t/** Temporary variable */\r\n\tkey;\r\n\r\n\t/*--------------------------------------------------------------------------*/\r\n\r\n\t/**\r\n\t * A generic error utility function.\r\n\t * @private\r\n\t * @param {String} type The error type.\r\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\r\n\t */\r\n\tfunction error(type) {\r\n\t\tthrow RangeError(errors[type]);\r\n\t}\r\n\r\n\t/**\r\n\t * A generic `Array#map` utility function.\r\n\t * @private\r\n\t * @param {Array} array The array to iterate over.\r\n\t * @param {Function} callback The function that gets called for every array\r\n\t * item.\r\n\t * @returns {Array} A new array of values returned by the callback function.\r\n\t */\r\n\tfunction map(array, fn) {\r\n\t\tvar length = array.length;\r\n\t\tvar result = [];\r\n\t\twhile (length--) {\r\n\t\t\tresult[length] = fn(array[length]);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\t/**\r\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\r\n\t * addresses.\r\n\t * @private\r\n\t * @param {String} domain The domain name or email address.\r\n\t * @param {Function} callback The function that gets called for every\r\n\t * character.\r\n\t * @returns {Array} A new string of characters returned by the callback\r\n\t * function.\r\n\t */\r\n\tfunction mapDomain(string, fn) {\r\n\t\tvar parts = string.split('@');\r\n\t\tvar result = '';\r\n\t\tif (parts.length > 1) {\r\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\r\n\t\t\t// the local part (i.e. everything up to `@`) intact.\r\n\t\t\tresult = parts[0] + '@';\r\n\t\t\tstring = parts[1];\r\n\t\t}\r\n\t\tvar labels = string.split(regexSeparators);\r\n\t\tvar encoded = map(labels, fn).join('.');\r\n\t\treturn result + encoded;\r\n\t}\r\n\r\n\t/**\r\n\t * Creates an array containing the numeric code points of each Unicode\r\n\t * character in the string. While JavaScript uses UCS-2 internally,\r\n\t * this function will convert a pair of surrogate halves (each of which\r\n\t * UCS-2 exposes as separate characters) into a single code point,\r\n\t * matching UTF-16.\r\n\t * @see `punycode.ucs2.encode`\r\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\r\n\t * @memberOf punycode.ucs2\r\n\t * @name decode\r\n\t * @param {String} string The Unicode input string (UCS-2).\r\n\t * @returns {Array} The new array of code points.\r\n\t */\r\n\tfunction ucs2decode(string) {\r\n\t\tvar output = [],\r\n\t\t    counter = 0,\r\n\t\t    length = string.length,\r\n\t\t    value,\r\n\t\t    extra;\r\n\t\twhile (counter < length) {\r\n\t\t\tvalue = string.charCodeAt(counter++);\r\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\r\n\t\t\t\t// high surrogate, and there is a next character\r\n\t\t\t\textra = string.charCodeAt(counter++);\r\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\r\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\r\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\r\n\t\t\t\t\toutput.push(value);\r\n\t\t\t\t\tcounter--;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\toutput.push(value);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn output;\r\n\t}\r\n\r\n\t/**\r\n\t * Creates a string based on an array of numeric code points.\r\n\t * @see `punycode.ucs2.decode`\r\n\t * @memberOf punycode.ucs2\r\n\t * @name encode\r\n\t * @param {Array} codePoints The array of numeric code points.\r\n\t * @returns {String} The new Unicode string (UCS-2).\r\n\t */\r\n\tfunction ucs2encode(array) {\r\n\t\treturn map(array, function(value) {\r\n\t\t\tvar output = '';\r\n\t\t\tif (value > 0xFFFF) {\r\n\t\t\t\tvalue -= 0x10000;\r\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\r\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\r\n\t\t\t}\r\n\t\t\toutput += stringFromCharCode(value);\r\n\t\t\treturn output;\r\n\t\t}).join('');\r\n\t}\r\n\r\n\t/**\r\n\t * Converts a basic code point into a digit/integer.\r\n\t * @see `digitToBasic()`\r\n\t * @private\r\n\t * @param {Number} codePoint The basic numeric code point value.\r\n\t * @returns {Number} The numeric value of a basic code point (for use in\r\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\r\n\t * the code point does not represent a value.\r\n\t */\r\n\tfunction basicToDigit(codePoint) {\r\n\t\tif (codePoint - 48 < 10) {\r\n\t\t\treturn codePoint - 22;\r\n\t\t}\r\n\t\tif (codePoint - 65 < 26) {\r\n\t\t\treturn codePoint - 65;\r\n\t\t}\r\n\t\tif (codePoint - 97 < 26) {\r\n\t\t\treturn codePoint - 97;\r\n\t\t}\r\n\t\treturn base;\r\n\t}\r\n\r\n\t/**\r\n\t * Converts a digit/integer into a basic code point.\r\n\t * @see `basicToDigit()`\r\n\t * @private\r\n\t * @param {Number} digit The numeric value of a basic code point.\r\n\t * @returns {Number} The basic code point whose value (when used for\r\n\t * representing integers) is `digit`, which needs to be in the range\r\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\r\n\t * used; else, the lowercase form is used. The behavior is undefined\r\n\t * if `flag` is non-zero and `digit` has no uppercase form.\r\n\t */\r\n\tfunction digitToBasic(digit, flag) {\r\n\t\t//  0..25 map to ASCII a..z or A..Z\r\n\t\t// 26..35 map to ASCII 0..9\r\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\r\n\t}\r\n\r\n\t/**\r\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\r\n\t * http://tools.ietf.org/html/rfc3492#section-3.4\r\n\t * @private\r\n\t */\r\n\tfunction adapt(delta, numPoints, firstTime) {\r\n\t\tvar k = 0;\r\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\r\n\t\tdelta += floor(delta / numPoints);\r\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\r\n\t\t\tdelta = floor(delta / baseMinusTMin);\r\n\t\t}\r\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\r\n\t}\r\n\r\n\t/**\r\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\r\n\t * symbols.\r\n\t * @memberOf punycode\r\n\t * @param {String} input The Punycode string of ASCII-only symbols.\r\n\t * @returns {String} The resulting string of Unicode symbols.\r\n\t */\r\n\tfunction decode(input) {\r\n\t\t// Don't use UCS-2\r\n\t\tvar output = [],\r\n\t\t    inputLength = input.length,\r\n\t\t    out,\r\n\t\t    i = 0,\r\n\t\t    n = initialN,\r\n\t\t    bias = initialBias,\r\n\t\t    basic,\r\n\t\t    j,\r\n\t\t    index,\r\n\t\t    oldi,\r\n\t\t    w,\r\n\t\t    k,\r\n\t\t    digit,\r\n\t\t    t,\r\n\t\t    /** Cached calculation results */\r\n\t\t    baseMinusT;\r\n\r\n\t\t// Handle the basic code points: let `basic` be the number of input code\r\n\t\t// points before the last delimiter, or `0` if there is none, then copy\r\n\t\t// the first basic code points to the output.\r\n\r\n\t\tbasic = input.lastIndexOf(delimiter);\r\n\t\tif (basic < 0) {\r\n\t\t\tbasic = 0;\r\n\t\t}\r\n\r\n\t\tfor (j = 0; j < basic; ++j) {\r\n\t\t\t// if it's not a basic code point\r\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\r\n\t\t\t\terror('not-basic');\r\n\t\t\t}\r\n\t\t\toutput.push(input.charCodeAt(j));\r\n\t\t}\r\n\r\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\r\n\t\t// points were copied; start at the beginning otherwise.\r\n\r\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\r\n\r\n\t\t\t// `index` is the index of the next character to be consumed.\r\n\t\t\t// Decode a generalized variable-length integer into `delta`,\r\n\t\t\t// which gets added to `i`. The overflow checking is easier\r\n\t\t\t// if we increase `i` as we go, then subtract off its starting\r\n\t\t\t// value at the end to obtain `delta`.\r\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\r\n\r\n\t\t\t\tif (index >= inputLength) {\r\n\t\t\t\t\terror('invalid-input');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\r\n\r\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\r\n\t\t\t\t\terror('overflow');\r\n\t\t\t\t}\r\n\r\n\t\t\t\ti += digit * w;\r\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\r\n\r\n\t\t\t\tif (digit < t) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbaseMinusT = base - t;\r\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\r\n\t\t\t\t\terror('overflow');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tw *= baseMinusT;\r\n\r\n\t\t\t}\r\n\r\n\t\t\tout = output.length + 1;\r\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\r\n\r\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\r\n\t\t\t// incrementing `n` each time, so we'll fix that now:\r\n\t\t\tif (floor(i / out) > maxInt - n) {\r\n\t\t\t\terror('overflow');\r\n\t\t\t}\r\n\r\n\t\t\tn += floor(i / out);\r\n\t\t\ti %= out;\r\n\r\n\t\t\t// Insert `n` at position `i` of the output\r\n\t\t\toutput.splice(i++, 0, n);\r\n\r\n\t\t}\r\n\r\n\t\treturn ucs2encode(output);\r\n\t}\r\n\r\n\t/**\r\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\r\n\t * Punycode string of ASCII-only symbols.\r\n\t * @memberOf punycode\r\n\t * @param {String} input The string of Unicode symbols.\r\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\r\n\t */\r\n\tfunction encode(input) {\r\n\t\tvar n,\r\n\t\t    delta,\r\n\t\t    handledCPCount,\r\n\t\t    basicLength,\r\n\t\t    bias,\r\n\t\t    j,\r\n\t\t    m,\r\n\t\t    q,\r\n\t\t    k,\r\n\t\t    t,\r\n\t\t    currentValue,\r\n\t\t    output = [],\r\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\r\n\t\t    inputLength,\r\n\t\t    /** Cached calculation results */\r\n\t\t    handledCPCountPlusOne,\r\n\t\t    baseMinusT,\r\n\t\t    qMinusT;\r\n\r\n\t\t// Convert the input in UCS-2 to Unicode\r\n\t\tinput = ucs2decode(input);\r\n\r\n\t\t// Cache the length\r\n\t\tinputLength = input.length;\r\n\r\n\t\t// Initialize the state\r\n\t\tn = initialN;\r\n\t\tdelta = 0;\r\n\t\tbias = initialBias;\r\n\r\n\t\t// Handle the basic code points\r\n\t\tfor (j = 0; j < inputLength; ++j) {\r\n\t\t\tcurrentValue = input[j];\r\n\t\t\tif (currentValue < 0x80) {\r\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\thandledCPCount = basicLength = output.length;\r\n\r\n\t\t// `handledCPCount` is the number of code points that have been handled;\r\n\t\t// `basicLength` is the number of basic code points.\r\n\r\n\t\t// Finish the basic string - if it is not empty - with a delimiter\r\n\t\tif (basicLength) {\r\n\t\t\toutput.push(delimiter);\r\n\t\t}\r\n\r\n\t\t// Main encoding loop:\r\n\t\twhile (handledCPCount < inputLength) {\r\n\r\n\t\t\t// All non-basic code points < n have been handled already. Find the next\r\n\t\t\t// larger one:\r\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\r\n\t\t\t\tcurrentValue = input[j];\r\n\t\t\t\tif (currentValue >= n && currentValue < m) {\r\n\t\t\t\t\tm = currentValue;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\r\n\t\t\t// but guard against overflow\r\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\r\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\r\n\t\t\t\terror('overflow');\r\n\t\t\t}\r\n\r\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\r\n\t\t\tn = m;\r\n\r\n\t\t\tfor (j = 0; j < inputLength; ++j) {\r\n\t\t\t\tcurrentValue = input[j];\r\n\r\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\r\n\t\t\t\t\terror('overflow');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (currentValue == n) {\r\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\r\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\r\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\r\n\t\t\t\t\t\tif (q < t) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tqMinusT = q - t;\r\n\t\t\t\t\t\tbaseMinusT = base - t;\r\n\t\t\t\t\t\toutput.push(\r\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\r\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\r\n\t\t\t\t\tdelta = 0;\r\n\t\t\t\t\t++handledCPCount;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t++delta;\r\n\t\t\t++n;\r\n\r\n\t\t}\r\n\t\treturn output.join('');\r\n\t}\r\n\r\n\t/**\r\n\t * Converts a Punycode string representing a domain name or an email address\r\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\r\n\t * it doesn't matter if you call it on a string that has already been\r\n\t * converted to Unicode.\r\n\t * @memberOf punycode\r\n\t * @param {String} input The Punycoded domain name or email address to\r\n\t * convert to Unicode.\r\n\t * @returns {String} The Unicode representation of the given Punycode\r\n\t * string.\r\n\t */\r\n\tfunction toUnicode(input) {\r\n\t\treturn mapDomain(input, function(string) {\r\n\t\t\treturn regexPunycode.test(string)\r\n\t\t\t\t? decode(string.slice(4).toLowerCase())\r\n\t\t\t\t: string;\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Converts a Unicode string representing a domain name or an email address to\r\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\r\n\t * i.e. it doesn't matter if you call it with a domain that's already in\r\n\t * ASCII.\r\n\t * @memberOf punycode\r\n\t * @param {String} input The domain name or email address to convert, as a\r\n\t * Unicode string.\r\n\t * @returns {String} The Punycode representation of the given domain name or\r\n\t * email address.\r\n\t */\r\n\tfunction toASCII(input) {\r\n\t\treturn mapDomain(input, function(string) {\r\n\t\t\treturn regexNonASCII.test(string)\r\n\t\t\t\t? 'xn--' + encode(string)\r\n\t\t\t\t: string;\r\n\t\t});\r\n\t}\r\n\r\n\t/*--------------------------------------------------------------------------*/\r\n\r\n\t/** Define the public API */\r\n\tpunycode = {\r\n\t\t/**\r\n\t\t * A string representing the current Punycode.js version number.\r\n\t\t * @memberOf punycode\r\n\t\t * @type String\r\n\t\t */\r\n\t\t'version': '1.3.1',\r\n\t\t/**\r\n\t\t * An object of methods to convert from JavaScript's internal character\r\n\t\t * representation (UCS-2) to Unicode code points, and back.\r\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\r\n\t\t * @memberOf punycode\r\n\t\t * @type Object\r\n\t\t */\r\n\t\t'ucs2': {\r\n\t\t\t'decode': ucs2decode,\r\n\t\t\t'encode': ucs2encode\r\n\t\t},\r\n\t\t'decode': decode,\r\n\t\t'encode': encode,\r\n\t\t'toASCII': toASCII,\r\n\t\t'toUnicode': toUnicode\r\n\t};\r\n\r\n\t/** Expose `punycode` */\r\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\r\n\t// like the following:\r\n\tif (\r\n\t\ttypeof define == 'function' &&\r\n\t\ttypeof define.amd == 'object' &&\r\n\t\tdefine.amd\r\n\t) {\r\n\t\tdefine('punycode', function() {\r\n\t\t\treturn punycode;\r\n\t\t});\r\n\t} else if (freeExports && freeModule) {\r\n\t\tif (module.exports == freeExports) { // in Node.js or RingoJS v0.8.0+\r\n\t\t\tfreeModule.exports = punycode;\r\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\r\n\t\t\tfor (key in punycode) {\r\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\r\n\t\t\t}\r\n\t\t}\r\n\t} else { // in Rhino or a web browser\r\n\t\troot.punycode = punycode;\r\n\t}\r\n\r\n}(this));\r\n\r\nvar html2canvasNodeAttribute = \"data-html2canvas-node\";\r\nvar html2canvasCanvasCloneAttribute = \"data-html2canvas-canvas-clone\";\r\nvar html2canvasCanvasCloneIndex = 0;\r\nvar html2canvasCloneIndex = 0;\r\n\r\nwindow.html2canvas = function(nodeList, options) {\r\n    var index = html2canvasCloneIndex++;\r\n    options = options || {};\r\n    if (options.logging) {\r\n        window.html2canvas.logging = true;\r\n        window.html2canvas.start = Date.now();\r\n    }\r\n\r\n    options.async = typeof(options.async) === \"undefined\" ? true : options.async;\r\n    options.allowTaint = typeof(options.allowTaint) === \"undefined\" ? false : options.allowTaint;\r\n    options.removeContainer = typeof(options.removeContainer) === \"undefined\" ? true : options.removeContainer;\r\n    options.javascriptEnabled = typeof(options.javascriptEnabled) === \"undefined\" ? false : options.javascriptEnabled;\r\n    options.imageTimeout = typeof(options.imageTimeout) === \"undefined\" ? 10000 : options.imageTimeout;\r\n    options.renderer = typeof(options.renderer) === \"function\" ? options.renderer : CanvasRenderer;\r\n    options.strict = !!options.strict;\r\n\r\n    if (typeof(nodeList) === \"string\") {\r\n        if (typeof(options.proxy) !== \"string\") {\r\n            return Promise.reject(\"Proxy must be used when rendering url\");\r\n        }\r\n        var width = options.width != null ? options.width : window.innerWidth;\r\n        var height = options.height != null ? options.height : window.innerHeight;\r\n        return loadUrlDocument(absoluteUrl(nodeList), options.proxy, document, width, height, options).then(function(container) {\r\n            return renderWindow(container.contentWindow.document.documentElement, container, options, width, height);\r\n        });\r\n    }\r\n\r\n    var node = ((nodeList === undefined) ? [document.documentElement] : ((nodeList.length) ? nodeList : [nodeList]))[0];\r\n    node.setAttribute(html2canvasNodeAttribute + index, index);\r\n    return renderDocument(node.ownerDocument, options, node.ownerDocument.defaultView.innerWidth, node.ownerDocument.defaultView.innerHeight, index).then(function(canvas) {\r\n        if (typeof(options.onrendered) === \"function\") {\r\n            log(\"options.onrendered is deprecated, html2canvas returns a Promise containing the canvas\");\r\n            options.onrendered(canvas);\r\n        }\r\n        return canvas;\r\n    });\r\n};\r\n\r\nwindow.html2canvas.punycode = this.punycode;\r\nwindow.html2canvas.proxy = {};\r\n\r\nfunction renderDocument(document, options, windowWidth, windowHeight, html2canvasIndex) {\r\n    return createWindowClone(document, document, windowWidth, windowHeight, options, document.defaultView.pageXOffset, document.defaultView.pageYOffset).then(function(container) {\r\n        log(\"Document cloned\");\r\n        var attributeName = html2canvasNodeAttribute + html2canvasIndex;\r\n        var selector = \"[\" + attributeName + \"='\" + html2canvasIndex + \"']\";\r\n        document.querySelector(selector).removeAttribute(attributeName);\r\n        var clonedWindow = container.contentWindow;\r\n        var node = clonedWindow.document.querySelector(selector);\r\n        var oncloneHandler = (typeof(options.onclone) === \"function\") ? Promise.resolve(options.onclone(clonedWindow.document)) : Promise.resolve(true);\r\n        return oncloneHandler.then(function() {\r\n            return renderWindow(node, container, options, windowWidth, windowHeight);\r\n        });\r\n    });\r\n}\r\n\r\nfunction renderWindow(node, container, options, windowWidth, windowHeight) {\r\n    var clonedWindow = container.contentWindow;\r\n    var support = new Support(clonedWindow.document);\r\n    var imageLoader = new ImageLoader(options, support);\r\n    var bounds = getBounds(node);\r\n    var width = options.type === \"view\" ? windowWidth : documentWidth(clonedWindow.document);\r\n    var height = options.type === \"view\" ? windowHeight : documentHeight(clonedWindow.document);\r\n    var renderer = new options.renderer(width, height, imageLoader, options, document);\r\n    var parser = new NodeParser(node, renderer, support, imageLoader, options);\r\n    return parser.ready.then(function() {\r\n        log(\"Finished rendering\");\r\n        var canvas;\r\n\r\n        if (options.type === \"view\") {\r\n            canvas = crop(renderer.canvas, {width: renderer.canvas.width, height: renderer.canvas.height, top: 0, left: 0, x: 0, y: 0});\r\n        } else if (node === clonedWindow.document.body || node === clonedWindow.document.documentElement || options.canvas != null) {\r\n            canvas = renderer.canvas;\r\n        } else {\r\n            canvas = crop(renderer.canvas, {width:  options.width != null ? options.width : bounds.width, height: options.height != null ? options.height : bounds.height, top: bounds.top, left: bounds.left, x: clonedWindow.pageXOffset, y: clonedWindow.pageYOffset});\r\n        }\r\n\r\n        cleanupContainer(container, options);\r\n        return canvas;\r\n    });\r\n}\r\n\r\nfunction cleanupContainer(container, options) {\r\n    if (options.removeContainer) {\r\n        container.parentNode.removeChild(container);\r\n        log(\"Cleaned up container\");\r\n    }\r\n}\r\n\r\nfunction crop(canvas, bounds) {\r\n    var croppedCanvas = document.createElement(\"canvas\");\r\n    var x1 = Math.min(canvas.width - 1, Math.max(0, bounds.left));\r\n    var x2 = Math.min(canvas.width, Math.max(1, bounds.left + bounds.width));\r\n    var y1 = Math.min(canvas.height - 1, Math.max(0, bounds.top));\r\n    var y2 = Math.min(canvas.height, Math.max(1, bounds.top + bounds.height));\r\n    croppedCanvas.width = bounds.width;\r\n    croppedCanvas.height =  bounds.height;\r\n    log(\"Cropping canvas at:\", \"left:\", bounds.left, \"top:\", bounds.top, \"width:\", (x2-x1), \"height:\", (y2-y1));\r\n    log(\"Resulting crop with width\", bounds.width, \"and height\", bounds.height, \" with x\", x1, \"and y\", y1);\r\n    croppedCanvas.getContext(\"2d\").drawImage(canvas, x1, y1, x2-x1, y2-y1, bounds.x, bounds.y, x2-x1, y2-y1);\r\n    return croppedCanvas;\r\n}\r\n\r\nfunction documentWidth (doc) {\r\n    return Math.max(\r\n        Math.max(doc.body.scrollWidth, doc.documentElement.scrollWidth),\r\n        Math.max(doc.body.offsetWidth, doc.documentElement.offsetWidth),\r\n        Math.max(doc.body.clientWidth, doc.documentElement.clientWidth)\r\n    );\r\n}\r\n\r\nfunction documentHeight (doc) {\r\n    return Math.max(\r\n        Math.max(doc.body.scrollHeight, doc.documentElement.scrollHeight),\r\n        Math.max(doc.body.offsetHeight, doc.documentElement.offsetHeight),\r\n        Math.max(doc.body.clientHeight, doc.documentElement.clientHeight)\r\n    );\r\n}\r\n\r\nfunction smallImage() {\r\n    return \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\r\n}\r\n\r\nfunction isIE9() {\r\n    return document.documentMode && document.documentMode <= 9;\r\n}\r\n\r\n// https://github.com/niklasvh/html2canvas/issues/503\r\nfunction cloneNodeIE9(node, javascriptEnabled) {\r\n    var clone = node.nodeType === 3 ? document.createTextNode(node.nodeValue) : node.cloneNode(false);\r\n\r\n    var child = node.firstChild;\r\n    while(child) {\r\n        if (javascriptEnabled === true || child.nodeType !== 1 || child.nodeName !== 'SCRIPT') {\r\n            clone.appendChild(cloneNodeIE9(child, javascriptEnabled));\r\n        }\r\n        child = child.nextSibling;\r\n    }\r\n\r\n    return clone;\r\n}\r\n\r\nfunction createWindowClone(ownerDocument, containerDocument, width, height, options, x ,y) {\r\n    labelCanvasElements(ownerDocument);\r\n    var documentElement = isIE9() ? cloneNodeIE9(ownerDocument.documentElement, options.javascriptEnabled) : ownerDocument.documentElement.cloneNode(true);\r\n    var container = containerDocument.createElement(\"iframe\");\r\n\r\n    container.className = \"html2canvas-container\";\r\n    container.style.visibility = \"hidden\";\r\n    container.style.position = \"fixed\";\r\n    container.style.left = \"-10000px\";\r\n    container.style.top = \"0px\";\r\n    container.style.border = \"0\";\r\n    container.width = width;\r\n    container.height = height;\r\n    container.scrolling = \"no\"; // ios won't scroll without it\r\n    containerDocument.body.appendChild(container);\r\n\r\n    return new Promise(function(resolve) {\r\n        var documentClone = container.contentWindow.document;\r\n\r\n        cloneNodeValues(ownerDocument.documentElement, documentElement, \"textarea\");\r\n        cloneNodeValues(ownerDocument.documentElement, documentElement, \"select\");\r\n\r\n        /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\r\n         if window url is about:blank, we can assign the url to current by writing onto the document\r\n         */\r\n        container.contentWindow.onload = container.onload = function() {\r\n            var interval = setInterval(function() {\r\n                if (documentClone.body.childNodes.length > 0) {\r\n                    cloneCanvasContents(ownerDocument, documentClone);\r\n                    clearInterval(interval);\r\n                    if (options.type === \"view\") {\r\n                        container.contentWindow.scrollTo(x, y);\r\n                    }\r\n                    resolve(container);\r\n                }\r\n            }, 50);\r\n        };\r\n\r\n        documentClone.open();\r\n        documentClone.write(\"<!DOCTYPE html><html></html>\");\r\n        // Chrome scrolls the parent document for some reason after the write to the cloned window???\r\n        restoreOwnerScroll(ownerDocument, x, y);\r\n        documentClone.replaceChild(options.javascriptEnabled === true ? documentClone.adoptNode(documentElement) : removeScriptNodes(documentClone.adoptNode(documentElement)), documentClone.documentElement);\r\n        documentClone.close();\r\n    });\r\n}\r\n\r\nfunction cloneNodeValues(document, clone, nodeName) {\r\n    var originalNodes = document.getElementsByTagName(nodeName);\r\n    var clonedNodes = clone.getElementsByTagName(nodeName);\r\n    var count = originalNodes.length;\r\n    for (var i = 0; i < count; i++) {\r\n        clonedNodes[i].value = originalNodes[i].value;\r\n    }\r\n}\r\n\r\nfunction restoreOwnerScroll(ownerDocument, x, y) {\r\n    if (ownerDocument.defaultView && (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {\r\n        ownerDocument.defaultView.scrollTo(x, y);\r\n    }\r\n}\r\n\r\nfunction loadUrlDocument(src, proxy, document, width, height, options) {\r\n    return new Proxy(src, proxy, window.document).then(documentFromHTML(src)).then(function(doc) {\r\n        return createWindowClone(doc, document, width, height, options, 0, 0);\r\n    });\r\n}\r\n\r\nfunction documentFromHTML(src) {\r\n    return function(html) {\r\n        var parser = new DOMParser(), doc;\r\n        try {\r\n            doc = parser.parseFromString(html, \"text/html\");\r\n        } catch(e) {\r\n            log(\"DOMParser not supported, falling back to createHTMLDocument\");\r\n            doc = document.implementation.createHTMLDocument(\"\");\r\n            try {\r\n                doc.open();\r\n                doc.write(html);\r\n                doc.close();\r\n            } catch(ee) {\r\n                log(\"createHTMLDocument write not supported, falling back to document.body.innerHTML\");\r\n                doc.body.innerHTML = html; // ie9 doesnt support writing to documentElement\r\n            }\r\n        }\r\n\r\n        var b = doc.querySelector(\"base\");\r\n        if (!b || !b.href.host) {\r\n            var base = doc.createElement(\"base\");\r\n            base.href = src;\r\n            doc.head.insertBefore(base, doc.head.firstChild);\r\n        }\r\n\r\n        return doc;\r\n    };\r\n}\r\n\r\n\r\nfunction labelCanvasElements(ownerDocument) {\r\n    [].slice.call(ownerDocument.querySelectorAll(\"canvas\"), 0).forEach(function(canvas) {\r\n        canvas.setAttribute(html2canvasCanvasCloneAttribute, \"canvas-\" + html2canvasCanvasCloneIndex++);\r\n    });\r\n}\r\n\r\nfunction cloneCanvasContents(ownerDocument, documentClone) {\r\n    [].slice.call(ownerDocument.querySelectorAll(\"[\" + html2canvasCanvasCloneAttribute + \"]\"), 0).forEach(function(canvas) {\r\n        try {\r\n            var clonedCanvas = documentClone.querySelector('[' + html2canvasCanvasCloneAttribute + '=\"' + canvas.getAttribute(html2canvasCanvasCloneAttribute) + '\"]');\r\n            if (clonedCanvas) {\r\n                clonedCanvas.width = canvas.width;\r\n                clonedCanvas.height = canvas.height;\r\n                clonedCanvas.getContext(\"2d\").putImageData(canvas.getContext(\"2d\").getImageData(0, 0, canvas.width, canvas.height), 0, 0);\r\n            }\r\n        } catch(e) {\r\n            log(\"Unable to copy canvas content from\", canvas, e);\r\n        }\r\n        canvas.removeAttribute(html2canvasCanvasCloneAttribute);\r\n    });\r\n}\r\n\r\nfunction removeScriptNodes(parent) {\r\n    [].slice.call(parent.childNodes, 0).filter(isElementNode).forEach(function(node) {\r\n        if (node.tagName === \"SCRIPT\") {\r\n            parent.removeChild(node);\r\n        } else {\r\n            removeScriptNodes(node);\r\n        }\r\n    });\r\n    return parent;\r\n}\r\n\r\nfunction isElementNode(node) {\r\n    return node.nodeType === Node.ELEMENT_NODE;\r\n}\r\n\r\nfunction absoluteUrl(url) {\r\n    var link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.href = link.href;\r\n    return link;\r\n}\r\n\r\n// http://dev.w3.org/csswg/css-color/\r\n\r\nfunction Color(value) {\r\n    this.r = 0;\r\n    this.g = 0;\r\n    this.b = 0;\r\n    this.a = null;\r\n    var result = this.fromArray(value) ||\r\n        this.namedColor(value) ||\r\n        this.rgb(value) ||\r\n        this.rgba(value) ||\r\n        this.hex6(value) ||\r\n        this.hex3(value);\r\n}\r\n\r\nColor.prototype.darken = function(amount) {\r\n    var a = 1 - amount;\r\n    return  new Color([\r\n        Math.round(this.r * a),\r\n        Math.round(this.g * a),\r\n        Math.round(this.b * a),\r\n        this.a\r\n    ]);\r\n};\r\n\r\nColor.prototype.isTransparent = function() {\r\n    return this.a === 0;\r\n};\r\n\r\nColor.prototype.isBlack = function() {\r\n    return this.r === 0 && this.g === 0 && this.b === 0;\r\n};\r\n\r\nColor.prototype.fromArray = function(array) {\r\n    if (Array.isArray(array)) {\r\n        this.r = Math.min(array[0], 255);\r\n        this.g = Math.min(array[1], 255);\r\n        this.b = Math.min(array[2], 255);\r\n        if (array.length > 3) {\r\n            this.a = array[3];\r\n        }\r\n    }\r\n\r\n    return (Array.isArray(array));\r\n};\r\n\r\nvar _hex3 = /^#([a-f0-9]{3})$/i;\r\n\r\nColor.prototype.hex3 = function(value) {\r\n    var match = null;\r\n    if ((match = value.match(_hex3)) !== null) {\r\n        this.r = parseInt(match[1][0] + match[1][0], 16);\r\n        this.g = parseInt(match[1][1] + match[1][1], 16);\r\n        this.b = parseInt(match[1][2] + match[1][2], 16);\r\n    }\r\n    return match !== null;\r\n};\r\n\r\nvar _hex6 = /^#([a-f0-9]{6})$/i;\r\n\r\nColor.prototype.hex6 = function(value) {\r\n    var match = null;\r\n    if ((match = value.match(_hex6)) !== null) {\r\n        this.r = parseInt(match[1].substring(0, 2), 16);\r\n        this.g = parseInt(match[1].substring(2, 4), 16);\r\n        this.b = parseInt(match[1].substring(4, 6), 16);\r\n    }\r\n    return match !== null;\r\n};\r\n\r\n\r\nvar _rgb = /^rgb\\((\\d{1,3}) *, *(\\d{1,3}) *, *(\\d{1,3})\\)$/;\r\n\r\nColor.prototype.rgb = function(value) {\r\n    var match = null;\r\n    if ((match = value.match(_rgb)) !== null) {\r\n        this.r = Number(match[1]);\r\n        this.g = Number(match[2]);\r\n        this.b = Number(match[3]);\r\n    }\r\n    return match !== null;\r\n};\r\n\r\nvar _rgba = /^rgba\\((\\d{1,3}) *, *(\\d{1,3}) *, *(\\d{1,3}) *, *(\\d+\\.?\\d*)\\)$/;\r\n\r\nColor.prototype.rgba = function(value) {\r\n    var match = null;\r\n    if ((match = value.match(_rgba)) !== null) {\r\n        this.r = Number(match[1]);\r\n        this.g = Number(match[2]);\r\n        this.b = Number(match[3]);\r\n        this.a = Number(match[4]);\r\n    }\r\n    return match !== null;\r\n};\r\n\r\nColor.prototype.toString = function() {\r\n    return this.a !== null && this.a !== 1 ?\r\n    \"rgba(\" + [this.r, this.g, this.b, this.a].join(\",\") + \")\" :\r\n    \"rgb(\" + [this.r, this.g, this.b].join(\",\") + \")\";\r\n};\r\n\r\nColor.prototype.namedColor = function(value) {\r\n    var color = colors[value.toLowerCase()];\r\n    if (color) {\r\n        this.r = color[0];\r\n        this.g = color[1];\r\n        this.b = color[2];\r\n    } else if (value.toLowerCase() === \"transparent\") {\r\n        this.r = this.g = this.b = this.a = 0;\r\n        return true;\r\n    }\r\n\r\n    return !!color;\r\n};\r\n\r\nColor.prototype.isColor = true;\r\n\r\n// JSON.stringify([].slice.call($$('.named-color-table tr'), 1).map(function(row) { return [row.childNodes[3].textContent, row.childNodes[5].textContent.trim().split(\",\").map(Number)] }).reduce(function(data, row) {data[row[0]] = row[1]; return data}, {}))\r\nvar colors = {\r\n    \"aliceblue\": [240, 248, 255],\r\n    \"antiquewhite\": [250, 235, 215],\r\n    \"aqua\": [0, 255, 255],\r\n    \"aquamarine\": [127, 255, 212],\r\n    \"azure\": [240, 255, 255],\r\n    \"beige\": [245, 245, 220],\r\n    \"bisque\": [255, 228, 196],\r\n    \"black\": [0, 0, 0],\r\n    \"blanchedalmond\": [255, 235, 205],\r\n    \"blue\": [0, 0, 255],\r\n    \"blueviolet\": [138, 43, 226],\r\n    \"brown\": [165, 42, 42],\r\n    \"burlywood\": [222, 184, 135],\r\n    \"cadetblue\": [95, 158, 160],\r\n    \"chartreuse\": [127, 255, 0],\r\n    \"chocolate\": [210, 105, 30],\r\n    \"coral\": [255, 127, 80],\r\n    \"cornflowerblue\": [100, 149, 237],\r\n    \"cornsilk\": [255, 248, 220],\r\n    \"crimson\": [220, 20, 60],\r\n    \"cyan\": [0, 255, 255],\r\n    \"darkblue\": [0, 0, 139],\r\n    \"darkcyan\": [0, 139, 139],\r\n    \"darkgoldenrod\": [184, 134, 11],\r\n    \"darkgray\": [169, 169, 169],\r\n    \"darkgreen\": [0, 100, 0],\r\n    \"darkgrey\": [169, 169, 169],\r\n    \"darkkhaki\": [189, 183, 107],\r\n    \"darkmagenta\": [139, 0, 139],\r\n    \"darkolivegreen\": [85, 107, 47],\r\n    \"darkorange\": [255, 140, 0],\r\n    \"darkorchid\": [153, 50, 204],\r\n    \"darkred\": [139, 0, 0],\r\n    \"darksalmon\": [233, 150, 122],\r\n    \"darkseagreen\": [143, 188, 143],\r\n    \"darkslateblue\": [72, 61, 139],\r\n    \"darkslategray\": [47, 79, 79],\r\n    \"darkslategrey\": [47, 79, 79],\r\n    \"darkturquoise\": [0, 206, 209],\r\n    \"darkviolet\": [148, 0, 211],\r\n    \"deeppink\": [255, 20, 147],\r\n    \"deepskyblue\": [0, 191, 255],\r\n    \"dimgray\": [105, 105, 105],\r\n    \"dimgrey\": [105, 105, 105],\r\n    \"dodgerblue\": [30, 144, 255],\r\n    \"firebrick\": [178, 34, 34],\r\n    \"floralwhite\": [255, 250, 240],\r\n    \"forestgreen\": [34, 139, 34],\r\n    \"fuchsia\": [255, 0, 255],\r\n    \"gainsboro\": [220, 220, 220],\r\n    \"ghostwhite\": [248, 248, 255],\r\n    \"gold\": [255, 215, 0],\r\n    \"goldenrod\": [218, 165, 32],\r\n    \"gray\": [128, 128, 128],\r\n    \"green\": [0, 128, 0],\r\n    \"greenyellow\": [173, 255, 47],\r\n    \"grey\": [128, 128, 128],\r\n    \"honeydew\": [240, 255, 240],\r\n    \"hotpink\": [255, 105, 180],\r\n    \"indianred\": [205, 92, 92],\r\n    \"indigo\": [75, 0, 130],\r\n    \"ivory\": [255, 255, 240],\r\n    \"khaki\": [240, 230, 140],\r\n    \"lavender\": [230, 230, 250],\r\n    \"lavenderblush\": [255, 240, 245],\r\n    \"lawngreen\": [124, 252, 0],\r\n    \"lemonchiffon\": [255, 250, 205],\r\n    \"lightblue\": [173, 216, 230],\r\n    \"lightcoral\": [240, 128, 128],\r\n    \"lightcyan\": [224, 255, 255],\r\n    \"lightgoldenrodyellow\": [250, 250, 210],\r\n    \"lightgray\": [211, 211, 211],\r\n    \"lightgreen\": [144, 238, 144],\r\n    \"lightgrey\": [211, 211, 211],\r\n    \"lightpink\": [255, 182, 193],\r\n    \"lightsalmon\": [255, 160, 122],\r\n    \"lightseagreen\": [32, 178, 170],\r\n    \"lightskyblue\": [135, 206, 250],\r\n    \"lightslategray\": [119, 136, 153],\r\n    \"lightslategrey\": [119, 136, 153],\r\n    \"lightsteelblue\": [176, 196, 222],\r\n    \"lightyellow\": [255, 255, 224],\r\n    \"lime\": [0, 255, 0],\r\n    \"limegreen\": [50, 205, 50],\r\n    \"linen\": [250, 240, 230],\r\n    \"magenta\": [255, 0, 255],\r\n    \"maroon\": [128, 0, 0],\r\n    \"mediumaquamarine\": [102, 205, 170],\r\n    \"mediumblue\": [0, 0, 205],\r\n    \"mediumorchid\": [186, 85, 211],\r\n    \"mediumpurple\": [147, 112, 219],\r\n    \"mediumseagreen\": [60, 179, 113],\r\n    \"mediumslateblue\": [123, 104, 238],\r\n    \"mediumspringgreen\": [0, 250, 154],\r\n    \"mediumturquoise\": [72, 209, 204],\r\n    \"mediumvioletred\": [199, 21, 133],\r\n    \"midnightblue\": [25, 25, 112],\r\n    \"mintcream\": [245, 255, 250],\r\n    \"mistyrose\": [255, 228, 225],\r\n    \"moccasin\": [255, 228, 181],\r\n    \"navajowhite\": [255, 222, 173],\r\n    \"navy\": [0, 0, 128],\r\n    \"oldlace\": [253, 245, 230],\r\n    \"olive\": [128, 128, 0],\r\n    \"olivedrab\": [107, 142, 35],\r\n    \"orange\": [255, 165, 0],\r\n    \"orangered\": [255, 69, 0],\r\n    \"orchid\": [218, 112, 214],\r\n    \"palegoldenrod\": [238, 232, 170],\r\n    \"palegreen\": [152, 251, 152],\r\n    \"paleturquoise\": [175, 238, 238],\r\n    \"palevioletred\": [219, 112, 147],\r\n    \"papayawhip\": [255, 239, 213],\r\n    \"peachpuff\": [255, 218, 185],\r\n    \"peru\": [205, 133, 63],\r\n    \"pink\": [255, 192, 203],\r\n    \"plum\": [221, 160, 221],\r\n    \"powderblue\": [176, 224, 230],\r\n    \"purple\": [128, 0, 128],\r\n    \"rebeccapurple\": [102, 51, 153],\r\n    \"red\": [255, 0, 0],\r\n    \"rosybrown\": [188, 143, 143],\r\n    \"royalblue\": [65, 105, 225],\r\n    \"saddlebrown\": [139, 69, 19],\r\n    \"salmon\": [250, 128, 114],\r\n    \"sandybrown\": [244, 164, 96],\r\n    \"seagreen\": [46, 139, 87],\r\n    \"seashell\": [255, 245, 238],\r\n    \"sienna\": [160, 82, 45],\r\n    \"silver\": [192, 192, 192],\r\n    \"skyblue\": [135, 206, 235],\r\n    \"slateblue\": [106, 90, 205],\r\n    \"slategray\": [112, 128, 144],\r\n    \"slategrey\": [112, 128, 144],\r\n    \"snow\": [255, 250, 250],\r\n    \"springgreen\": [0, 255, 127],\r\n    \"steelblue\": [70, 130, 180],\r\n    \"tan\": [210, 180, 140],\r\n    \"teal\": [0, 128, 128],\r\n    \"thistle\": [216, 191, 216],\r\n    \"tomato\": [255, 99, 71],\r\n    \"turquoise\": [64, 224, 208],\r\n    \"violet\": [238, 130, 238],\r\n    \"wheat\": [245, 222, 179],\r\n    \"white\": [255, 255, 255],\r\n    \"whitesmoke\": [245, 245, 245],\r\n    \"yellow\": [255, 255, 0],\r\n    \"yellowgreen\": [154, 205, 50]\r\n};\r\n\r\n\r\nfunction DummyImageContainer(src) {\r\n    this.src = src;\r\n    log(\"DummyImageContainer for\", src);\r\n    if (!this.promise || !this.image) {\r\n        log(\"Initiating DummyImageContainer\");\r\n        DummyImageContainer.prototype.image = new Image();\r\n        var image = this.image;\r\n        DummyImageContainer.prototype.promise = new Promise(function(resolve, reject) {\r\n            image.onload = resolve;\r\n            image.onerror = reject;\r\n            image.src = smallImage();\r\n            if (image.complete === true) {\r\n                resolve(image);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nfunction Font(family, size) {\r\n    var container = document.createElement('div'),\r\n        img = document.createElement('img'),\r\n        span = document.createElement('span'),\r\n        sampleText = 'Hidden Text',\r\n        baseline,\r\n        middle;\r\n\r\n    container.style.visibility = \"hidden\";\r\n    container.style.fontFamily = family;\r\n    container.style.fontSize = size;\r\n    container.style.margin = 0;\r\n    container.style.padding = 0;\r\n\r\n    document.body.appendChild(container);\r\n\r\n    img.src = smallImage();\r\n    img.width = 1;\r\n    img.height = 1;\r\n\r\n    img.style.margin = 0;\r\n    img.style.padding = 0;\r\n    img.style.verticalAlign = \"baseline\";\r\n\r\n    span.style.fontFamily = family;\r\n    span.style.fontSize = size;\r\n    span.style.margin = 0;\r\n    span.style.padding = 0;\r\n\r\n    span.appendChild(document.createTextNode(sampleText));\r\n    container.appendChild(span);\r\n    container.appendChild(img);\r\n    baseline = (img.offsetTop - span.offsetTop) + 1;\r\n\r\n    container.removeChild(span);\r\n    container.appendChild(document.createTextNode(sampleText));\r\n\r\n    container.style.lineHeight = \"normal\";\r\n    img.style.verticalAlign = \"super\";\r\n\r\n    middle = (img.offsetTop-container.offsetTop) + 1;\r\n\r\n    document.body.removeChild(container);\r\n\r\n    this.baseline = baseline;\r\n    this.lineWidth = 1;\r\n    this.middle = middle;\r\n}\r\n\r\nfunction FontMetrics() {\r\n    this.data = {};\r\n}\r\n\r\nFontMetrics.prototype.getMetrics = function(family, size) {\r\n    if (this.data[family + \"-\" + size] === undefined) {\r\n        this.data[family + \"-\" + size] = new Font(family, size);\r\n    }\r\n    return this.data[family + \"-\" + size];\r\n};\r\n\r\nfunction FrameContainer(container, sameOrigin, options) {\r\n    this.image = null;\r\n    this.src = container;\r\n    var self = this;\r\n    var bounds = getBounds(container);\r\n    this.promise = (!sameOrigin ? this.proxyLoad(options.proxy, bounds, options) : new Promise(function(resolve) {\r\n        if (container.contentWindow.document.URL === \"about:blank\" || container.contentWindow.document.documentElement == null) {\r\n            container.contentWindow.onload = container.onload = function() {\r\n                resolve(container);\r\n            };\r\n        } else {\r\n            resolve(container);\r\n        }\r\n    })).then(function(container) {\r\n        return html2canvas(container.contentWindow.document.documentElement, {type: 'view', width: container.width, height: container.height, proxy: options.proxy, javascriptEnabled: options.javascriptEnabled, removeContainer: options.removeContainer, allowTaint: options.allowTaint, imageTimeout: options.imageTimeout / 2});\r\n    }).then(function(canvas) {\r\n        return self.image = canvas;\r\n    });\r\n}\r\n\r\nFrameContainer.prototype.proxyLoad = function(proxy, bounds, options) {\r\n    var container = this.src;\r\n    return loadUrlDocument(container.src, proxy, container.ownerDocument, bounds.width, bounds.height, options);\r\n};\r\n\r\nfunction GradientContainer(imageData) {\r\n    this.src = imageData.value;\r\n    this.colorStops = [];\r\n    this.type = null;\r\n    this.x0 = 0.5;\r\n    this.y0 = 0.5;\r\n    this.x1 = 0.5;\r\n    this.y1 = 0.5;\r\n    this.promise = Promise.resolve(true);\r\n}\r\n\r\nGradientContainer.prototype.TYPES = {\r\n    LINEAR: 1,\r\n    RADIAL: 2\r\n};\r\n\r\nfunction ImageContainer(src, cors) {\r\n    this.src = src;\r\n    this.image = new Image();\r\n    var self = this;\r\n    this.tainted = null;\r\n    this.promise = new Promise(function(resolve, reject) {\r\n        self.image.onload = resolve;\r\n        self.image.onerror = reject;\r\n        if (cors) {\r\n            self.image.crossOrigin = \"anonymous\";\r\n        }\r\n        self.image.src = src;\r\n        if (self.image.complete === true) {\r\n            resolve(self.image);\r\n        }\r\n    });\r\n}\r\n\r\nfunction ImageLoader(options, support) {\r\n    this.link = null;\r\n    this.options = options;\r\n    this.support = support;\r\n    this.origin = this.getOrigin(window.location.href);\r\n}\r\n\r\nImageLoader.prototype.findImages = function(nodes) {\r\n    var images = [];\r\n    nodes.reduce(function(imageNodes, container) {\r\n        switch(container.node.nodeName) {\r\n        case \"IMG\":\r\n            return imageNodes.concat([{\r\n                args: [container.node.src],\r\n                method: \"url\"\r\n            }]);\r\n        case \"svg\":\r\n        case \"IFRAME\":\r\n            return imageNodes.concat([{\r\n                args: [container.node],\r\n                method: container.node.nodeName\r\n            }]);\r\n        }\r\n        return imageNodes;\r\n    }, []).forEach(this.addImage(images, this.loadImage), this);\r\n    return images;\r\n};\r\n\r\nImageLoader.prototype.findBackgroundImage = function(images, container) {\r\n    container.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(images, this.loadImage), this);\r\n    return images;\r\n};\r\n\r\nImageLoader.prototype.addImage = function(images, callback) {\r\n    return function(newImage) {\r\n        newImage.args.forEach(function(image) {\r\n            if (!this.imageExists(images, image)) {\r\n                images.splice(0, 0, callback.call(this, newImage));\r\n                log('Added image #' + (images.length), typeof(image) === \"string\" ? image.substring(0, 100) : image);\r\n            }\r\n        }, this);\r\n    };\r\n};\r\n\r\nImageLoader.prototype.hasImageBackground = function(imageData) {\r\n    return imageData.method !== \"none\";\r\n};\r\n\r\nImageLoader.prototype.loadImage = function(imageData) {\r\n    if (imageData.method === \"url\") {\r\n        var src = imageData.args[0];\r\n        if (this.isSVG(src) && !this.support.svg && !this.options.allowTaint) {\r\n            return new SVGContainer(src);\r\n        } else if (src.match(/data:image\\/.*;base64,/i)) {\r\n            return new ImageContainer(src.replace(/url\\(['\"]{0,}|['\"]{0,}\\)$/ig, ''), false);\r\n        } else if (this.isSameOrigin(src) || this.options.allowTaint === true || this.isSVG(src)) {\r\n            return new ImageContainer(src, false);\r\n        } else if (this.support.cors && !this.options.allowTaint && this.options.useCORS) {\r\n            return new ImageContainer(src, true);\r\n        } else if (this.options.proxy) {\r\n            return new ProxyImageContainer(src, this.options.proxy);\r\n        } else {\r\n            return new DummyImageContainer(src);\r\n        }\r\n    } else if (imageData.method === \"linear-gradient\") {\r\n        return new LinearGradientContainer(imageData);\r\n    } else if (imageData.method === \"gradient\") {\r\n        return new WebkitGradientContainer(imageData);\r\n    } else if (imageData.method === \"svg\") {\r\n        return new SVGNodeContainer(imageData.args[0], this.support.svg);\r\n    } else if (imageData.method === \"IFRAME\") {\r\n        return new FrameContainer(imageData.args[0], this.isSameOrigin(imageData.args[0].src), this.options);\r\n    } else {\r\n        return new DummyImageContainer(imageData);\r\n    }\r\n};\r\n\r\nImageLoader.prototype.isSVG = function(src) {\r\n    return src.substring(src.length - 3).toLowerCase() === \"svg\" || SVGContainer.prototype.isInline(src);\r\n};\r\n\r\nImageLoader.prototype.imageExists = function(images, src) {\r\n    return images.some(function(image) {\r\n        return image.src === src;\r\n    });\r\n};\r\n\r\nImageLoader.prototype.isSameOrigin = function(url) {\r\n    return (this.getOrigin(url) === this.origin);\r\n};\r\n\r\nImageLoader.prototype.getOrigin = function(url) {\r\n    var link = this.link || (this.link = document.createElement(\"a\"));\r\n    link.href = url;\r\n    link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\r\n    return link.protocol + link.hostname + link.port;\r\n};\r\n\r\nImageLoader.prototype.getPromise = function(container) {\r\n    return this.timeout(container, this.options.imageTimeout)['catch'](function() {\r\n        var dummy = new DummyImageContainer(container.src);\r\n        return dummy.promise.then(function(image) {\r\n            container.image = image;\r\n        });\r\n    });\r\n};\r\n\r\nImageLoader.prototype.get = function(src) {\r\n    var found = null;\r\n    return this.images.some(function(img) {\r\n        return (found = img).src === src;\r\n    }) ? found : null;\r\n};\r\n\r\nImageLoader.prototype.fetch = function(nodes) {\r\n    this.images = nodes.reduce(bind(this.findBackgroundImage, this), this.findImages(nodes));\r\n    this.images.forEach(function(image, index) {\r\n        image.promise.then(function() {\r\n            log(\"Succesfully loaded image #\"+ (index+1), image);\r\n        }, function(e) {\r\n            log(\"Failed loading image #\"+ (index+1), image, e);\r\n        });\r\n    });\r\n    this.ready = Promise.all(this.images.map(this.getPromise, this));\r\n    log(\"Finished searching images\");\r\n    return this;\r\n};\r\n\r\nImageLoader.prototype.timeout = function(container, timeout) {\r\n    var timer;\r\n    var promise = Promise.race([container.promise, new Promise(function(res, reject) {\r\n        timer = setTimeout(function() {\r\n            log(\"Timed out loading image\", container);\r\n            reject(container);\r\n        }, timeout);\r\n    })]).then(function(container) {\r\n        clearTimeout(timer);\r\n        return container;\r\n    });\r\n    promise['catch'](function() {\r\n        clearTimeout(timer);\r\n    });\r\n    return promise;\r\n};\r\n\r\nfunction LinearGradientContainer(imageData) {\r\n    GradientContainer.apply(this, arguments);\r\n    this.type = this.TYPES.LINEAR;\r\n\r\n    var hasDirection = imageData.args[0].match(this.stepRegExp) === null;\r\n\r\n    if (hasDirection) {\r\n        imageData.args[0].split(\" \").reverse().forEach(function(position) {\r\n            switch(position) {\r\n            case \"left\":\r\n                this.x0 = 0;\r\n                this.x1 = 1;\r\n                break;\r\n            case \"top\":\r\n                this.y0 = 0;\r\n                this.y1 = 1;\r\n                break;\r\n            case \"right\":\r\n                this.x0 = 1;\r\n                this.x1 = 0;\r\n                break;\r\n            case \"bottom\":\r\n                this.y0 = 1;\r\n                this.y1 = 0;\r\n                break;\r\n            case \"to\":\r\n                var y0 = this.y0;\r\n                var x0 = this.x0;\r\n                this.y0 = this.y1;\r\n                this.x0 = this.x1;\r\n                this.x1 = x0;\r\n                this.y1 = y0;\r\n                break;\r\n            }\r\n        }, this);\r\n    } else {\r\n        this.y0 = 0;\r\n        this.y1 = 1;\r\n    }\r\n\r\n    this.colorStops = imageData.args.slice(hasDirection ? 1 : 0).map(function(colorStop) {\r\n        var colorStopMatch = colorStop.match(this.stepRegExp);\r\n        return {\r\n            color: new Color(colorStopMatch[1]),\r\n            stop: colorStopMatch[3] === \"%\" ? colorStopMatch[2] / 100 : null\r\n        };\r\n    }, this);\r\n\r\n    if (this.colorStops[0].stop === null) {\r\n        this.colorStops[0].stop = 0;\r\n    }\r\n\r\n    if (this.colorStops[this.colorStops.length - 1].stop === null) {\r\n        this.colorStops[this.colorStops.length - 1].stop = 1;\r\n    }\r\n\r\n    this.colorStops.forEach(function(colorStop, index) {\r\n        if (colorStop.stop === null) {\r\n            this.colorStops.slice(index).some(function(find, count) {\r\n                if (find.stop !== null) {\r\n                    colorStop.stop = ((find.stop - this.colorStops[index - 1].stop) / (count + 1)) + this.colorStops[index - 1].stop;\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }, this);\r\n        }\r\n    }, this);\r\n}\r\n\r\nLinearGradientContainer.prototype = Object.create(GradientContainer.prototype);\r\n\r\nLinearGradientContainer.prototype.stepRegExp = /((?:rgb|rgba)\\(\\d{1,3},\\s\\d{1,3},\\s\\d{1,3}(?:,\\s[0-9\\.]+)?\\))\\s*(\\d{1,3})?(%|px)?/;\r\n\r\nfunction log() {\r\n    if (window.html2canvas.logging && window.console && window.console.log) {\r\n        Function.prototype.bind.call(window.console.log, (window.console)).apply(window.console, [(Date.now() - window.html2canvas.start) + \"ms\", \"html2canvas:\"].concat([].slice.call(arguments, 0)));\r\n    }\r\n}\r\n\r\nfunction NodeContainer(node, parent) {\r\n    this.node = node;\r\n    this.parent = parent;\r\n    this.stack = null;\r\n    this.bounds = null;\r\n    this.borders = null;\r\n    this.clip = [];\r\n    this.backgroundClip = [];\r\n    this.offsetBounds = null;\r\n    this.visible = null;\r\n    this.computedStyles = null;\r\n    this.colors = {};\r\n    this.styles = {};\r\n    this.backgroundImages = null;\r\n    this.transformData = null;\r\n    this.transformMatrix = null;\r\n    this.isPseudoElement = false;\r\n    this.opacity = null;\r\n}\r\n\r\nNodeContainer.prototype.cloneTo = function(stack) {\r\n    stack.visible = this.visible;\r\n    stack.borders = this.borders;\r\n    stack.bounds = this.bounds;\r\n    stack.clip = this.clip;\r\n    stack.backgroundClip = this.backgroundClip;\r\n    stack.computedStyles = this.computedStyles;\r\n    stack.styles = this.styles;\r\n    stack.backgroundImages = this.backgroundImages;\r\n    stack.opacity = this.opacity;\r\n};\r\n\r\nNodeContainer.prototype.getOpacity = function() {\r\n    return this.opacity === null ? (this.opacity = this.cssFloat('opacity')) : this.opacity;\r\n};\r\n\r\nNodeContainer.prototype.assignStack = function(stack) {\r\n    this.stack = stack;\r\n    stack.children.push(this);\r\n};\r\n\r\nNodeContainer.prototype.isElementVisible = function() {\r\n    return this.node.nodeType === Node.TEXT_NODE ? this.parent.visible : (\r\n        this.css('display') !== \"none\" &&\r\n        this.css('visibility') !== \"hidden\" &&\r\n        !this.node.hasAttribute(\"data-html2canvas-ignore\") &&\r\n        (this.node.nodeName !== \"INPUT\" || this.node.getAttribute(\"type\") !== \"hidden\")\r\n    );\r\n};\r\n\r\nNodeContainer.prototype.css = function(attribute) {\r\n    if (!this.computedStyles) {\r\n        this.computedStyles = this.isPseudoElement ? this.parent.computedStyle(this.before ? \":before\" : \":after\") : this.computedStyle(null);\r\n    }\r\n\r\n    return this.styles[attribute] || (this.styles[attribute] = this.computedStyles[attribute]);\r\n};\r\n\r\nNodeContainer.prototype.prefixedCss = function(attribute) {\r\n    var prefixes = [\"webkit\", \"moz\", \"ms\", \"o\"];\r\n    var value = this.css(attribute);\r\n    if (value === undefined) {\r\n        prefixes.some(function(prefix) {\r\n            value = this.css(prefix + attribute.substr(0, 1).toUpperCase() + attribute.substr(1));\r\n            return value !== undefined;\r\n        }, this);\r\n    }\r\n    return value === undefined ? null : value;\r\n};\r\n\r\nNodeContainer.prototype.computedStyle = function(type) {\r\n    return this.node.ownerDocument.defaultView.getComputedStyle(this.node, type);\r\n};\r\n\r\nNodeContainer.prototype.cssInt = function(attribute) {\r\n    var value = parseInt(this.css(attribute), 10);\r\n    return (isNaN(value)) ? 0 : value; // borders in old IE are throwing 'medium' for demo.html\r\n};\r\n\r\nNodeContainer.prototype.color = function(attribute) {\r\n    return this.colors[attribute] || (this.colors[attribute] = new Color(this.css(attribute)));\r\n};\r\n\r\nNodeContainer.prototype.cssFloat = function(attribute) {\r\n    var value = parseFloat(this.css(attribute));\r\n    return (isNaN(value)) ? 0 : value;\r\n};\r\n\r\nNodeContainer.prototype.fontWeight = function() {\r\n    var weight = this.css(\"fontWeight\");\r\n    switch(parseInt(weight, 10)){\r\n    case 401:\r\n        weight = \"bold\";\r\n        break;\r\n    case 400:\r\n        weight = \"normal\";\r\n        break;\r\n    }\r\n    return weight;\r\n};\r\n\r\nNodeContainer.prototype.parseClip = function() {\r\n    var matches = this.css('clip').match(this.CLIP);\r\n    if (matches) {\r\n        return {\r\n            top: parseInt(matches[1], 10),\r\n            right: parseInt(matches[2], 10),\r\n            bottom: parseInt(matches[3], 10),\r\n            left: parseInt(matches[4], 10)\r\n        };\r\n    }\r\n    return null;\r\n};\r\n\r\nNodeContainer.prototype.parseBackgroundImages = function() {\r\n    return this.backgroundImages || (this.backgroundImages = parseBackgrounds(this.css(\"backgroundImage\")));\r\n};\r\n\r\nNodeContainer.prototype.cssList = function(property, index) {\r\n    var value = (this.css(property) || '').split(',');\r\n    value = value[index || 0] || value[0] || 'auto';\r\n    value = value.trim().split(' ');\r\n    if (value.length === 1) {\r\n        value = [value[0], value[0]];\r\n    }\r\n    return value;\r\n};\r\n\r\nNodeContainer.prototype.parseBackgroundSize = function(bounds, image, index) {\r\n    var size = this.cssList(\"backgroundSize\", index);\r\n    var width, height;\r\n\r\n    if (isPercentage(size[0])) {\r\n        width = bounds.width * parseFloat(size[0]) / 100;\r\n    } else if (/contain|cover/.test(size[0])) {\r\n        var targetRatio = bounds.width / bounds.height, currentRatio = image.width / image.height;\r\n        return (targetRatio < currentRatio ^ size[0] === 'contain') ?  {width: bounds.height * currentRatio, height: bounds.height} : {width: bounds.width, height: bounds.width / currentRatio};\r\n    } else {\r\n        width = parseInt(size[0], 10);\r\n    }\r\n\r\n    if (size[0] === 'auto' && size[1] === 'auto') {\r\n        height = image.height;\r\n    } else if (size[1] === 'auto') {\r\n        height = width / image.width * image.height;\r\n    } else if (isPercentage(size[1])) {\r\n        height =  bounds.height * parseFloat(size[1]) / 100;\r\n    } else {\r\n        height = parseInt(size[1], 10);\r\n    }\r\n\r\n    if (size[0] === 'auto') {\r\n        width = height / image.height * image.width;\r\n    }\r\n\r\n    return {width: width, height: height};\r\n};\r\n\r\nNodeContainer.prototype.parseBackgroundPosition = function(bounds, image, index, backgroundSize) {\r\n    var position = this.cssList('backgroundPosition', index);\r\n    var left, top;\r\n\r\n    if (isPercentage(position[0])){\r\n        left = (bounds.width - (backgroundSize || image).width) * (parseFloat(position[0]) / 100);\r\n    } else {\r\n        left = parseInt(position[0], 10);\r\n    }\r\n\r\n    if (position[1] === 'auto') {\r\n        top = left / image.width * image.height;\r\n    } else if (isPercentage(position[1])){\r\n        top =  (bounds.height - (backgroundSize || image).height) * parseFloat(position[1]) / 100;\r\n    } else {\r\n        top = parseInt(position[1], 10);\r\n    }\r\n\r\n    if (position[0] === 'auto') {\r\n        left = top / image.height * image.width;\r\n    }\r\n\r\n    return {left: left, top: top};\r\n};\r\n\r\nNodeContainer.prototype.parseBackgroundRepeat = function(index) {\r\n    return this.cssList(\"backgroundRepeat\", index)[0];\r\n};\r\n\r\nNodeContainer.prototype.parseTextShadows = function() {\r\n    var textShadow = this.css(\"textShadow\");\r\n    var results = [];\r\n\r\n    if (textShadow && textShadow !== 'none') {\r\n        var shadows = textShadow.match(this.TEXT_SHADOW_PROPERTY);\r\n        for (var i = 0; shadows && (i < shadows.length); i++) {\r\n            var s = shadows[i].match(this.TEXT_SHADOW_VALUES);\r\n            results.push({\r\n                color: new Color(s[0]),\r\n                offsetX: s[1] ? parseFloat(s[1].replace('px', '')) : 0,\r\n                offsetY: s[2] ? parseFloat(s[2].replace('px', '')) : 0,\r\n                blur: s[3] ? s[3].replace('px', '') : 0\r\n            });\r\n        }\r\n    }\r\n    return results;\r\n};\r\n\r\nNodeContainer.prototype.parseTransform = function() {\r\n    if (!this.transformData) {\r\n        if (this.hasTransform()) {\r\n            var offset = this.parseBounds();\r\n            var origin = this.prefixedCss(\"transformOrigin\").split(\" \").map(removePx).map(asFloat);\r\n            origin[0] += offset.left;\r\n            origin[1] += offset.top;\r\n            this.transformData = {\r\n                origin: origin,\r\n                matrix: this.parseTransformMatrix()\r\n            };\r\n        } else {\r\n            this.transformData = {\r\n                origin: [0, 0],\r\n                matrix: [1, 0, 0, 1, 0, 0]\r\n            };\r\n        }\r\n    }\r\n    return this.transformData;\r\n};\r\n\r\nNodeContainer.prototype.parseTransformMatrix = function() {\r\n    if (!this.transformMatrix) {\r\n        var transform = this.prefixedCss(\"transform\");\r\n        var matrix = transform ? parseMatrix(transform.match(this.MATRIX_PROPERTY)) : null;\r\n        this.transformMatrix = matrix ? matrix : [1, 0, 0, 1, 0, 0];\r\n    }\r\n    return this.transformMatrix;\r\n};\r\n\r\nNodeContainer.prototype.parseBounds = function() {\r\n    return this.bounds || (this.bounds = this.hasTransform() ? offsetBounds(this.node) : getBounds(this.node));\r\n};\r\n\r\nNodeContainer.prototype.hasTransform = function() {\r\n    return this.parseTransformMatrix().join(\",\") !== \"1,0,0,1,0,0\" || (this.parent && this.parent.hasTransform());\r\n};\r\n\r\nNodeContainer.prototype.getValue = function() {\r\n    var value = this.node.value || \"\";\r\n    if (this.node.tagName === \"SELECT\") {\r\n        value = selectionValue(this.node);\r\n    } else if (this.node.type === \"password\") {\r\n        value = Array(value.length + 1).join('\\u2022'); // jshint ignore:line\r\n    }\r\n    return value.length === 0 ? (this.node.placeholder || \"\") : value;\r\n};\r\n\r\nNodeContainer.prototype.MATRIX_PROPERTY = /(matrix)\\((.+)\\)/;\r\nNodeContainer.prototype.TEXT_SHADOW_PROPERTY = /((rgba|rgb)\\([^\\)]+\\)(\\s-?\\d+px){0,})/g;\r\nNodeContainer.prototype.TEXT_SHADOW_VALUES = /(-?\\d+px)|(#.+)|(rgb\\(.+\\))|(rgba\\(.+\\))/g;\r\nNodeContainer.prototype.CLIP = /^rect\\((\\d+)px,? (\\d+)px,? (\\d+)px,? (\\d+)px\\)$/;\r\n\r\nfunction selectionValue(node) {\r\n    var option = node.options[node.selectedIndex || 0];\r\n    return option ? (option.text || \"\") : \"\";\r\n}\r\n\r\nfunction parseMatrix(match) {\r\n    if (match && match[1] === \"matrix\") {\r\n        return match[2].split(\",\").map(function(s) {\r\n            return parseFloat(s.trim());\r\n        });\r\n    }\r\n}\r\n\r\nfunction isPercentage(value) {\r\n    return value.toString().indexOf(\"%\") !== -1;\r\n}\r\n\r\nfunction parseBackgrounds(backgroundImage) {\r\n    var whitespace = ' \\r\\n\\t',\r\n        method, definition, prefix, prefix_i, block, results = [],\r\n        mode = 0, numParen = 0, quote, args;\r\n    var appendResult = function() {\r\n        if(method) {\r\n            if (definition.substr(0, 1) === '\"') {\r\n                definition = definition.substr(1, definition.length - 2);\r\n            }\r\n            if (definition) {\r\n                args.push(definition);\r\n            }\r\n            if (method.substr(0, 1) === '-' && (prefix_i = method.indexOf('-', 1 ) + 1) > 0) {\r\n                prefix = method.substr(0, prefix_i);\r\n                method = method.substr(prefix_i);\r\n            }\r\n            results.push({\r\n                prefix: prefix,\r\n                method: method.toLowerCase(),\r\n                value: block,\r\n                args: args,\r\n                image: null\r\n            });\r\n        }\r\n        args = [];\r\n        method = prefix = definition = block = '';\r\n    };\r\n    args = [];\r\n    method = prefix = definition = block = '';\r\n    backgroundImage.split(\"\").forEach(function(c) {\r\n        if (mode === 0 && whitespace.indexOf(c) > -1) {\r\n            return;\r\n        }\r\n        switch(c) {\r\n        case '\"':\r\n            if(!quote) {\r\n                quote = c;\r\n            } else if(quote === c) {\r\n                quote = null;\r\n            }\r\n            break;\r\n        case '(':\r\n            if(quote) {\r\n                break;\r\n            } else if(mode === 0) {\r\n                mode = 1;\r\n                block += c;\r\n                return;\r\n            } else {\r\n                numParen++;\r\n            }\r\n            break;\r\n        case ')':\r\n            if (quote) {\r\n                break;\r\n            } else if(mode === 1) {\r\n                if(numParen === 0) {\r\n                    mode = 0;\r\n                    block += c;\r\n                    appendResult();\r\n                    return;\r\n                } else {\r\n                    numParen--;\r\n                }\r\n            }\r\n            break;\r\n\r\n        case ',':\r\n            if (quote) {\r\n                break;\r\n            } else if(mode === 0) {\r\n                appendResult();\r\n                return;\r\n            } else if (mode === 1) {\r\n                if (numParen === 0 && !method.match(/^url$/i)) {\r\n                    args.push(definition);\r\n                    definition = '';\r\n                    block += c;\r\n                    return;\r\n                }\r\n            }\r\n            break;\r\n        }\r\n\r\n        block += c;\r\n        if (mode === 0) {\r\n            method += c;\r\n        } else {\r\n            definition += c;\r\n        }\r\n    });\r\n\r\n    appendResult();\r\n    return results;\r\n}\r\n\r\nfunction removePx(str) {\r\n    return str.replace(\"px\", \"\");\r\n}\r\n\r\nfunction asFloat(str) {\r\n    return parseFloat(str);\r\n}\r\n\r\nfunction getBounds(node) {\r\n    if (node.getBoundingClientRect) {\r\n        var clientRect = node.getBoundingClientRect();\r\n        var width = node.offsetWidth == null ? clientRect.width : node.offsetWidth;\r\n        return {\r\n            top: clientRect.top,\r\n            bottom: clientRect.bottom || (clientRect.top + clientRect.height),\r\n            right: clientRect.left + width,\r\n            left: clientRect.left,\r\n            width:  width,\r\n            height: node.offsetHeight == null ? clientRect.height : node.offsetHeight\r\n        };\r\n    }\r\n    return {};\r\n}\r\n\r\nfunction offsetBounds(node) {\r\n    var parent = node.offsetParent ? offsetBounds(node.offsetParent) : {top: 0, left: 0};\r\n\r\n    return {\r\n        top: node.offsetTop + parent.top,\r\n        bottom: node.offsetTop + node.offsetHeight + parent.top,\r\n        right: node.offsetLeft + parent.left + node.offsetWidth,\r\n        left: node.offsetLeft + parent.left,\r\n        width: node.offsetWidth,\r\n        height: node.offsetHeight\r\n    };\r\n}\r\n\r\nfunction NodeParser(element, renderer, support, imageLoader, options) {\r\n    log(\"Starting NodeParser\");\r\n    this.renderer = renderer;\r\n    this.options = options;\r\n    this.range = null;\r\n    this.support = support;\r\n    this.renderQueue = [];\r\n    this.stack = new StackingContext(true, 1, element.ownerDocument, null);\r\n    var parent = new NodeContainer(element, null);\r\n    if (options.background) {\r\n        renderer.rectangle(0, 0, renderer.width, renderer.height, new Color(options.background));\r\n    }\r\n    if (element === element.ownerDocument.documentElement) {\r\n        // http://www.w3.org/TR/css3-background/#special-backgrounds\r\n        var canvasBackground = new NodeContainer(parent.color('backgroundColor').isTransparent() ? element.ownerDocument.body : element.ownerDocument.documentElement, null);\r\n        renderer.rectangle(0, 0, renderer.width, renderer.height, canvasBackground.color('backgroundColor'));\r\n    }\r\n    parent.visibile = parent.isElementVisible();\r\n    this.createPseudoHideStyles(element.ownerDocument);\r\n    this.disableAnimations(element.ownerDocument);\r\n    this.nodes = flatten([parent].concat(this.getChildren(parent)).filter(function(container) {\r\n        return container.visible = container.isElementVisible();\r\n    }).map(this.getPseudoElements, this));\r\n    this.fontMetrics = new FontMetrics();\r\n    log(\"Fetched nodes, total:\", this.nodes.length);\r\n    log(\"Calculate overflow clips\");\r\n    this.calculateOverflowClips();\r\n    log(\"Start fetching images\");\r\n    this.images = imageLoader.fetch(this.nodes.filter(isElement));\r\n    this.ready = this.images.ready.then(bind(function() {\r\n        log(\"Images loaded, starting parsing\");\r\n        log(\"Creating stacking contexts\");\r\n        this.createStackingContexts();\r\n        log(\"Sorting stacking contexts\");\r\n        this.sortStackingContexts(this.stack);\r\n        this.parse(this.stack);\r\n        log(\"Render queue created with \" + this.renderQueue.length + \" items\");\r\n        return new Promise(bind(function(resolve) {\r\n            if (!options.async) {\r\n                this.renderQueue.forEach(this.paint, this);\r\n                resolve();\r\n            } else if (typeof(options.async) === \"function\") {\r\n                options.async.call(this, this.renderQueue, resolve);\r\n            } else if (this.renderQueue.length > 0){\r\n                this.renderIndex = 0;\r\n                this.asyncRenderer(this.renderQueue, resolve);\r\n            } else {\r\n                resolve();\r\n            }\r\n        }, this));\r\n    }, this));\r\n}\r\n\r\nNodeParser.prototype.calculateOverflowClips = function() {\r\n    this.nodes.forEach(function(container) {\r\n        if (isElement(container)) {\r\n            if (isPseudoElement(container)) {\r\n                container.appendToDOM();\r\n            }\r\n            container.borders = this.parseBorders(container);\r\n            var clip = (container.css('overflow') === \"hidden\") ? [container.borders.clip] : [];\r\n            var cssClip = container.parseClip();\r\n            if (cssClip && [\"absolute\", \"fixed\"].indexOf(container.css('position')) !== -1) {\r\n                clip.push([[\"rect\",\r\n                        container.bounds.left + cssClip.left,\r\n                        container.bounds.top + cssClip.top,\r\n                        cssClip.right - cssClip.left,\r\n                        cssClip.bottom - cssClip.top\r\n                ]]);\r\n            }\r\n            container.clip = hasParentClip(container) ? container.parent.clip.concat(clip) : clip;\r\n            container.backgroundClip = (container.css('overflow') !== \"hidden\") ? container.clip.concat([container.borders.clip]) : container.clip;\r\n            if (isPseudoElement(container)) {\r\n                container.cleanDOM();\r\n            }\r\n        } else if (isTextNode(container)) {\r\n            container.clip = hasParentClip(container) ? container.parent.clip : [];\r\n        }\r\n        if (!isPseudoElement(container)) {\r\n            container.bounds = null;\r\n        }\r\n    }, this);\r\n};\r\n\r\nfunction hasParentClip(container) {\r\n    return container.parent && container.parent.clip.length;\r\n}\r\n\r\nNodeParser.prototype.asyncRenderer = function(queue, resolve, asyncTimer) {\r\n    asyncTimer = asyncTimer || Date.now();\r\n    this.paint(queue[this.renderIndex++]);\r\n    if (queue.length === this.renderIndex) {\r\n        resolve();\r\n    } else if (asyncTimer + 20 > Date.now()) {\r\n        this.asyncRenderer(queue, resolve, asyncTimer);\r\n    } else {\r\n        setTimeout(bind(function() {\r\n            this.asyncRenderer(queue, resolve);\r\n        }, this), 0);\r\n    }\r\n};\r\n\r\nNodeParser.prototype.createPseudoHideStyles = function(document) {\r\n    this.createStyles(document, '.' + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + ':before { content: \"\" !important; display: none !important; }' +\r\n        '.' + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER + ':after { content: \"\" !important; display: none !important; }');\r\n};\r\n\r\nNodeParser.prototype.disableAnimations = function(document) {\r\n    this.createStyles(document, '* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; ' +\r\n        '-webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}');\r\n};\r\n\r\nNodeParser.prototype.createStyles = function(document, styles) {\r\n    var hidePseudoElements = document.createElement('style');\r\n    hidePseudoElements.innerHTML = styles;\r\n    document.body.appendChild(hidePseudoElements);\r\n};\r\n\r\nNodeParser.prototype.getPseudoElements = function(container) {\r\n    var nodes = [[container]];\r\n    if (container.node.nodeType === Node.ELEMENT_NODE) {\r\n        var before = this.getPseudoElement(container, \":before\");\r\n        var after = this.getPseudoElement(container, \":after\");\r\n\r\n        if (before) {\r\n            nodes.push(before);\r\n        }\r\n\r\n        if (after) {\r\n            nodes.push(after);\r\n        }\r\n    }\r\n    return flatten(nodes);\r\n};\r\n\r\nfunction toCamelCase(str) {\r\n    return str.replace(/(\\-[a-z])/g, function(match){\r\n        return match.toUpperCase().replace('-','');\r\n    });\r\n}\r\n\r\nNodeParser.prototype.getPseudoElement = function(container, type) {\r\n    var style = container.computedStyle(type);\r\n    if(!style || !style.content || style.content === \"none\" || style.content === \"-moz-alt-content\" || style.display === \"none\") {\r\n        return null;\r\n    }\r\n\r\n    var content = stripQuotes(style.content);\r\n    var isImage = content.substr(0, 3) === 'url';\r\n    var pseudoNode = document.createElement(isImage ? 'img' : 'html2canvaspseudoelement');\r\n    var pseudoContainer = new PseudoElementContainer(pseudoNode, container, type);\r\n\r\n    for (var i = style.length-1; i >= 0; i--) {\r\n        var property = toCamelCase(style.item(i));\r\n        pseudoNode.style[property] = style[property];\r\n    }\r\n\r\n    pseudoNode.className = PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + \" \" + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\r\n\r\n    if (isImage) {\r\n        pseudoNode.src = parseBackgrounds(content)[0].args[0];\r\n        return [pseudoContainer];\r\n    } else {\r\n        var text = document.createTextNode(content);\r\n        pseudoNode.appendChild(text);\r\n        return [pseudoContainer, new TextContainer(text, pseudoContainer)];\r\n    }\r\n};\r\n\r\n\r\nNodeParser.prototype.getChildren = function(parentContainer) {\r\n    return flatten([].filter.call(parentContainer.node.childNodes, renderableNode).map(function(node) {\r\n        var container = [node.nodeType === Node.TEXT_NODE ? new TextContainer(node, parentContainer) : new NodeContainer(node, parentContainer)].filter(nonIgnoredElement);\r\n        return node.nodeType === Node.ELEMENT_NODE && container.length && node.tagName !== \"TEXTAREA\" ? (container[0].isElementVisible() ? container.concat(this.getChildren(container[0])) : []) : container;\r\n    }, this));\r\n};\r\n\r\nNodeParser.prototype.newStackingContext = function(container, hasOwnStacking) {\r\n    var stack = new StackingContext(hasOwnStacking, container.getOpacity(), container.node, container.parent);\r\n    container.cloneTo(stack);\r\n    var parentStack = hasOwnStacking ? stack.getParentStack(this) : stack.parent.stack;\r\n    parentStack.contexts.push(stack);\r\n    container.stack = stack;\r\n};\r\n\r\nNodeParser.prototype.createStackingContexts = function() {\r\n    this.nodes.forEach(function(container) {\r\n        if (isElement(container) && (this.isRootElement(container) || hasOpacity(container) || isPositionedForStacking(container) || this.isBodyWithTransparentRoot(container) || container.hasTransform())) {\r\n            this.newStackingContext(container, true);\r\n        } else if (isElement(container) && ((isPositioned(container) && zIndex0(container)) || isInlineBlock(container) || isFloating(container))) {\r\n            this.newStackingContext(container, false);\r\n        } else {\r\n            container.assignStack(container.parent.stack);\r\n        }\r\n    }, this);\r\n};\r\n\r\nNodeParser.prototype.isBodyWithTransparentRoot = function(container) {\r\n    return container.node.nodeName === \"BODY\" && container.parent.color('backgroundColor').isTransparent();\r\n};\r\n\r\nNodeParser.prototype.isRootElement = function(container) {\r\n    return container.parent === null;\r\n};\r\n\r\nNodeParser.prototype.sortStackingContexts = function(stack) {\r\n    stack.contexts.sort(zIndexSort(stack.contexts.slice(0)));\r\n    stack.contexts.forEach(this.sortStackingContexts, this);\r\n};\r\n\r\nNodeParser.prototype.parseTextBounds = function(container) {\r\n    return function(text, index, textList) {\r\n        if (container.parent.css(\"textDecoration\").substr(0, 4) !== \"none\" || text.trim().length !== 0) {\r\n            if (this.support.rangeBounds && !container.parent.hasTransform()) {\r\n                var offset = textList.slice(0, index).join(\"\").length;\r\n                return this.getRangeBounds(container.node, offset, text.length);\r\n            } else if (container.node && typeof(container.node.data) === \"string\") {\r\n                var replacementNode = container.node.splitText(text.length);\r\n                var bounds = this.getWrapperBounds(container.node, container.parent.hasTransform());\r\n                container.node = replacementNode;\r\n                return bounds;\r\n            }\r\n        } else if(!this.support.rangeBounds || container.parent.hasTransform()){\r\n            container.node = container.node.splitText(text.length);\r\n        }\r\n        return {};\r\n    };\r\n};\r\n\r\nNodeParser.prototype.getWrapperBounds = function(node, transform) {\r\n    var wrapper = node.ownerDocument.createElement('html2canvaswrapper');\r\n    var parent = node.parentNode,\r\n        backupText = node.cloneNode(true);\r\n\r\n    wrapper.appendChild(node.cloneNode(true));\r\n    parent.replaceChild(wrapper, node);\r\n    var bounds = transform ? offsetBounds(wrapper) : getBounds(wrapper);\r\n    parent.replaceChild(backupText, wrapper);\r\n    return bounds;\r\n};\r\n\r\nNodeParser.prototype.getRangeBounds = function(node, offset, length) {\r\n    var range = this.range || (this.range = node.ownerDocument.createRange());\r\n    range.setStart(node, offset);\r\n    range.setEnd(node, offset + length);\r\n    return range.getBoundingClientRect();\r\n};\r\n\r\nfunction ClearTransform() {}\r\n\r\nNodeParser.prototype.parse = function(stack) {\r\n    // http://www.w3.org/TR/CSS21/visuren.html#z-index\r\n    var negativeZindex = stack.contexts.filter(negativeZIndex); // 2. the child stacking contexts with negative stack levels (most negative first).\r\n    var descendantElements = stack.children.filter(isElement);\r\n    var descendantNonFloats = descendantElements.filter(not(isFloating));\r\n    var nonInlineNonPositionedDescendants = descendantNonFloats.filter(not(isPositioned)).filter(not(inlineLevel)); // 3 the in-flow, non-inline-level, non-positioned descendants.\r\n    var nonPositionedFloats = descendantElements.filter(not(isPositioned)).filter(isFloating); // 4. the non-positioned floats.\r\n    var inFlow = descendantNonFloats.filter(not(isPositioned)).filter(inlineLevel); // 5. the in-flow, inline-level, non-positioned descendants, including inline tables and inline blocks.\r\n    var stackLevel0 = stack.contexts.concat(descendantNonFloats.filter(isPositioned)).filter(zIndex0); // 6. the child stacking contexts with stack level 0 and the positioned descendants with stack level 0.\r\n    var text = stack.children.filter(isTextNode).filter(hasText);\r\n    var positiveZindex = stack.contexts.filter(positiveZIndex); // 7. the child stacking contexts with positive stack levels (least positive first).\r\n    negativeZindex.concat(nonInlineNonPositionedDescendants).concat(nonPositionedFloats)\r\n        .concat(inFlow).concat(stackLevel0).concat(text).concat(positiveZindex).forEach(function(container) {\r\n            this.renderQueue.push(container);\r\n            if (isStackingContext(container)) {\r\n                this.parse(container);\r\n                this.renderQueue.push(new ClearTransform());\r\n            }\r\n        }, this);\r\n};\r\n\r\nNodeParser.prototype.paint = function(container) {\r\n    try {\r\n        if (container instanceof ClearTransform) {\r\n            this.renderer.ctx.restore();\r\n        } else if (isTextNode(container)) {\r\n            if (isPseudoElement(container.parent)) {\r\n                container.parent.appendToDOM();\r\n            }\r\n            this.paintText(container);\r\n            if (isPseudoElement(container.parent)) {\r\n                container.parent.cleanDOM();\r\n            }\r\n        } else {\r\n            this.paintNode(container);\r\n        }\r\n    } catch(e) {\r\n        log(e);\r\n        if (this.options.strict) {\r\n            throw e;\r\n        }\r\n    }\r\n};\r\n\r\nNodeParser.prototype.paintNode = function(container) {\r\n    if (isStackingContext(container)) {\r\n        this.renderer.setOpacity(container.opacity);\r\n        this.renderer.ctx.save();\r\n        if (container.hasTransform()) {\r\n            this.renderer.setTransform(container.parseTransform());\r\n        }\r\n    }\r\n\r\n    if (container.node.nodeName === \"INPUT\" && container.node.type === \"checkbox\") {\r\n        this.paintCheckbox(container);\r\n    } else if (container.node.nodeName === \"INPUT\" && container.node.type === \"radio\") {\r\n        this.paintRadio(container);\r\n    } else {\r\n        this.paintElement(container);\r\n    }\r\n};\r\n\r\nNodeParser.prototype.paintElement = function(container) {\r\n    var bounds = container.parseBounds();\r\n    this.renderer.clip(container.backgroundClip, function() {\r\n        this.renderer.renderBackground(container, bounds, container.borders.borders.map(getWidth));\r\n    }, this);\r\n\r\n    this.renderer.clip(container.clip, function() {\r\n        this.renderer.renderBorders(container.borders.borders);\r\n    }, this);\r\n\r\n    this.renderer.clip(container.backgroundClip, function() {\r\n        switch (container.node.nodeName) {\r\n        case \"svg\":\r\n        case \"IFRAME\":\r\n            var imgContainer = this.images.get(container.node);\r\n            if (imgContainer) {\r\n                this.renderer.renderImage(container, bounds, container.borders, imgContainer);\r\n            } else {\r\n                log(\"Error loading <\" + container.node.nodeName + \">\", container.node);\r\n            }\r\n            break;\r\n        case \"IMG\":\r\n            var imageContainer = this.images.get(container.node.src);\r\n            if (imageContainer) {\r\n                this.renderer.renderImage(container, bounds, container.borders, imageContainer);\r\n            } else {\r\n                log(\"Error loading <img>\", container.node.src);\r\n            }\r\n            break;\r\n        case \"CANVAS\":\r\n            this.renderer.renderImage(container, bounds, container.borders, {image: container.node});\r\n            break;\r\n        case \"SELECT\":\r\n        case \"INPUT\":\r\n        case \"TEXTAREA\":\r\n            this.paintFormValue(container);\r\n            break;\r\n        }\r\n    }, this);\r\n};\r\n\r\nNodeParser.prototype.paintCheckbox = function(container) {\r\n    var b = container.parseBounds();\r\n\r\n    var size = Math.min(b.width, b.height);\r\n    var bounds = {width: size - 1, height: size - 1, top: b.top, left: b.left};\r\n    var r = [3, 3];\r\n    var radius = [r, r, r, r];\r\n    var borders = [1,1,1,1].map(function(w) {\r\n        return {color: new Color('#A5A5A5'), width: w};\r\n    });\r\n\r\n    var borderPoints = calculateCurvePoints(bounds, radius, borders);\r\n\r\n    this.renderer.clip(container.backgroundClip, function() {\r\n        this.renderer.rectangle(bounds.left + 1, bounds.top + 1, bounds.width - 2, bounds.height - 2, new Color(\"#DEDEDE\"));\r\n        this.renderer.renderBorders(calculateBorders(borders, bounds, borderPoints, radius));\r\n        if (container.node.checked) {\r\n            this.renderer.font(new Color('#424242'), 'normal', 'normal', 'bold', (size - 3) + \"px\", 'arial');\r\n            this.renderer.text(\"\\u2714\", bounds.left + size / 6, bounds.top + size - 1);\r\n        }\r\n    }, this);\r\n};\r\n\r\nNodeParser.prototype.paintRadio = function(container) {\r\n    var bounds = container.parseBounds();\r\n\r\n    var size = Math.min(bounds.width, bounds.height) - 2;\r\n\r\n    this.renderer.clip(container.backgroundClip, function() {\r\n        this.renderer.circleStroke(bounds.left + 1, bounds.top + 1, size, new Color('#DEDEDE'), 1, new Color('#A5A5A5'));\r\n        if (container.node.checked) {\r\n            this.renderer.circle(Math.ceil(bounds.left + size / 4) + 1, Math.ceil(bounds.top + size / 4) + 1, Math.floor(size / 2), new Color('#424242'));\r\n        }\r\n    }, this);\r\n};\r\n\r\nNodeParser.prototype.paintFormValue = function(container) {\r\n    var value = container.getValue();\r\n    if (value.length > 0) {\r\n        var document = container.node.ownerDocument;\r\n        var wrapper = document.createElement('html2canvaswrapper');\r\n        var properties = ['lineHeight', 'textAlign', 'fontFamily', 'fontWeight', 'fontSize', 'color',\r\n            'paddingLeft', 'paddingTop', 'paddingRight', 'paddingBottom',\r\n            'width', 'height', 'borderLeftStyle', 'borderTopStyle', 'borderLeftWidth', 'borderTopWidth',\r\n            'boxSizing', 'whiteSpace', 'wordWrap'];\r\n\r\n        properties.forEach(function(property) {\r\n            try {\r\n                wrapper.style[property] = container.css(property);\r\n            } catch(e) {\r\n                // Older IE has issues with \"border\"\r\n                log(\"html2canvas: Parse: Exception caught in renderFormValue: \" + e.message);\r\n            }\r\n        });\r\n        var bounds = container.parseBounds();\r\n        wrapper.style.position = \"fixed\";\r\n        wrapper.style.left = bounds.left + \"px\";\r\n        wrapper.style.top = bounds.top + \"px\";\r\n        wrapper.textContent = value;\r\n        document.body.appendChild(wrapper);\r\n        this.paintText(new TextContainer(wrapper.firstChild, container));\r\n        document.body.removeChild(wrapper);\r\n    }\r\n};\r\n\r\nNodeParser.prototype.paintText = function(container) {\r\n    container.applyTextTransform();\r\n    var characters = window.html2canvas.punycode.ucs2.decode(container.node.data);\r\n    var textList = (!this.options.letterRendering || noLetterSpacing(container)) && !hasUnicode(container.node.data) ? getWords(characters) : characters.map(function(character) {\r\n        return window.html2canvas.punycode.ucs2.encode([character]);\r\n    });\r\n\r\n    var weight = container.parent.fontWeight();\r\n    var size = container.parent.css('fontSize');\r\n    var family = container.parent.css('fontFamily');\r\n    var shadows = container.parent.parseTextShadows();\r\n\r\n    this.renderer.font(container.parent.color('color'), container.parent.css('fontStyle'), container.parent.css('fontVariant'), weight, size, family);\r\n    if (shadows.length) {\r\n        // TODO: support multiple text shadows\r\n        this.renderer.fontShadow(shadows[0].color, shadows[0].offsetX, shadows[0].offsetY, shadows[0].blur);\r\n    } else {\r\n        this.renderer.clearShadow();\r\n    }\r\n\r\n    this.renderer.clip(container.parent.clip, function() {\r\n        textList.map(this.parseTextBounds(container), this).forEach(function(bounds, index) {\r\n            if (bounds) {\r\n                this.renderer.text(textList[index], bounds.left, bounds.bottom);\r\n                this.renderTextDecoration(container.parent, bounds, this.fontMetrics.getMetrics(family, size));\r\n            }\r\n        }, this);\r\n    }, this);\r\n};\r\n\r\nNodeParser.prototype.renderTextDecoration = function(container, bounds, metrics) {\r\n    switch(container.css(\"textDecoration\").split(\" \")[0]) {\r\n    case \"underline\":\r\n        // Draws a line at the baseline of the font\r\n        // TODO As some browsers display the line as more than 1px if the font-size is big, need to take that into account both in position and size\r\n        this.renderer.rectangle(bounds.left, Math.round(bounds.top + metrics.baseline + metrics.lineWidth), bounds.width, 1, container.color(\"color\"));\r\n        break;\r\n    case \"overline\":\r\n        this.renderer.rectangle(bounds.left, Math.round(bounds.top), bounds.width, 1, container.color(\"color\"));\r\n        break;\r\n    case \"line-through\":\r\n        // TODO try and find exact position for line-through\r\n        this.renderer.rectangle(bounds.left, Math.ceil(bounds.top + metrics.middle + metrics.lineWidth), bounds.width, 1, container.color(\"color\"));\r\n        break;\r\n    }\r\n};\r\n\r\nvar borderColorTransforms = {\r\n    inset: [\r\n        [\"darken\", 0.60],\r\n        [\"darken\", 0.10],\r\n        [\"darken\", 0.10],\r\n        [\"darken\", 0.60]\r\n    ]\r\n};\r\n\r\nNodeParser.prototype.parseBorders = function(container) {\r\n    var nodeBounds = container.parseBounds();\r\n    var radius = getBorderRadiusData(container);\r\n    var borders = [\"Top\", \"Right\", \"Bottom\", \"Left\"].map(function(side, index) {\r\n        var style = container.css('border' + side + 'Style');\r\n        var color = container.color('border' + side + 'Color');\r\n        if (style === \"inset\" && color.isBlack()) {\r\n            color = new Color([255, 255, 255, color.a]); // this is wrong, but\r\n        }\r\n        var colorTransform = borderColorTransforms[style] ? borderColorTransforms[style][index] : null;\r\n        return {\r\n            width: container.cssInt('border' + side + 'Width'),\r\n            color: colorTransform ? color[colorTransform[0]](colorTransform[1]) : color,\r\n            args: null\r\n        };\r\n    });\r\n    var borderPoints = calculateCurvePoints(nodeBounds, radius, borders);\r\n\r\n    return {\r\n        clip: this.parseBackgroundClip(container, borderPoints, borders, radius, nodeBounds),\r\n        borders: calculateBorders(borders, nodeBounds, borderPoints, radius)\r\n    };\r\n};\r\n\r\nfunction calculateBorders(borders, nodeBounds, borderPoints, radius) {\r\n    return borders.map(function(border, borderSide) {\r\n        if (border.width > 0) {\r\n            var bx = nodeBounds.left;\r\n            var by = nodeBounds.top;\r\n            var bw = nodeBounds.width;\r\n            var bh = nodeBounds.height - (borders[2].width);\r\n\r\n            switch(borderSide) {\r\n            case 0:\r\n                // top border\r\n                bh = borders[0].width;\r\n                border.args = drawSide({\r\n                        c1: [bx, by],\r\n                        c2: [bx + bw, by],\r\n                        c3: [bx + bw - borders[1].width, by + bh],\r\n                        c4: [bx + borders[3].width, by + bh]\r\n                    }, radius[0], radius[1],\r\n                    borderPoints.topLeftOuter, borderPoints.topLeftInner, borderPoints.topRightOuter, borderPoints.topRightInner);\r\n                break;\r\n            case 1:\r\n                // right border\r\n                bx = nodeBounds.left + nodeBounds.width - (borders[1].width);\r\n                bw = borders[1].width;\r\n\r\n                border.args = drawSide({\r\n                        c1: [bx + bw, by],\r\n                        c2: [bx + bw, by + bh + borders[2].width],\r\n                        c3: [bx, by + bh],\r\n                        c4: [bx, by + borders[0].width]\r\n                    }, radius[1], radius[2],\r\n                    borderPoints.topRightOuter, borderPoints.topRightInner, borderPoints.bottomRightOuter, borderPoints.bottomRightInner);\r\n                break;\r\n            case 2:\r\n                // bottom border\r\n                by = (by + nodeBounds.height) - (borders[2].width);\r\n                bh = borders[2].width;\r\n                border.args = drawSide({\r\n                        c1: [bx + bw, by + bh],\r\n                        c2: [bx, by + bh],\r\n                        c3: [bx + borders[3].width, by],\r\n                        c4: [bx + bw - borders[3].width, by]\r\n                    }, radius[2], radius[3],\r\n                    borderPoints.bottomRightOuter, borderPoints.bottomRightInner, borderPoints.bottomLeftOuter, borderPoints.bottomLeftInner);\r\n                break;\r\n            case 3:\r\n                // left border\r\n                bw = borders[3].width;\r\n                border.args = drawSide({\r\n                        c1: [bx, by + bh + borders[2].width],\r\n                        c2: [bx, by],\r\n                        c3: [bx + bw, by + borders[0].width],\r\n                        c4: [bx + bw, by + bh]\r\n                    }, radius[3], radius[0],\r\n                    borderPoints.bottomLeftOuter, borderPoints.bottomLeftInner, borderPoints.topLeftOuter, borderPoints.topLeftInner);\r\n                break;\r\n            }\r\n        }\r\n        return border;\r\n    });\r\n}\r\n\r\nNodeParser.prototype.parseBackgroundClip = function(container, borderPoints, borders, radius, bounds) {\r\n    var backgroundClip = container.css('backgroundClip'),\r\n        borderArgs = [];\r\n\r\n    switch(backgroundClip) {\r\n    case \"content-box\":\r\n    case \"padding-box\":\r\n        parseCorner(borderArgs, radius[0], radius[1], borderPoints.topLeftInner, borderPoints.topRightInner, bounds.left + borders[3].width, bounds.top + borders[0].width);\r\n        parseCorner(borderArgs, radius[1], radius[2], borderPoints.topRightInner, borderPoints.bottomRightInner, bounds.left + bounds.width - borders[1].width, bounds.top + borders[0].width);\r\n        parseCorner(borderArgs, radius[2], radius[3], borderPoints.bottomRightInner, borderPoints.bottomLeftInner, bounds.left + bounds.width - borders[1].width, bounds.top + bounds.height - borders[2].width);\r\n        parseCorner(borderArgs, radius[3], radius[0], borderPoints.bottomLeftInner, borderPoints.topLeftInner, bounds.left + borders[3].width, bounds.top + bounds.height - borders[2].width);\r\n        break;\r\n\r\n    default:\r\n        parseCorner(borderArgs, radius[0], radius[1], borderPoints.topLeftOuter, borderPoints.topRightOuter, bounds.left, bounds.top);\r\n        parseCorner(borderArgs, radius[1], radius[2], borderPoints.topRightOuter, borderPoints.bottomRightOuter, bounds.left + bounds.width, bounds.top);\r\n        parseCorner(borderArgs, radius[2], radius[3], borderPoints.bottomRightOuter, borderPoints.bottomLeftOuter, bounds.left + bounds.width, bounds.top + bounds.height);\r\n        parseCorner(borderArgs, radius[3], radius[0], borderPoints.bottomLeftOuter, borderPoints.topLeftOuter, bounds.left, bounds.top + bounds.height);\r\n        break;\r\n    }\r\n\r\n    return borderArgs;\r\n};\r\n\r\nfunction getCurvePoints(x, y, r1, r2) {\r\n    var kappa = 4 * ((Math.sqrt(2) - 1) / 3);\r\n    var ox = (r1) * kappa, // control point offset horizontal\r\n        oy = (r2) * kappa, // control point offset vertical\r\n        xm = x + r1, // x-middle\r\n        ym = y + r2; // y-middle\r\n    return {\r\n        topLeft: bezierCurve({x: x, y: ym}, {x: x, y: ym - oy}, {x: xm - ox, y: y}, {x: xm, y: y}),\r\n        topRight: bezierCurve({x: x, y: y}, {x: x + ox,y: y}, {x: xm, y: ym - oy}, {x: xm, y: ym}),\r\n        bottomRight: bezierCurve({x: xm, y: y}, {x: xm, y: y + oy}, {x: x + ox, y: ym}, {x: x, y: ym}),\r\n        bottomLeft: bezierCurve({x: xm, y: ym}, {x: xm - ox, y: ym}, {x: x, y: y + oy}, {x: x, y:y})\r\n    };\r\n}\r\n\r\nfunction calculateCurvePoints(bounds, borderRadius, borders) {\r\n    var x = bounds.left,\r\n        y = bounds.top,\r\n        width = bounds.width,\r\n        height = bounds.height,\r\n\r\n        tlh = borderRadius[0][0],\r\n        tlv = borderRadius[0][1],\r\n        trh = borderRadius[1][0],\r\n        trv = borderRadius[1][1],\r\n        brh = borderRadius[2][0],\r\n        brv = borderRadius[2][1],\r\n        blh = borderRadius[3][0],\r\n        blv = borderRadius[3][1];\r\n\r\n    var topWidth = width - trh,\r\n        rightHeight = height - brv,\r\n        bottomWidth = width - brh,\r\n        leftHeight = height - blv;\r\n\r\n    return {\r\n        topLeftOuter: getCurvePoints(x, y, tlh, tlv).topLeft.subdivide(0.5),\r\n        topLeftInner: getCurvePoints(x + borders[3].width, y + borders[0].width, Math.max(0, tlh - borders[3].width), Math.max(0, tlv - borders[0].width)).topLeft.subdivide(0.5),\r\n        topRightOuter: getCurvePoints(x + topWidth, y, trh, trv).topRight.subdivide(0.5),\r\n        topRightInner: getCurvePoints(x + Math.min(topWidth, width + borders[3].width), y + borders[0].width, (topWidth > width + borders[3].width) ? 0 :trh - borders[3].width, trv - borders[0].width).topRight.subdivide(0.5),\r\n        bottomRightOuter: getCurvePoints(x + bottomWidth, y + rightHeight, brh, brv).bottomRight.subdivide(0.5),\r\n        bottomRightInner: getCurvePoints(x + Math.min(bottomWidth, width - borders[3].width), y + Math.min(rightHeight, height + borders[0].width), Math.max(0, brh - borders[1].width),  brv - borders[2].width).bottomRight.subdivide(0.5),\r\n        bottomLeftOuter: getCurvePoints(x, y + leftHeight, blh, blv).bottomLeft.subdivide(0.5),\r\n        bottomLeftInner: getCurvePoints(x + borders[3].width, y + leftHeight, Math.max(0, blh - borders[3].width), blv - borders[2].width).bottomLeft.subdivide(0.5)\r\n    };\r\n}\r\n\r\nfunction bezierCurve(start, startControl, endControl, end) {\r\n    var lerp = function (a, b, t) {\r\n        return {\r\n            x: a.x + (b.x - a.x) * t,\r\n            y: a.y + (b.y - a.y) * t\r\n        };\r\n    };\r\n\r\n    return {\r\n        start: start,\r\n        startControl: startControl,\r\n        endControl: endControl,\r\n        end: end,\r\n        subdivide: function(t) {\r\n            var ab = lerp(start, startControl, t),\r\n                bc = lerp(startControl, endControl, t),\r\n                cd = lerp(endControl, end, t),\r\n                abbc = lerp(ab, bc, t),\r\n                bccd = lerp(bc, cd, t),\r\n                dest = lerp(abbc, bccd, t);\r\n            return [bezierCurve(start, ab, abbc, dest), bezierCurve(dest, bccd, cd, end)];\r\n        },\r\n        curveTo: function(borderArgs) {\r\n            borderArgs.push([\"bezierCurve\", startControl.x, startControl.y, endControl.x, endControl.y, end.x, end.y]);\r\n        },\r\n        curveToReversed: function(borderArgs) {\r\n            borderArgs.push([\"bezierCurve\", endControl.x, endControl.y, startControl.x, startControl.y, start.x, start.y]);\r\n        }\r\n    };\r\n}\r\n\r\nfunction drawSide(borderData, radius1, radius2, outer1, inner1, outer2, inner2) {\r\n    var borderArgs = [];\r\n\r\n    if (radius1[0] > 0 || radius1[1] > 0) {\r\n        borderArgs.push([\"line\", outer1[1].start.x, outer1[1].start.y]);\r\n        outer1[1].curveTo(borderArgs);\r\n    } else {\r\n        borderArgs.push([ \"line\", borderData.c1[0], borderData.c1[1]]);\r\n    }\r\n\r\n    if (radius2[0] > 0 || radius2[1] > 0) {\r\n        borderArgs.push([\"line\", outer2[0].start.x, outer2[0].start.y]);\r\n        outer2[0].curveTo(borderArgs);\r\n        borderArgs.push([\"line\", inner2[0].end.x, inner2[0].end.y]);\r\n        inner2[0].curveToReversed(borderArgs);\r\n    } else {\r\n        borderArgs.push([\"line\", borderData.c2[0], borderData.c2[1]]);\r\n        borderArgs.push([\"line\", borderData.c3[0], borderData.c3[1]]);\r\n    }\r\n\r\n    if (radius1[0] > 0 || radius1[1] > 0) {\r\n        borderArgs.push([\"line\", inner1[1].end.x, inner1[1].end.y]);\r\n        inner1[1].curveToReversed(borderArgs);\r\n    } else {\r\n        borderArgs.push([\"line\", borderData.c4[0], borderData.c4[1]]);\r\n    }\r\n\r\n    return borderArgs;\r\n}\r\n\r\nfunction parseCorner(borderArgs, radius1, radius2, corner1, corner2, x, y) {\r\n    if (radius1[0] > 0 || radius1[1] > 0) {\r\n        borderArgs.push([\"line\", corner1[0].start.x, corner1[0].start.y]);\r\n        corner1[0].curveTo(borderArgs);\r\n        corner1[1].curveTo(borderArgs);\r\n    } else {\r\n        borderArgs.push([\"line\", x, y]);\r\n    }\r\n\r\n    if (radius2[0] > 0 || radius2[1] > 0) {\r\n        borderArgs.push([\"line\", corner2[0].start.x, corner2[0].start.y]);\r\n    }\r\n}\r\n\r\nfunction negativeZIndex(container) {\r\n    return container.cssInt(\"zIndex\") < 0;\r\n}\r\n\r\nfunction positiveZIndex(container) {\r\n    return container.cssInt(\"zIndex\") > 0;\r\n}\r\n\r\nfunction zIndex0(container) {\r\n    return container.cssInt(\"zIndex\") === 0;\r\n}\r\n\r\nfunction inlineLevel(container) {\r\n    return [\"inline\", \"inline-block\", \"inline-table\"].indexOf(container.css(\"display\")) !== -1;\r\n}\r\n\r\nfunction isStackingContext(container) {\r\n    return (container instanceof StackingContext);\r\n}\r\n\r\nfunction hasText(container) {\r\n    return container.node.data.trim().length > 0;\r\n}\r\n\r\nfunction noLetterSpacing(container) {\r\n    return (/^(normal|none|0px)$/.test(container.parent.css(\"letterSpacing\")));\r\n}\r\n\r\nfunction getBorderRadiusData(container) {\r\n    return [\"TopLeft\", \"TopRight\", \"BottomRight\", \"BottomLeft\"].map(function(side) {\r\n        var value = container.css('border' + side + 'Radius');\r\n        var arr = value.split(\" \");\r\n        if (arr.length <= 1) {\r\n            arr[1] = arr[0];\r\n        }\r\n        return arr.map(asInt);\r\n    });\r\n}\r\n\r\nfunction renderableNode(node) {\r\n    return (node.nodeType === Node.TEXT_NODE || node.nodeType === Node.ELEMENT_NODE);\r\n}\r\n\r\nfunction isPositionedForStacking(container) {\r\n    var position = container.css(\"position\");\r\n    var zIndex = ([\"absolute\", \"relative\", \"fixed\"].indexOf(position) !== -1) ? container.css(\"zIndex\") : \"auto\";\r\n    return zIndex !== \"auto\";\r\n}\r\n\r\nfunction isPositioned(container) {\r\n    return container.css(\"position\") !== \"static\";\r\n}\r\n\r\nfunction isFloating(container) {\r\n    return container.css(\"float\") !== \"none\";\r\n}\r\n\r\nfunction isInlineBlock(container) {\r\n    return [\"inline-block\", \"inline-table\"].indexOf(container.css(\"display\")) !== -1;\r\n}\r\n\r\nfunction not(callback) {\r\n    var context = this;\r\n    return function() {\r\n        return !callback.apply(context, arguments);\r\n    };\r\n}\r\n\r\nfunction isElement(container) {\r\n    return container.node.nodeType === Node.ELEMENT_NODE;\r\n}\r\n\r\nfunction isPseudoElement(container) {\r\n    return container.isPseudoElement === true;\r\n}\r\n\r\nfunction isTextNode(container) {\r\n    return container.node.nodeType === Node.TEXT_NODE;\r\n}\r\n\r\nfunction zIndexSort(contexts) {\r\n    return function(a, b) {\r\n        return (a.cssInt(\"zIndex\") + (contexts.indexOf(a) / contexts.length)) - (b.cssInt(\"zIndex\") + (contexts.indexOf(b) / contexts.length));\r\n    };\r\n}\r\n\r\nfunction hasOpacity(container) {\r\n    return container.getOpacity() < 1;\r\n}\r\n\r\nfunction bind(callback, context) {\r\n    return function() {\r\n        return callback.apply(context, arguments);\r\n    };\r\n}\r\n\r\nfunction asInt(value) {\r\n    return parseInt(value, 10);\r\n}\r\n\r\nfunction getWidth(border) {\r\n    return border.width;\r\n}\r\n\r\nfunction nonIgnoredElement(nodeContainer) {\r\n    return (nodeContainer.node.nodeType !== Node.ELEMENT_NODE || [\"SCRIPT\", \"HEAD\", \"TITLE\", \"OBJECT\", \"BR\", \"OPTION\"].indexOf(nodeContainer.node.nodeName) === -1);\r\n}\r\n\r\nfunction flatten(arrays) {\r\n    return [].concat.apply([], arrays);\r\n}\r\n\r\nfunction stripQuotes(content) {\r\n    var first = content.substr(0, 1);\r\n    return (first === content.substr(content.length - 1) && first.match(/'|\"/)) ? content.substr(1, content.length - 2) : content;\r\n}\r\n\r\nfunction getWords(characters) {\r\n    var words = [], i = 0, onWordBoundary = false, word;\r\n    while(characters.length) {\r\n        if (isWordBoundary(characters[i]) === onWordBoundary) {\r\n            word = characters.splice(0, i);\r\n            if (word.length) {\r\n                words.push(window.html2canvas.punycode.ucs2.encode(word));\r\n            }\r\n            onWordBoundary =! onWordBoundary;\r\n            i = 0;\r\n        } else {\r\n            i++;\r\n        }\r\n\r\n        if (i >= characters.length) {\r\n            word = characters.splice(0, i);\r\n            if (word.length) {\r\n                words.push(window.html2canvas.punycode.ucs2.encode(word));\r\n            }\r\n        }\r\n    }\r\n    return words;\r\n}\r\n\r\nfunction isWordBoundary(characterCode) {\r\n    return [\r\n        32, // <space>\r\n        13, // \\r\r\n        10, // \\n\r\n        9, // \\t\r\n        45 // -\r\n    ].indexOf(characterCode) !== -1;\r\n}\r\n\r\nfunction hasUnicode(string) {\r\n    return (/[^\\u0000-\\u00ff]/).test(string);\r\n}\r\n\r\nfunction Proxy(src, proxyUrl, document) {\r\n    if (!proxyUrl) {\r\n        return Promise.reject(\"No proxy configured\");\r\n    }\r\n    var callback = createCallback(supportsCORS);\r\n    var url = createProxyUrl(proxyUrl, src, callback);\r\n\r\n    return supportsCORS ? XHR(url) : (jsonp(document, url, callback).then(function(response) {\r\n        return decode64(response.content);\r\n    }));\r\n}\r\nvar proxyCount = 0;\r\n\r\nvar supportsCORS = ('withCredentials' in new XMLHttpRequest());\r\nvar supportsCORSImage = ('crossOrigin' in new Image());\r\n\r\nfunction ProxyURL(src, proxyUrl, document) {\r\n    var callback = createCallback(supportsCORSImage);\r\n    var url = createProxyUrl(proxyUrl, src, callback);\r\n    return (supportsCORSImage ? Promise.resolve(url) : jsonp(document, url, callback).then(function(response) {\r\n        return \"data:\" + response.type + \";base64,\" + response.content;\r\n    }));\r\n}\r\n\r\nfunction jsonp(document, url, callback) {\r\n    return new Promise(function(resolve, reject) {\r\n        var s = document.createElement(\"script\");\r\n        var cleanup = function() {\r\n            delete window.html2canvas.proxy[callback];\r\n            document.body.removeChild(s);\r\n        };\r\n        window.html2canvas.proxy[callback] = function(response) {\r\n            cleanup();\r\n            resolve(response);\r\n        };\r\n        s.src = url;\r\n        s.onerror = function(e) {\r\n            cleanup();\r\n            reject(e);\r\n        };\r\n        document.body.appendChild(s);\r\n    });\r\n}\r\n\r\nfunction createCallback(useCORS) {\r\n    return !useCORS ? \"html2canvas_\" + Date.now() + \"_\" + (++proxyCount) + \"_\" + Math.round(Math.random() * 100000) : \"\";\r\n}\r\n\r\nfunction createProxyUrl(proxyUrl, src, callback) {\r\n    return proxyUrl + \"?url=\" + encodeURIComponent(src) + (callback.length ? \"&callback=html2canvas.proxy.\" + callback : \"\");\r\n}\r\n\r\nfunction ProxyImageContainer(src, proxy) {\r\n    var script = document.createElement(\"script\");\r\n    var link = document.createElement(\"a\");\r\n    link.href = src;\r\n    src = link.href;\r\n    this.src = src;\r\n    this.image = new Image();\r\n    var self = this;\r\n    this.promise = new Promise(function(resolve, reject) {\r\n        self.image.crossOrigin = \"Anonymous\";\r\n        self.image.onload = resolve;\r\n        self.image.onerror = reject;\r\n\r\n        new ProxyURL(src, proxy, document).then(function(url) {\r\n            self.image.src = url;\r\n        })['catch'](reject);\r\n    });\r\n}\r\n\r\nfunction PseudoElementContainer(node, parent, type) {\r\n    NodeContainer.call(this, node, parent);\r\n    this.isPseudoElement = true;\r\n    this.before = type === \":before\";\r\n}\r\n\r\nPseudoElementContainer.prototype.cloneTo = function(stack) {\r\n    PseudoElementContainer.prototype.cloneTo.call(this, stack);\r\n    stack.isPseudoElement = true;\r\n    stack.before = this.before;\r\n};\r\n\r\nPseudoElementContainer.prototype = Object.create(NodeContainer.prototype);\r\n\r\nPseudoElementContainer.prototype.appendToDOM = function() {\r\n    if (this.before) {\r\n        this.parent.node.insertBefore(this.node, this.parent.node.firstChild);\r\n    } else {\r\n        this.parent.node.appendChild(this.node);\r\n    }\r\n    this.parent.node.className += \" \" + this.getHideClass();\r\n};\r\n\r\nPseudoElementContainer.prototype.cleanDOM = function() {\r\n    this.node.parentNode.removeChild(this.node);\r\n    this.parent.node.className = this.parent.node.className.replace(this.getHideClass(), \"\");\r\n};\r\n\r\nPseudoElementContainer.prototype.getHideClass = function() {\r\n    return this[\"PSEUDO_HIDE_ELEMENT_CLASS_\" + (this.before ? \"BEFORE\" : \"AFTER\")];\r\n};\r\n\r\nPseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = \"___html2canvas___pseudoelement_before\";\r\nPseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER = \"___html2canvas___pseudoelement_after\";\r\n\r\nfunction Renderer(width, height, images, options, document) {\r\n    this.width = width;\r\n    this.height = height;\r\n    this.images = images;\r\n    this.options = options;\r\n    this.document = document;\r\n}\r\n\r\nRenderer.prototype.renderImage = function(container, bounds, borderData, imageContainer) {\r\n    var paddingLeft = container.cssInt('paddingLeft'),\r\n        paddingTop = container.cssInt('paddingTop'),\r\n        paddingRight = container.cssInt('paddingRight'),\r\n        paddingBottom = container.cssInt('paddingBottom'),\r\n        borders = borderData.borders;\r\n\r\n    var width = bounds.width - (borders[1].width + borders[3].width + paddingLeft + paddingRight);\r\n    var height = bounds.height - (borders[0].width + borders[2].width + paddingTop + paddingBottom);\r\n    this.drawImage(\r\n        imageContainer,\r\n        0,\r\n        0,\r\n        imageContainer.image.width || width,\r\n        imageContainer.image.height || height,\r\n        bounds.left + paddingLeft + borders[3].width,\r\n        bounds.top + paddingTop + borders[0].width,\r\n        width,\r\n        height\r\n    );\r\n};\r\n\r\nRenderer.prototype.renderBackground = function(container, bounds, borderData) {\r\n    if (bounds.height > 0 && bounds.width > 0) {\r\n        this.renderBackgroundColor(container, bounds);\r\n        this.renderBackgroundImage(container, bounds, borderData);\r\n    }\r\n};\r\n\r\nRenderer.prototype.renderBackgroundColor = function(container, bounds) {\r\n    var color = container.color(\"backgroundColor\");\r\n    if (!color.isTransparent()) {\r\n        this.rectangle(bounds.left, bounds.top, bounds.width, bounds.height, color);\r\n    }\r\n};\r\n\r\nRenderer.prototype.renderBorders = function(borders) {\r\n    borders.forEach(this.renderBorder, this);\r\n};\r\n\r\nRenderer.prototype.renderBorder = function(data) {\r\n    if (!data.color.isTransparent() && data.args !== null) {\r\n        this.drawShape(data.args, data.color);\r\n    }\r\n};\r\n\r\nRenderer.prototype.renderBackgroundImage = function(container, bounds, borderData) {\r\n    var backgroundImages = container.parseBackgroundImages();\r\n    backgroundImages.reverse().forEach(function(backgroundImage, index, arr) {\r\n        switch(backgroundImage.method) {\r\n        case \"url\":\r\n            var image = this.images.get(backgroundImage.args[0]);\r\n            if (image) {\r\n                this.renderBackgroundRepeating(container, bounds, image, arr.length - (index+1), borderData);\r\n            } else {\r\n                log(\"Error loading background-image\", backgroundImage.args[0]);\r\n            }\r\n            break;\r\n        case \"linear-gradient\":\r\n        case \"gradient\":\r\n            var gradientImage = this.images.get(backgroundImage.value);\r\n            if (gradientImage) {\r\n                this.renderBackgroundGradient(gradientImage, bounds, borderData);\r\n            } else {\r\n                log(\"Error loading background-image\", backgroundImage.args[0]);\r\n            }\r\n            break;\r\n        case \"none\":\r\n            break;\r\n        default:\r\n            log(\"Unknown background-image type\", backgroundImage.args[0]);\r\n        }\r\n    }, this);\r\n};\r\n\r\nRenderer.prototype.renderBackgroundRepeating = function(container, bounds, imageContainer, index, borderData) {\r\n    var size = container.parseBackgroundSize(bounds, imageContainer.image, index);\r\n    var position = container.parseBackgroundPosition(bounds, imageContainer.image, index, size);\r\n    var repeat = container.parseBackgroundRepeat(index);\r\n    switch (repeat) {\r\n    case \"repeat-x\":\r\n    case \"repeat no-repeat\":\r\n        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + borderData[3], bounds.top + position.top + borderData[0], 99999, size.height, borderData);\r\n        break;\r\n    case \"repeat-y\":\r\n    case \"no-repeat repeat\":\r\n        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + position.left + borderData[3], bounds.top + borderData[0], size.width, 99999, borderData);\r\n        break;\r\n    case \"no-repeat\":\r\n        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + position.left + borderData[3], bounds.top + position.top + borderData[0], size.width, size.height, borderData);\r\n        break;\r\n    default:\r\n        this.renderBackgroundRepeat(imageContainer, position, size, {top: bounds.top, left: bounds.left}, borderData[3], borderData[0]);\r\n        break;\r\n    }\r\n};\r\n\r\nfunction StackingContext(hasOwnStacking, opacity, element, parent) {\r\n    NodeContainer.call(this, element, parent);\r\n    this.ownStacking = hasOwnStacking;\r\n    this.contexts = [];\r\n    this.children = [];\r\n    this.opacity = (this.parent ? this.parent.stack.opacity : 1) * opacity;\r\n}\r\n\r\nStackingContext.prototype = Object.create(NodeContainer.prototype);\r\n\r\nStackingContext.prototype.getParentStack = function(context) {\r\n    var parentStack = (this.parent) ? this.parent.stack : null;\r\n    return parentStack ? (parentStack.ownStacking ? parentStack : parentStack.getParentStack(context)) : context.stack;\r\n};\r\n\r\nfunction Support(document) {\r\n    this.rangeBounds = this.testRangeBounds(document);\r\n    this.cors = this.testCORS();\r\n    this.svg = this.testSVG();\r\n}\r\n\r\nSupport.prototype.testRangeBounds = function(document) {\r\n    var range, testElement, rangeBounds, rangeHeight, support = false;\r\n\r\n    if (document.createRange) {\r\n        range = document.createRange();\r\n        if (range.getBoundingClientRect) {\r\n            testElement = document.createElement('boundtest');\r\n            testElement.style.height = \"123px\";\r\n            testElement.style.display = \"block\";\r\n            document.body.appendChild(testElement);\r\n\r\n            range.selectNode(testElement);\r\n            rangeBounds = range.getBoundingClientRect();\r\n            rangeHeight = rangeBounds.height;\r\n\r\n            if (rangeHeight === 123) {\r\n                support = true;\r\n            }\r\n            document.body.removeChild(testElement);\r\n        }\r\n    }\r\n\r\n    return support;\r\n};\r\n\r\nSupport.prototype.testCORS = function() {\r\n    return typeof((new Image()).crossOrigin) !== \"undefined\";\r\n};\r\n\r\nSupport.prototype.testSVG = function() {\r\n    var img = new Image();\r\n    var canvas = document.createElement(\"canvas\");\r\n    var ctx =  canvas.getContext(\"2d\");\r\n    img.src = \"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>\";\r\n\r\n    try {\r\n        ctx.drawImage(img, 0, 0);\r\n        canvas.toDataURL();\r\n    } catch(e) {\r\n        return false;\r\n    }\r\n    return true;\r\n};\r\n\r\nfunction SVGContainer(src) {\r\n    this.src = src;\r\n    this.image = null;\r\n    var self = this;\r\n\r\n    this.promise = this.hasFabric().then(function() {\r\n        return (self.isInline(src) ? Promise.resolve(self.inlineFormatting(src)) : XHR(src));\r\n    }).then(function(svg) {\r\n        return new Promise(function(resolve) {\r\n            html2canvas.fabric.loadSVGFromString(svg, self.createCanvas.call(self, resolve));\r\n        });\r\n    });\r\n}\r\n\r\nSVGContainer.prototype.hasFabric = function() {\r\n    return !html2canvas.fabric ? Promise.reject(new Error(\"html2canvas.svg.js is not loaded, cannot render svg\")) : Promise.resolve();\r\n};\r\n\r\nSVGContainer.prototype.inlineFormatting = function(src) {\r\n    return (/^data:image\\/svg\\+xml;base64,/.test(src)) ? this.decode64(this.removeContentType(src)) : this.removeContentType(src);\r\n};\r\n\r\nSVGContainer.prototype.removeContentType = function(src) {\r\n    return src.replace(/^data:image\\/svg\\+xml(;base64)?,/,'');\r\n};\r\n\r\nSVGContainer.prototype.isInline = function(src) {\r\n    return (/^data:image\\/svg\\+xml/i.test(src));\r\n};\r\n\r\nSVGContainer.prototype.createCanvas = function(resolve) {\r\n    var self = this;\r\n    return function (objects, options) {\r\n        var canvas = new html2canvas.fabric.StaticCanvas('c');\r\n        self.image = canvas.lowerCanvasEl;\r\n        canvas\r\n            .setWidth(options.width)\r\n            .setHeight(options.height)\r\n            .add(html2canvas.fabric.util.groupSVGElements(objects, options))\r\n            .renderAll();\r\n        resolve(canvas.lowerCanvasEl);\r\n    };\r\n};\r\n\r\nSVGContainer.prototype.decode64 = function(str) {\r\n    return (typeof(window.atob) === \"function\") ? window.atob(str) : decode64(str);\r\n};\r\n\r\n/*\r\n * base64-arraybuffer\r\n * https://github.com/niklasvh/base64-arraybuffer\r\n *\r\n * Copyright (c) 2012 Niklas von Hertzen\r\n * Licensed under the MIT license.\r\n */\r\n\r\nfunction decode64(base64) {\r\n    var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\r\n    var len = base64.length, i, encoded1, encoded2, encoded3, encoded4, byte1, byte2, byte3;\r\n\r\n    var output = \"\";\r\n\r\n    for (i = 0; i < len; i+=4) {\r\n        encoded1 = chars.indexOf(base64[i]);\r\n        encoded2 = chars.indexOf(base64[i+1]);\r\n        encoded3 = chars.indexOf(base64[i+2]);\r\n        encoded4 = chars.indexOf(base64[i+3]);\r\n\r\n        byte1 = (encoded1 << 2) | (encoded2 >> 4);\r\n        byte2 = ((encoded2 & 15) << 4) | (encoded3 >> 2);\r\n        byte3 = ((encoded3 & 3) << 6) | encoded4;\r\n        if (encoded3 === 64) {\r\n            output += String.fromCharCode(byte1);\r\n        } else if (encoded4 === 64 || encoded4 === -1) {\r\n            output += String.fromCharCode(byte1, byte2);\r\n        } else{\r\n            output += String.fromCharCode(byte1, byte2, byte3);\r\n        }\r\n    }\r\n\r\n    return output;\r\n}\r\n\r\nfunction SVGNodeContainer(node, native) {\r\n    this.src = node;\r\n    this.image = null;\r\n    var self = this;\r\n\r\n    this.promise = native ? new Promise(function(resolve, reject) {\r\n        self.image = new Image();\r\n        self.image.onload = resolve;\r\n        self.image.onerror = reject;\r\n        self.image.src = \"data:image/svg+xml,\" + (new XMLSerializer()).serializeToString(node);\r\n        if (self.image.complete === true) {\r\n            resolve(self.image);\r\n        }\r\n    }) : this.hasFabric().then(function() {\r\n        return new Promise(function(resolve) {\r\n            html2canvas.fabric.parseSVGDocument(node, self.createCanvas.call(self, resolve));\r\n        });\r\n    });\r\n}\r\n\r\nSVGNodeContainer.prototype = Object.create(SVGContainer.prototype);\r\n\r\nfunction TextContainer(node, parent) {\r\n    NodeContainer.call(this, node, parent);\r\n}\r\n\r\nTextContainer.prototype = Object.create(NodeContainer.prototype);\r\n\r\nTextContainer.prototype.applyTextTransform = function() {\r\n    this.node.data = this.transform(this.parent.css(\"textTransform\"));\r\n};\r\n\r\nTextContainer.prototype.transform = function(transform) {\r\n    var text = this.node.data;\r\n    switch(transform){\r\n        case \"lowercase\":\r\n            return text.toLowerCase();\r\n        case \"capitalize\":\r\n            return text.replace(/(^|\\s|:|-|\\(|\\))([a-z])/g, capitalize);\r\n        case \"uppercase\":\r\n            return text.toUpperCase();\r\n        default:\r\n            return text;\r\n    }\r\n};\r\n\r\nfunction capitalize(m, p1, p2) {\r\n    if (m.length > 0) {\r\n        return p1 + p2.toUpperCase();\r\n    }\r\n}\r\n\r\nfunction WebkitGradientContainer(imageData) {\r\n    GradientContainer.apply(this, arguments);\r\n    this.type = (imageData.args[0] === \"linear\") ? this.TYPES.LINEAR : this.TYPES.RADIAL;\r\n}\r\n\r\nWebkitGradientContainer.prototype = Object.create(GradientContainer.prototype);\r\n\r\nfunction XHR(url) {\r\n    return new Promise(function(resolve, reject) {\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.open('GET', url);\r\n\r\n        xhr.onload = function() {\r\n            if (xhr.status === 200) {\r\n                resolve(xhr.responseText);\r\n            } else {\r\n                reject(new Error(xhr.statusText));\r\n            }\r\n        };\r\n\r\n        xhr.onerror = function() {\r\n            reject(new Error(\"Network Error\"));\r\n        };\r\n\r\n        xhr.send();\r\n    });\r\n}\r\n\r\nfunction CanvasRenderer(width, height) {\r\n    Renderer.apply(this, arguments);\r\n    this.canvas = this.options.canvas || this.document.createElement(\"canvas\");\r\n    if (!this.options.canvas) {\r\n        this.canvas.width = width;\r\n        this.canvas.height = height;\r\n    }\r\n    this.ctx = this.canvas.getContext(\"2d\");\r\n    this.taintCtx = this.document.createElement(\"canvas\").getContext(\"2d\");\r\n    this.ctx.textBaseline = \"bottom\";\r\n    this.variables = {};\r\n    log(\"Initialized CanvasRenderer with size\", width, \"x\", height);\r\n}\r\n\r\nCanvasRenderer.prototype = Object.create(Renderer.prototype);\r\n\r\nCanvasRenderer.prototype.setFillStyle = function(fillStyle) {\r\n    this.ctx.fillStyle = typeof(fillStyle) === \"object\" && !!fillStyle.isColor ? fillStyle.toString() : fillStyle;\r\n    return this.ctx;\r\n};\r\n\r\nCanvasRenderer.prototype.rectangle = function(left, top, width, height, color) {\r\n    this.setFillStyle(color).fillRect(left, top, width, height);\r\n};\r\n\r\nCanvasRenderer.prototype.circle = function(left, top, size, color) {\r\n    this.setFillStyle(color);\r\n    this.ctx.beginPath();\r\n    this.ctx.arc(left + size / 2, top + size / 2, size / 2, 0, Math.PI*2, true);\r\n    this.ctx.closePath();\r\n    this.ctx.fill();\r\n};\r\n\r\nCanvasRenderer.prototype.circleStroke = function(left, top, size, color, stroke, strokeColor) {\r\n    this.circle(left, top, size, color);\r\n    this.ctx.strokeStyle = strokeColor.toString();\r\n    this.ctx.stroke();\r\n};\r\n\r\nCanvasRenderer.prototype.drawShape = function(shape, color) {\r\n    this.shape(shape);\r\n    this.setFillStyle(color).fill();\r\n};\r\n\r\nCanvasRenderer.prototype.taints = function(imageContainer) {\r\n    if (imageContainer.tainted === null) {\r\n        this.taintCtx.drawImage(imageContainer.image, 0, 0);\r\n        try {\r\n            this.taintCtx.getImageData(0, 0, 1, 1);\r\n            imageContainer.tainted = false;\r\n        } catch(e) {\r\n            this.taintCtx = document.createElement(\"canvas\").getContext(\"2d\");\r\n            imageContainer.tainted = true;\r\n        }\r\n    }\r\n\r\n    return imageContainer.tainted;\r\n};\r\n\r\nCanvasRenderer.prototype.drawImage = function(imageContainer, sx, sy, sw, sh, dx, dy, dw, dh) {\r\n    if (!this.taints(imageContainer) || this.options.allowTaint) {\r\n        this.ctx.drawImage(imageContainer.image, sx, sy, sw, sh, dx, dy, dw, dh);\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.clip = function(shapes, callback, context) {\r\n    this.ctx.save();\r\n    shapes.filter(hasEntries).forEach(function(shape) {\r\n        this.shape(shape).clip();\r\n    }, this);\r\n    callback.call(context);\r\n    this.ctx.restore();\r\n};\r\n\r\nCanvasRenderer.prototype.shape = function(shape) {\r\n    this.ctx.beginPath();\r\n    shape.forEach(function(point, index) {\r\n        if (point[0] === \"rect\") {\r\n            this.ctx.rect.apply(this.ctx, point.slice(1));\r\n        } else {\r\n            this.ctx[(index === 0) ? \"moveTo\" : point[0] + \"To\" ].apply(this.ctx, point.slice(1));\r\n        }\r\n    }, this);\r\n    this.ctx.closePath();\r\n    return this.ctx;\r\n};\r\n\r\nCanvasRenderer.prototype.font = function(color, style, variant, weight, size, family) {\r\n    this.setFillStyle(color).font = [style, variant, weight, size, family].join(\" \").split(\",\")[0];\r\n};\r\n\r\nCanvasRenderer.prototype.fontShadow = function(color, offsetX, offsetY, blur) {\r\n    this.setVariable(\"shadowColor\", color.toString())\r\n        .setVariable(\"shadowOffsetY\", offsetX)\r\n        .setVariable(\"shadowOffsetX\", offsetY)\r\n        .setVariable(\"shadowBlur\", blur);\r\n};\r\n\r\nCanvasRenderer.prototype.clearShadow = function() {\r\n    this.setVariable(\"shadowColor\", \"rgba(0,0,0,0)\");\r\n};\r\n\r\nCanvasRenderer.prototype.setOpacity = function(opacity) {\r\n    this.ctx.globalAlpha = opacity;\r\n};\r\n\r\nCanvasRenderer.prototype.setTransform = function(transform) {\r\n    this.ctx.translate(transform.origin[0], transform.origin[1]);\r\n    this.ctx.transform.apply(this.ctx, transform.matrix);\r\n    this.ctx.translate(-transform.origin[0], -transform.origin[1]);\r\n};\r\n\r\nCanvasRenderer.prototype.setVariable = function(property, value) {\r\n    if (this.variables[property] !== value) {\r\n        this.variables[property] = this.ctx[property] = value;\r\n    }\r\n\r\n    return this;\r\n};\r\n\r\nCanvasRenderer.prototype.text = function(text, left, bottom) {\r\n    this.ctx.fillText(text, left, bottom);\r\n};\r\n\r\nCanvasRenderer.prototype.backgroundRepeatShape = function(imageContainer, backgroundPosition, size, bounds, left, top, width, height, borderData) {\r\n    var shape = [\r\n        [\"line\", Math.round(left), Math.round(top)],\r\n        [\"line\", Math.round(left + width), Math.round(top)],\r\n        [\"line\", Math.round(left + width), Math.round(height + top)],\r\n        [\"line\", Math.round(left), Math.round(height + top)]\r\n    ];\r\n    this.clip([shape], function() {\r\n        this.renderBackgroundRepeat(imageContainer, backgroundPosition, size, bounds, borderData[3], borderData[0]);\r\n    }, this);\r\n};\r\n\r\nCanvasRenderer.prototype.renderBackgroundRepeat = function(imageContainer, backgroundPosition, size, bounds, borderLeft, borderTop) {\r\n    var offsetX = Math.round(bounds.left + backgroundPosition.left + borderLeft), offsetY = Math.round(bounds.top + backgroundPosition.top + borderTop);\r\n    this.setFillStyle(this.ctx.createPattern(this.resizeImage(imageContainer, size), \"repeat\"));\r\n    this.ctx.translate(offsetX, offsetY);\r\n    this.ctx.fill();\r\n    this.ctx.translate(-offsetX, -offsetY);\r\n};\r\n\r\nCanvasRenderer.prototype.renderBackgroundGradient = function(gradientImage, bounds) {\r\n    if (gradientImage instanceof LinearGradientContainer) {\r\n        var gradient = this.ctx.createLinearGradient(\r\n            bounds.left + bounds.width * gradientImage.x0,\r\n            bounds.top + bounds.height * gradientImage.y0,\r\n            bounds.left +  bounds.width * gradientImage.x1,\r\n            bounds.top +  bounds.height * gradientImage.y1);\r\n        gradientImage.colorStops.forEach(function(colorStop) {\r\n            gradient.addColorStop(colorStop.stop, colorStop.color.toString());\r\n        });\r\n        this.rectangle(bounds.left, bounds.top, bounds.width, bounds.height, gradient);\r\n    }\r\n};\r\n\r\nCanvasRenderer.prototype.resizeImage = function(imageContainer, size) {\r\n    var image = imageContainer.image;\r\n    if(image.width === size.width && image.height === size.height) {\r\n        return image;\r\n    }\r\n\r\n    var ctx, canvas = document.createElement('canvas');\r\n    canvas.width = size.width;\r\n    canvas.height = size.height;\r\n    ctx = canvas.getContext(\"2d\");\r\n    ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, size.width, size.height );\r\n    return canvas;\r\n};\r\n\r\nfunction hasEntries(array) {\r\n    return array.length > 0;\r\n}\r\n\r\n}).call({}, typeof(window) !== \"undefined\" ? window : undefined, typeof(document) !== \"undefined\" ? document : undefined);\n/*\n * HTML5 Sortable jQuery Plugin\n * http://farhadi.ir/projects/html5sortable\n *\n * Copyright 2012, Ali Farhadi\n * Released under the MIT license.\n */\n(function($) {\nvar dragging, placeholders = $();\n$.fn.sortable = function(options) {\n\tvar method = String(options);\n\toptions = $.extend({\n\t\tconnectWith: false\n\t}, options);\n\treturn this.each(function() {\n\t\tif (/^(enable|disable|destroy)$/.test(method)) {\n\t\t\tvar items = $(this).children($(this).data('items')).attr('draggable', method == 'enable');\n\t\t\tif (method == 'destroy') {\n\t\t\t\titems.add(this).removeData('connectWith items')\n\t\t\t\t\t.off('dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s');\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tvar isHandle, index, items = $(this).children(options.items);\n\t\tvar placeholder = $('<' + (/^(ul|ol)$/i.test(this.tagName) ? 'li' : 'div') + ' class=\"sortable-placeholder\">');\n\t\titems.find(options.handle).mousedown(function() {\n\t\t\tisHandle = true;\n\t\t}).mouseup(function() {\n\t\t\tisHandle = false;\n\t\t});\n\t\t$(this).data('items', options.items)\n\t\tplaceholders = placeholders.add(placeholder);\n\t\tif (options.connectWith) {\n\t\t\t$(options.connectWith).add(this).data('connectWith', options.connectWith);\n\t\t}\n\t\titems.attr('draggable', 'true').on('dragstart.h5s', function(e) {\n\t\t\tif (options.handle && !isHandle) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tisHandle = false;\n\t\t\tvar dt = e.originalEvent.dataTransfer;\n\t\t\tdt.effectAllowed = 'move';\n\t\t\tdt.setData('Text', 'dummy');\n\t\t\tindex = (dragging = $(this)).addClass('sortable-dragging').index();\n\t\t}).on('dragend.h5s', function() {\n\t\t\tif (!dragging) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdragging.removeClass('sortable-dragging').show();\n\t\t\tplaceholders.detach();\n\t\t\tif (index != dragging.index()) {\n\t\t\t\tdragging.parent().trigger('sortupdate', {item: dragging});\n\t\t\t}\n\t\t\tdragging = null;\n\t\t}).not('a[href], img').on('selectstart.h5s', function() {\n\t\t\tthis.dragDrop && this.dragDrop();\n\t\t\treturn false;\n\t\t}).end().add([this, placeholder]).on('dragover.h5s dragenter.h5s drop.h5s', function(e) {\n\t\t\tif (!items.is(dragging) && options.connectWith !== $(dragging).parent().data('connectWith')) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (e.type == 'drop') {\n\t\t\t\te.stopPropagation();\n\t\t\t\tplaceholders.filter(':visible').after(dragging);\n\t\t\t\tdragging.trigger('dragend.h5s');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\te.preventDefault();\n\t\t\te.originalEvent.dataTransfer.dropEffect = 'move';\n\t\t\tif (items.is(this)) {\n\t\t\t\tif (options.forcePlaceholderSize) {\n\t\t\t\t\tplaceholder.height(dragging.outerHeight());\n\t\t\t\t}\n\t\t\t\tdragging.hide();\n\t\t\t\t$(this)[placeholder.index() < $(this).index() ? 'after' : 'before'](placeholder);\n\t\t\t\tplaceholders.not(placeholder).detach();\n\t\t\t} else if (!placeholders.is(this) && !$(this).children(options.items).length) {\n\t\t\t\tplaceholders.detach();\n\t\t\t\t$(this).append(placeholder);\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t});\n};\n})(jQuery);\n\n/**\n * navigation.js\n *\n * Handles toggling the navigation menu for small screens.\n */\n( function() {\n\tvar container, button, menu;\n\n\tcontainer = document.getElementById( 'site-navigation' );\n\tif ( ! container )\n\t\treturn;\n\n\tbutton = container.getElementsByTagName( 'button' )[0];\n\tif ( 'undefined' === typeof button )\n\t\treturn;\n\n\tmenu = container.getElementsByTagName( 'ul' )[0];\n\n\t// Hide menu toggle button if menu is empty and return early.\n\tif ( 'undefined' === typeof menu ) {\n\t\tbutton.style.display = 'none';\n\t\treturn;\n\t}\n\n\tif ( -1 === menu.className.indexOf( 'nav-menu' ) )\n\t\tmenu.className += ' nav-menu';\n\n\tbutton.onclick = function() {\n\t\tif ( -1 !== container.className.indexOf( 'toggled' ) )\n\t\t\tcontainer.className = container.className.replace( ' toggled', '' );\n\t\telse\n\t\t\tcontainer.className += ' toggled';\n\t};\n} )();\n\n( function() {\n\tvar is_webkit = navigator.userAgent.toLowerCase().indexOf( 'webkit' ) > -1,\n\t    is_opera  = navigator.userAgent.toLowerCase().indexOf( 'opera' )  > -1,\n\t    is_ie     = navigator.userAgent.toLowerCase().indexOf( 'msie' )   > -1;\n\n\tif ( ( is_webkit || is_opera || is_ie ) && document.getElementById && window.addEventListener ) {\n\t\twindow.addEventListener( 'hashchange', function() {\n\t\t\tvar element = document.getElementById( location.hash.substring( 1 ) );\n\n\t\t\tif ( element ) {\n\t\t\t\tif ( ! /^(?:a|select|input|button|textarea)$/i.test( element.tagName ) )\n\t\t\t\t\telement.tabIndex = -1;\n\n\t\t\t\telement.focus();\n\t\t\t}\n\t\t}, false );\n\t}\n})();\n\n/*\nstring.js - Copyright (C) 2012-2014, JP Richardson <jprichardson@gmail.com>\n*/\n\n!(function() {\n  \"use strict\";\n\n  var VERSION = '3.0.0';\n\n  var ENTITIES = {};\n\n  // from http://semplicewebsites.com/removing-accents-javascript\n  var latin_map={\"Á\":\"A\",\"Ă\":\"A\",\"Ắ\":\"A\",\"Ặ\":\"A\",\"Ằ\":\"A\",\"Ẳ\":\"A\",\"Ẵ\":\"A\",\"Ǎ\":\"A\",\"Â\":\"A\",\"Ấ\":\"A\",\"Ậ\":\"A\",\"Ầ\":\"A\",\"Ẩ\":\"A\",\"Ẫ\":\"A\",\"Ä\":\"A\",\"Ǟ\":\"A\",\"Ȧ\":\"A\",\"Ǡ\":\"A\",\"Ạ\":\"A\",\"Ȁ\":\"A\",\"À\":\"A\",\"Ả\":\"A\",\"Ȃ\":\"A\",\"Ā\":\"A\",\"Ą\":\"A\",\"Å\":\"A\",\"Ǻ\":\"A\",\"Ḁ\":\"A\",\"Ⱥ\":\"A\",\"Ã\":\"A\",\"Ꜳ\":\"AA\",\"Æ\":\"AE\",\"Ǽ\":\"AE\",\"Ǣ\":\"AE\",\"Ꜵ\":\"AO\",\"Ꜷ\":\"AU\",\"Ꜹ\":\"AV\",\"Ꜻ\":\"AV\",\"Ꜽ\":\"AY\",\"Ḃ\":\"B\",\"Ḅ\":\"B\",\"Ɓ\":\"B\",\"Ḇ\":\"B\",\"Ƀ\":\"B\",\"Ƃ\":\"B\",\"Ć\":\"C\",\"Č\":\"C\",\"Ç\":\"C\",\"Ḉ\":\"C\",\"Ĉ\":\"C\",\"Ċ\":\"C\",\"Ƈ\":\"C\",\"Ȼ\":\"C\",\"Ď\":\"D\",\"Ḑ\":\"D\",\"Ḓ\":\"D\",\"Ḋ\":\"D\",\"Ḍ\":\"D\",\"Ɗ\":\"D\",\"Ḏ\":\"D\",\"ǲ\":\"D\",\"ǅ\":\"D\",\"Đ\":\"D\",\"Ƌ\":\"D\",\"Ǳ\":\"DZ\",\"Ǆ\":\"DZ\",\"É\":\"E\",\"Ĕ\":\"E\",\"Ě\":\"E\",\"Ȩ\":\"E\",\"Ḝ\":\"E\",\"Ê\":\"E\",\"Ế\":\"E\",\"Ệ\":\"E\",\"Ề\":\"E\",\"Ể\":\"E\",\"Ễ\":\"E\",\"Ḙ\":\"E\",\"Ë\":\"E\",\"Ė\":\"E\",\"Ẹ\":\"E\",\"Ȅ\":\"E\",\"È\":\"E\",\"Ẻ\":\"E\",\"Ȇ\":\"E\",\"Ē\":\"E\",\"Ḗ\":\"E\",\"Ḕ\":\"E\",\"Ę\":\"E\",\"Ɇ\":\"E\",\"Ẽ\":\"E\",\"Ḛ\":\"E\",\"Ꝫ\":\"ET\",\"Ḟ\":\"F\",\"Ƒ\":\"F\",\"Ǵ\":\"G\",\"Ğ\":\"G\",\"Ǧ\":\"G\",\"Ģ\":\"G\",\"Ĝ\":\"G\",\"Ġ\":\"G\",\"Ɠ\":\"G\",\"Ḡ\":\"G\",\"Ǥ\":\"G\",\"Ḫ\":\"H\",\"Ȟ\":\"H\",\"Ḩ\":\"H\",\"Ĥ\":\"H\",\"Ⱨ\":\"H\",\"Ḧ\":\"H\",\"Ḣ\":\"H\",\"Ḥ\":\"H\",\"Ħ\":\"H\",\"Í\":\"I\",\"Ĭ\":\"I\",\"Ǐ\":\"I\",\"Î\":\"I\",\"Ï\":\"I\",\"Ḯ\":\"I\",\"İ\":\"I\",\"Ị\":\"I\",\"Ȉ\":\"I\",\"Ì\":\"I\",\"Ỉ\":\"I\",\"Ȋ\":\"I\",\"Ī\":\"I\",\"Į\":\"I\",\"Ɨ\":\"I\",\"Ĩ\":\"I\",\"Ḭ\":\"I\",\"Ꝺ\":\"D\",\"Ꝼ\":\"F\",\"Ᵹ\":\"G\",\"Ꞃ\":\"R\",\"Ꞅ\":\"S\",\"Ꞇ\":\"T\",\"Ꝭ\":\"IS\",\"Ĵ\":\"J\",\"Ɉ\":\"J\",\"Ḱ\":\"K\",\"Ǩ\":\"K\",\"Ķ\":\"K\",\"Ⱪ\":\"K\",\"Ꝃ\":\"K\",\"Ḳ\":\"K\",\"Ƙ\":\"K\",\"Ḵ\":\"K\",\"Ꝁ\":\"K\",\"Ꝅ\":\"K\",\"Ĺ\":\"L\",\"Ƚ\":\"L\",\"Ľ\":\"L\",\"Ļ\":\"L\",\"Ḽ\":\"L\",\"Ḷ\":\"L\",\"Ḹ\":\"L\",\"Ⱡ\":\"L\",\"Ꝉ\":\"L\",\"Ḻ\":\"L\",\"Ŀ\":\"L\",\"Ɫ\":\"L\",\"ǈ\":\"L\",\"Ł\":\"L\",\"Ǉ\":\"LJ\",\"Ḿ\":\"M\",\"Ṁ\":\"M\",\"Ṃ\":\"M\",\"Ɱ\":\"M\",\"Ń\":\"N\",\"Ň\":\"N\",\"Ņ\":\"N\",\"Ṋ\":\"N\",\"Ṅ\":\"N\",\"Ṇ\":\"N\",\"Ǹ\":\"N\",\"Ɲ\":\"N\",\"Ṉ\":\"N\",\"Ƞ\":\"N\",\"ǋ\":\"N\",\"Ñ\":\"N\",\"Ǌ\":\"NJ\",\"Ó\":\"O\",\"Ŏ\":\"O\",\"Ǒ\":\"O\",\"Ô\":\"O\",\"Ố\":\"O\",\"Ộ\":\"O\",\"Ồ\":\"O\",\"Ổ\":\"O\",\"Ỗ\":\"O\",\"Ö\":\"O\",\"Ȫ\":\"O\",\"Ȯ\":\"O\",\"Ȱ\":\"O\",\"Ọ\":\"O\",\"Ő\":\"O\",\"Ȍ\":\"O\",\"Ò\":\"O\",\"Ỏ\":\"O\",\"Ơ\":\"O\",\"Ớ\":\"O\",\"Ợ\":\"O\",\"Ờ\":\"O\",\"Ở\":\"O\",\"Ỡ\":\"O\",\"Ȏ\":\"O\",\"Ꝋ\":\"O\",\"Ꝍ\":\"O\",\"Ō\":\"O\",\"Ṓ\":\"O\",\"Ṑ\":\"O\",\"Ɵ\":\"O\",\"Ǫ\":\"O\",\"Ǭ\":\"O\",\"Ø\":\"O\",\"Ǿ\":\"O\",\"Õ\":\"O\",\"Ṍ\":\"O\",\"Ṏ\":\"O\",\"Ȭ\":\"O\",\"Ƣ\":\"OI\",\"Ꝏ\":\"OO\",\"Ɛ\":\"E\",\"Ɔ\":\"O\",\"Ȣ\":\"OU\",\"Ṕ\":\"P\",\"Ṗ\":\"P\",\"Ꝓ\":\"P\",\"Ƥ\":\"P\",\"Ꝕ\":\"P\",\"Ᵽ\":\"P\",\"Ꝑ\":\"P\",\"Ꝙ\":\"Q\",\"Ꝗ\":\"Q\",\"Ŕ\":\"R\",\"Ř\":\"R\",\"Ŗ\":\"R\",\"Ṙ\":\"R\",\"Ṛ\":\"R\",\"Ṝ\":\"R\",\"Ȑ\":\"R\",\"Ȓ\":\"R\",\"Ṟ\":\"R\",\"Ɍ\":\"R\",\"Ɽ\":\"R\",\"Ꜿ\":\"C\",\"Ǝ\":\"E\",\"Ś\":\"S\",\"Ṥ\":\"S\",\"Š\":\"S\",\"Ṧ\":\"S\",\"Ş\":\"S\",\"Ŝ\":\"S\",\"Ș\":\"S\",\"Ṡ\":\"S\",\"Ṣ\":\"S\",\"Ṩ\":\"S\",\"ẞ\":\"SS\",\"Ť\":\"T\",\"Ţ\":\"T\",\"Ṱ\":\"T\",\"Ț\":\"T\",\"Ⱦ\":\"T\",\"Ṫ\":\"T\",\"Ṭ\":\"T\",\"Ƭ\":\"T\",\"Ṯ\":\"T\",\"Ʈ\":\"T\",\"Ŧ\":\"T\",\"Ɐ\":\"A\",\"Ꞁ\":\"L\",\"Ɯ\":\"M\",\"Ʌ\":\"V\",\"Ꜩ\":\"TZ\",\"Ú\":\"U\",\"Ŭ\":\"U\",\"Ǔ\":\"U\",\"Û\":\"U\",\"Ṷ\":\"U\",\"Ü\":\"U\",\"Ǘ\":\"U\",\"Ǚ\":\"U\",\"Ǜ\":\"U\",\"Ǖ\":\"U\",\"Ṳ\":\"U\",\"Ụ\":\"U\",\"Ű\":\"U\",\"Ȕ\":\"U\",\"Ù\":\"U\",\"Ủ\":\"U\",\"Ư\":\"U\",\"Ứ\":\"U\",\"Ự\":\"U\",\"Ừ\":\"U\",\"Ử\":\"U\",\"Ữ\":\"U\",\"Ȗ\":\"U\",\"Ū\":\"U\",\"Ṻ\":\"U\",\"Ų\":\"U\",\"Ů\":\"U\",\"Ũ\":\"U\",\"Ṹ\":\"U\",\"Ṵ\":\"U\",\"Ꝟ\":\"V\",\"Ṿ\":\"V\",\"Ʋ\":\"V\",\"Ṽ\":\"V\",\"Ꝡ\":\"VY\",\"Ẃ\":\"W\",\"Ŵ\":\"W\",\"Ẅ\":\"W\",\"Ẇ\":\"W\",\"Ẉ\":\"W\",\"Ẁ\":\"W\",\"Ⱳ\":\"W\",\"Ẍ\":\"X\",\"Ẋ\":\"X\",\"Ý\":\"Y\",\"Ŷ\":\"Y\",\"Ÿ\":\"Y\",\"Ẏ\":\"Y\",\"Ỵ\":\"Y\",\"Ỳ\":\"Y\",\"Ƴ\":\"Y\",\"Ỷ\":\"Y\",\"Ỿ\":\"Y\",\"Ȳ\":\"Y\",\"Ɏ\":\"Y\",\"Ỹ\":\"Y\",\"Ź\":\"Z\",\"Ž\":\"Z\",\"Ẑ\":\"Z\",\"Ⱬ\":\"Z\",\"Ż\":\"Z\",\"Ẓ\":\"Z\",\"Ȥ\":\"Z\",\"Ẕ\":\"Z\",\"Ƶ\":\"Z\",\"Ĳ\":\"IJ\",\"Œ\":\"OE\",\"ᴀ\":\"A\",\"ᴁ\":\"AE\",\"ʙ\":\"B\",\"ᴃ\":\"B\",\"ᴄ\":\"C\",\"ᴅ\":\"D\",\"ᴇ\":\"E\",\"ꜰ\":\"F\",\"ɢ\":\"G\",\"ʛ\":\"G\",\"ʜ\":\"H\",\"ɪ\":\"I\",\"ʁ\":\"R\",\"ᴊ\":\"J\",\"ᴋ\":\"K\",\"ʟ\":\"L\",\"ᴌ\":\"L\",\"ᴍ\":\"M\",\"ɴ\":\"N\",\"ᴏ\":\"O\",\"ɶ\":\"OE\",\"ᴐ\":\"O\",\"ᴕ\":\"OU\",\"ᴘ\":\"P\",\"ʀ\":\"R\",\"ᴎ\":\"N\",\"ᴙ\":\"R\",\"ꜱ\":\"S\",\"ᴛ\":\"T\",\"ⱻ\":\"E\",\"ᴚ\":\"R\",\"ᴜ\":\"U\",\"ᴠ\":\"V\",\"ᴡ\":\"W\",\"ʏ\":\"Y\",\"ᴢ\":\"Z\",\"á\":\"a\",\"ă\":\"a\",\"ắ\":\"a\",\"ặ\":\"a\",\"ằ\":\"a\",\"ẳ\":\"a\",\"ẵ\":\"a\",\"ǎ\":\"a\",\"â\":\"a\",\"ấ\":\"a\",\"ậ\":\"a\",\"ầ\":\"a\",\"ẩ\":\"a\",\"ẫ\":\"a\",\"ä\":\"a\",\"ǟ\":\"a\",\"ȧ\":\"a\",\"ǡ\":\"a\",\"ạ\":\"a\",\"ȁ\":\"a\",\"à\":\"a\",\"ả\":\"a\",\"ȃ\":\"a\",\"ā\":\"a\",\"ą\":\"a\",\"ᶏ\":\"a\",\"ẚ\":\"a\",\"å\":\"a\",\"ǻ\":\"a\",\"ḁ\":\"a\",\"ⱥ\":\"a\",\"ã\":\"a\",\"ꜳ\":\"aa\",\"æ\":\"ae\",\"ǽ\":\"ae\",\"ǣ\":\"ae\",\"ꜵ\":\"ao\",\"ꜷ\":\"au\",\"ꜹ\":\"av\",\"ꜻ\":\"av\",\"ꜽ\":\"ay\",\"ḃ\":\"b\",\"ḅ\":\"b\",\"ɓ\":\"b\",\"ḇ\":\"b\",\"ᵬ\":\"b\",\"ᶀ\":\"b\",\"ƀ\":\"b\",\"ƃ\":\"b\",\"ɵ\":\"o\",\"ć\":\"c\",\"č\":\"c\",\"ç\":\"c\",\"ḉ\":\"c\",\"ĉ\":\"c\",\"ɕ\":\"c\",\"ċ\":\"c\",\"ƈ\":\"c\",\"ȼ\":\"c\",\"ď\":\"d\",\"ḑ\":\"d\",\"ḓ\":\"d\",\"ȡ\":\"d\",\"ḋ\":\"d\",\"ḍ\":\"d\",\"ɗ\":\"d\",\"ᶑ\":\"d\",\"ḏ\":\"d\",\"ᵭ\":\"d\",\"ᶁ\":\"d\",\"đ\":\"d\",\"ɖ\":\"d\",\"ƌ\":\"d\",\"ı\":\"i\",\"ȷ\":\"j\",\"ɟ\":\"j\",\"ʄ\":\"j\",\"ǳ\":\"dz\",\"ǆ\":\"dz\",\"é\":\"e\",\"ĕ\":\"e\",\"ě\":\"e\",\"ȩ\":\"e\",\"ḝ\":\"e\",\"ê\":\"e\",\"ế\":\"e\",\"ệ\":\"e\",\"ề\":\"e\",\"ể\":\"e\",\"ễ\":\"e\",\"ḙ\":\"e\",\"ë\":\"e\",\"ė\":\"e\",\"ẹ\":\"e\",\"ȅ\":\"e\",\"è\":\"e\",\"ẻ\":\"e\",\"ȇ\":\"e\",\"ē\":\"e\",\"ḗ\":\"e\",\"ḕ\":\"e\",\"ⱸ\":\"e\",\"ę\":\"e\",\"ᶒ\":\"e\",\"ɇ\":\"e\",\"ẽ\":\"e\",\"ḛ\":\"e\",\"ꝫ\":\"et\",\"ḟ\":\"f\",\"ƒ\":\"f\",\"ᵮ\":\"f\",\"ᶂ\":\"f\",\"ǵ\":\"g\",\"ğ\":\"g\",\"ǧ\":\"g\",\"ģ\":\"g\",\"ĝ\":\"g\",\"ġ\":\"g\",\"ɠ\":\"g\",\"ḡ\":\"g\",\"ᶃ\":\"g\",\"ǥ\":\"g\",\"ḫ\":\"h\",\"ȟ\":\"h\",\"ḩ\":\"h\",\"ĥ\":\"h\",\"ⱨ\":\"h\",\"ḧ\":\"h\",\"ḣ\":\"h\",\"ḥ\":\"h\",\"ɦ\":\"h\",\"ẖ\":\"h\",\"ħ\":\"h\",\"ƕ\":\"hv\",\"í\":\"i\",\"ĭ\":\"i\",\"ǐ\":\"i\",\"î\":\"i\",\"ï\":\"i\",\"ḯ\":\"i\",\"ị\":\"i\",\"ȉ\":\"i\",\"ì\":\"i\",\"ỉ\":\"i\",\"ȋ\":\"i\",\"ī\":\"i\",\"į\":\"i\",\"ᶖ\":\"i\",\"ɨ\":\"i\",\"ĩ\":\"i\",\"ḭ\":\"i\",\"ꝺ\":\"d\",\"ꝼ\":\"f\",\"ᵹ\":\"g\",\"ꞃ\":\"r\",\"ꞅ\":\"s\",\"ꞇ\":\"t\",\"ꝭ\":\"is\",\"ǰ\":\"j\",\"ĵ\":\"j\",\"ʝ\":\"j\",\"ɉ\":\"j\",\"ḱ\":\"k\",\"ǩ\":\"k\",\"ķ\":\"k\",\"ⱪ\":\"k\",\"ꝃ\":\"k\",\"ḳ\":\"k\",\"ƙ\":\"k\",\"ḵ\":\"k\",\"ᶄ\":\"k\",\"ꝁ\":\"k\",\"ꝅ\":\"k\",\"ĺ\":\"l\",\"ƚ\":\"l\",\"ɬ\":\"l\",\"ľ\":\"l\",\"ļ\":\"l\",\"ḽ\":\"l\",\"ȴ\":\"l\",\"ḷ\":\"l\",\"ḹ\":\"l\",\"ⱡ\":\"l\",\"ꝉ\":\"l\",\"ḻ\":\"l\",\"ŀ\":\"l\",\"ɫ\":\"l\",\"ᶅ\":\"l\",\"ɭ\":\"l\",\"ł\":\"l\",\"ǉ\":\"lj\",\"ſ\":\"s\",\"ẜ\":\"s\",\"ẛ\":\"s\",\"ẝ\":\"s\",\"ḿ\":\"m\",\"ṁ\":\"m\",\"ṃ\":\"m\",\"ɱ\":\"m\",\"ᵯ\":\"m\",\"ᶆ\":\"m\",\"ń\":\"n\",\"ň\":\"n\",\"ņ\":\"n\",\"ṋ\":\"n\",\"ȵ\":\"n\",\"ṅ\":\"n\",\"ṇ\":\"n\",\"ǹ\":\"n\",\"ɲ\":\"n\",\"ṉ\":\"n\",\"ƞ\":\"n\",\"ᵰ\":\"n\",\"ᶇ\":\"n\",\"ɳ\":\"n\",\"ñ\":\"n\",\"ǌ\":\"nj\",\"ó\":\"o\",\"ŏ\":\"o\",\"ǒ\":\"o\",\"ô\":\"o\",\"ố\":\"o\",\"ộ\":\"o\",\"ồ\":\"o\",\"ổ\":\"o\",\"ỗ\":\"o\",\"ö\":\"o\",\"ȫ\":\"o\",\"ȯ\":\"o\",\"ȱ\":\"o\",\"ọ\":\"o\",\"ő\":\"o\",\"ȍ\":\"o\",\"ò\":\"o\",\"ỏ\":\"o\",\"ơ\":\"o\",\"ớ\":\"o\",\"ợ\":\"o\",\"ờ\":\"o\",\"ở\":\"o\",\"ỡ\":\"o\",\"ȏ\":\"o\",\"ꝋ\":\"o\",\"ꝍ\":\"o\",\"ⱺ\":\"o\",\"ō\":\"o\",\"ṓ\":\"o\",\"ṑ\":\"o\",\"ǫ\":\"o\",\"ǭ\":\"o\",\"ø\":\"o\",\"ǿ\":\"o\",\"õ\":\"o\",\"ṍ\":\"o\",\"ṏ\":\"o\",\"ȭ\":\"o\",\"ƣ\":\"oi\",\"ꝏ\":\"oo\",\"ɛ\":\"e\",\"ᶓ\":\"e\",\"ɔ\":\"o\",\"ᶗ\":\"o\",\"ȣ\":\"ou\",\"ṕ\":\"p\",\"ṗ\":\"p\",\"ꝓ\":\"p\",\"ƥ\":\"p\",\"ᵱ\":\"p\",\"ᶈ\":\"p\",\"ꝕ\":\"p\",\"ᵽ\":\"p\",\"ꝑ\":\"p\",\"ꝙ\":\"q\",\"ʠ\":\"q\",\"ɋ\":\"q\",\"ꝗ\":\"q\",\"ŕ\":\"r\",\"ř\":\"r\",\"ŗ\":\"r\",\"ṙ\":\"r\",\"ṛ\":\"r\",\"ṝ\":\"r\",\"ȑ\":\"r\",\"ɾ\":\"r\",\"ᵳ\":\"r\",\"ȓ\":\"r\",\"ṟ\":\"r\",\"ɼ\":\"r\",\"ᵲ\":\"r\",\"ᶉ\":\"r\",\"ɍ\":\"r\",\"ɽ\":\"r\",\"ↄ\":\"c\",\"ꜿ\":\"c\",\"ɘ\":\"e\",\"ɿ\":\"r\",\"ś\":\"s\",\"ṥ\":\"s\",\"š\":\"s\",\"ṧ\":\"s\",\"ş\":\"s\",\"ŝ\":\"s\",\"ș\":\"s\",\"ṡ\":\"s\",\"ṣ\":\"s\",\"ṩ\":\"s\",\"ʂ\":\"s\",\"ᵴ\":\"s\",\"ᶊ\":\"s\",\"ȿ\":\"s\",\"ɡ\":\"g\",\"ß\":\"ss\",\"ᴑ\":\"o\",\"ᴓ\":\"o\",\"ᴝ\":\"u\",\"ť\":\"t\",\"ţ\":\"t\",\"ṱ\":\"t\",\"ț\":\"t\",\"ȶ\":\"t\",\"ẗ\":\"t\",\"ⱦ\":\"t\",\"ṫ\":\"t\",\"ṭ\":\"t\",\"ƭ\":\"t\",\"ṯ\":\"t\",\"ᵵ\":\"t\",\"ƫ\":\"t\",\"ʈ\":\"t\",\"ŧ\":\"t\",\"ᵺ\":\"th\",\"ɐ\":\"a\",\"ᴂ\":\"ae\",\"ǝ\":\"e\",\"ᵷ\":\"g\",\"ɥ\":\"h\",\"ʮ\":\"h\",\"ʯ\":\"h\",\"ᴉ\":\"i\",\"ʞ\":\"k\",\"ꞁ\":\"l\",\"ɯ\":\"m\",\"ɰ\":\"m\",\"ᴔ\":\"oe\",\"ɹ\":\"r\",\"ɻ\":\"r\",\"ɺ\":\"r\",\"ⱹ\":\"r\",\"ʇ\":\"t\",\"ʌ\":\"v\",\"ʍ\":\"w\",\"ʎ\":\"y\",\"ꜩ\":\"tz\",\"ú\":\"u\",\"ŭ\":\"u\",\"ǔ\":\"u\",\"û\":\"u\",\"ṷ\":\"u\",\"ü\":\"u\",\"ǘ\":\"u\",\"ǚ\":\"u\",\"ǜ\":\"u\",\"ǖ\":\"u\",\"ṳ\":\"u\",\"ụ\":\"u\",\"ű\":\"u\",\"ȕ\":\"u\",\"ù\":\"u\",\"ủ\":\"u\",\"ư\":\"u\",\"ứ\":\"u\",\"ự\":\"u\",\"ừ\":\"u\",\"ử\":\"u\",\"ữ\":\"u\",\"ȗ\":\"u\",\"ū\":\"u\",\"ṻ\":\"u\",\"ų\":\"u\",\"ᶙ\":\"u\",\"ů\":\"u\",\"ũ\":\"u\",\"ṹ\":\"u\",\"ṵ\":\"u\",\"ᵫ\":\"ue\",\"ꝸ\":\"um\",\"ⱴ\":\"v\",\"ꝟ\":\"v\",\"ṿ\":\"v\",\"ʋ\":\"v\",\"ᶌ\":\"v\",\"ⱱ\":\"v\",\"ṽ\":\"v\",\"ꝡ\":\"vy\",\"ẃ\":\"w\",\"ŵ\":\"w\",\"ẅ\":\"w\",\"ẇ\":\"w\",\"ẉ\":\"w\",\"ẁ\":\"w\",\"ⱳ\":\"w\",\"ẘ\":\"w\",\"ẍ\":\"x\",\"ẋ\":\"x\",\"ᶍ\":\"x\",\"ý\":\"y\",\"ŷ\":\"y\",\"ÿ\":\"y\",\"ẏ\":\"y\",\"ỵ\":\"y\",\"ỳ\":\"y\",\"ƴ\":\"y\",\"ỷ\":\"y\",\"ỿ\":\"y\",\"ȳ\":\"y\",\"ẙ\":\"y\",\"ɏ\":\"y\",\"ỹ\":\"y\",\"ź\":\"z\",\"ž\":\"z\",\"ẑ\":\"z\",\"ʑ\":\"z\",\"ⱬ\":\"z\",\"ż\":\"z\",\"ẓ\":\"z\",\"ȥ\":\"z\",\"ẕ\":\"z\",\"ᵶ\":\"z\",\"ᶎ\":\"z\",\"ʐ\":\"z\",\"ƶ\":\"z\",\"ɀ\":\"z\",\"ﬀ\":\"ff\",\"ﬃ\":\"ffi\",\"ﬄ\":\"ffl\",\"ﬁ\":\"fi\",\"ﬂ\":\"fl\",\"ĳ\":\"ij\",\"œ\":\"oe\",\"ﬆ\":\"st\",\"ₐ\":\"a\",\"ₑ\":\"e\",\"ᵢ\":\"i\",\"ⱼ\":\"j\",\"ₒ\":\"o\",\"ᵣ\":\"r\",\"ᵤ\":\"u\",\"ᵥ\":\"v\",\"ₓ\":\"x\"};\n\n//******************************************************************************\n// Added an initialize function which is essentially the code from the S\n// constructor.  Now, the S constructor calls this and a new method named\n// setValue calls it as well.  The setValue function allows constructors for\n// modules that extend string.js to set the initial value of an object without\n// knowing the internal workings of string.js.\n//\n// Also, all methods which return a new S object now call:\n//\n//      return new this.constructor(s);\n//\n// instead of:\n//\n//      return new S(s);\n//\n// This allows extended objects to keep their proper instanceOf and constructor.\n//******************************************************************************\n\n  function initialize (object, s) {\n    if (s !== null && s !== undefined) {\n      if (typeof s === 'string')\n        object.s = s;\n      else\n        object.s = s.toString();\n    } else {\n      object.s = s; //null or undefined\n    }\n\n    object.orig = s; //original object, currently only used by toCSV() and toBoolean()\n\n    if (s !== null && s !== undefined) {\n      if (object.__defineGetter__) {\n        object.__defineGetter__('length', function() {\n          return object.s.length;\n        })\n      } else {\n        object.length = s.length;\n      }\n    } else {\n      object.length = -1;\n    }\n  }\n\n  function S(s) {\n  \tinitialize(this, s);\n  }\n\n  var __nsp = String.prototype;\n  var __sp = S.prototype = {\n\n    between: function(left, right) {\n      var s = this.s;\n      var startPos = s.indexOf(left);\n      var endPos = s.indexOf(right, startPos + left.length);\n      if (endPos == -1 && right != null) \n        return new this.constructor('')\n      else if (endPos == -1 && right == null)\n        return new this.constructor(s.substring(startPos + left.length))\n      else \n        return new this.constructor(s.slice(startPos + left.length, endPos));\n    },\n\n    //# modified slightly from https://github.com/epeli/underscore.string\n    camelize: function() {\n      var s = this.trim().s.replace(/(\\-|_|\\s)+(.)?/g, function(mathc, sep, c) {\n        return (c ? c.toUpperCase() : '');\n      });\n      return new this.constructor(s);\n    },\n\n    capitalize: function() {\n      return new this.constructor(this.s.substr(0, 1).toUpperCase() + this.s.substring(1).toLowerCase());\n    },\n\n    charAt: function(index) {\n      return this.s.charAt(index);\n    },\n\n    chompLeft: function(prefix) {\n      var s = this.s;\n      if (s.indexOf(prefix) === 0) {\n         s = s.slice(prefix.length);\n         return new this.constructor(s);\n      } else {\n        return this;\n      }\n    },\n\n    chompRight: function(suffix) {\n      if (this.endsWith(suffix)) {\n        var s = this.s;\n        s = s.slice(0, s.length - suffix.length);\n        return new this.constructor(s);\n      } else {\n        return this;\n      }\n    },\n\n    //#thanks Google\n    collapseWhitespace: function() {\n      var s = this.s.replace(/[\\s\\xa0]+/g, ' ').replace(/^\\s+|\\s+$/g, '');\n      return new this.constructor(s);\n    },\n\n    contains: function(ss) {\n      return this.s.indexOf(ss) >= 0;\n    },\n\n    count: function(ss) {\n      return require('./_count')(this.s, ss)\n    },\n\n    //#modified from https://github.com/epeli/underscore.string\n    dasherize: function() {\n      var s = this.trim().s.replace(/[_\\s]+/g, '-').replace(/([A-Z])/g, '-$1').replace(/-+/g, '-').toLowerCase();\n      return new this.constructor(s);\n    },\n\n    latinise: function() {\n      var s = this.replace(/[^A-Za-z0-9\\[\\] ]/g, function(x) { return latin_map[x] || x; });\n      return new this.constructor(s);\n    },\n\n    decodeHtmlEntities: function() { //https://github.com/substack/node-ent/blob/master/index.js\n      var s = this.s;\n      s = s.replace(/&#(\\d+);?/g, function (_, code) {\n        return String.fromCharCode(code);\n      })\n      .replace(/&#[xX]([A-Fa-f0-9]+);?/g, function (_, hex) {\n        return String.fromCharCode(parseInt(hex, 16));\n      })\n      .replace(/&([^;\\W]+;?)/g, function (m, e) {\n        var ee = e.replace(/;$/, '');\n        var target = ENTITIES[e] || (e.match(/;$/) && ENTITIES[ee]);\n            \n        if (typeof target === 'number') {\n          return String.fromCharCode(target);\n        }\n        else if (typeof target === 'string') {\n          return target;\n        }\n        else {\n          return m;\n        }\n      })\n\n      return new this.constructor(s);\n    },\n\n    endsWith: function() {\n      var suffixes = Array.prototype.slice.call(arguments, 0);\n      for (var i = 0; i < suffixes.length; ++i) {\n        var l  = this.s.length - suffixes[i].length;\n        if (l >= 0 && this.s.indexOf(suffixes[i], l) === l) return true;\n      }\n      return false;\n    },\n\n    escapeHTML: function() { //from underscore.string\n      return new this.constructor(this.s.replace(/[&<>\"']/g, function(m){ return '&' + reversedEscapeChars[m] + ';'; }));\n    },\n\n    ensureLeft: function(prefix) {\n      var s = this.s;\n      if (s.indexOf(prefix) === 0) {\n        return this;\n      } else {\n        return new this.constructor(prefix + s);\n      }\n    },\n\n    ensureRight: function(suffix) {\n      var s = this.s;\n      if (this.endsWith(suffix))  {\n        return this;\n      } else {\n        return new this.constructor(s + suffix);\n      }\n    },\n\n    humanize: function() { //modified from underscore.string\n      if (this.s === null || this.s === undefined)\n        return new this.constructor('')\n      var s = this.underscore().replace(/_id$/,'').replace(/_/g, ' ').trim().capitalize()\n      return new this.constructor(s)\n    },\n\n    isAlpha: function() {\n      return !/[^a-z\\xDF-\\xFF]|^$/.test(this.s.toLowerCase());\n    },\n\n    isAlphaNumeric: function() {\n      return !/[^0-9a-z\\xDF-\\xFF]/.test(this.s.toLowerCase());\n    },\n\n    isEmpty: function() {\n      return this.s === null || this.s === undefined ? true : /^[\\s\\xa0]*$/.test(this.s);\n    },\n\n    isLower: function() {\n      return this.isAlpha() && this.s.toLowerCase() === this.s;\n    },\n\n    isNumeric: function() {\n      return !/[^0-9]/.test(this.s);\n    },\n\n    isUpper: function() {\n      return this.isAlpha() && this.s.toUpperCase() === this.s;\n    },\n\n    left: function(N) {\n      if (N >= 0) {\n        var s = this.s.substr(0, N);\n        return new this.constructor(s);\n      } else {\n        return this.right(-N);\n      }\n    },\n    \n    lines: function() { //convert windows newlines to unix newlines then convert to an Array of lines\n      return this.replaceAll('\\r\\n', '\\n').s.split('\\n');\n    },\n\n    pad: function(len, ch) { //https://github.com/component/pad\n      if (ch == null) ch = ' ';\n      if (this.s.length >= len) return new this.constructor(this.s);\n      len = len - this.s.length;\n      var left = Array(Math.ceil(len / 2) + 1).join(ch);\n      var right = Array(Math.floor(len / 2) + 1).join(ch);\n      return new this.constructor(left + this.s + right);\n    },\n\n    padLeft: function(len, ch) { //https://github.com/component/pad\n      if (ch == null) ch = ' ';\n      if (this.s.length >= len) return new this.constructor(this.s);\n      return new this.constructor(Array(len - this.s.length + 1).join(ch) + this.s);\n    },\n\n    padRight: function(len, ch) { //https://github.com/component/pad\n      if (ch == null) ch = ' ';\n      if (this.s.length >= len) return new this.constructor(this.s);\n      return new this.constructor(this.s + Array(len - this.s.length + 1).join(ch));\n    },\n\n    parseCSV: function(delimiter, qualifier, escape, lineDelimiter) { //try to parse no matter what\n      delimiter = delimiter || ',';\n      escape = escape || '\\\\'\n      if (typeof qualifier == 'undefined')\n        qualifier = '\"';\n\n      var i = 0, fieldBuffer = [], fields = [], len = this.s.length, inField = false, inUnqualifiedString = false, self = this;\n      var ca = function(i){return self.s.charAt(i)};\n      if (typeof lineDelimiter !== 'undefined') var rows = [];\n\n      if (!qualifier)\n        inField = true;\n\n      while (i < len) {\n        var current = ca(i);\n        switch (current) {\n          case escape:\n            //fix for issues #32 and #35\n            if (inField && ((escape !== qualifier) || ca(i+1) === qualifier)) {\n              i += 1;\n              fieldBuffer.push(ca(i));\n              break;\n            }\n            if (escape !== qualifier) break;\n          case qualifier:\n            inField = !inField;\n            break;\n          case delimiter:\n            if(inUnqualifiedString) {\n              inField=false;\n              inUnqualifiedString=false;\n            }\n            if (inField && qualifier)\n              fieldBuffer.push(current);\n            else {\n              fields.push(fieldBuffer.join(''))\n              fieldBuffer.length = 0;\n            }\n            break;\n          case lineDelimiter:\n            if(inUnqualifiedString) {\n              inField=false;\n              inUnqualifiedString=false;\n              fields.push(fieldBuffer.join(''))\n              rows.push(fields);\n              fields = [];\n              fieldBuffer.length = 0;\n            }\n            else if (inField) {\n              fieldBuffer.push(current);\n            } else {\n              if (rows) {\n                fields.push(fieldBuffer.join(''))\n                rows.push(fields);\n                fields = [];\n                fieldBuffer.length = 0;\n              }\n            }\n            break;\n          case ' ':\n            if (inField)\n              fieldBuffer.push(current);\n            break;\n          default:\n            if (inField)\n              fieldBuffer.push(current);\n            else if(current!==qualifier) {\n              fieldBuffer.push(current);\n              inField=true;\n              inUnqualifiedString=true;\n            }\n            break;\n        }\n        i += 1;\n      }\n\n      fields.push(fieldBuffer.join(''));\n      if (rows) {\n        rows.push(fields);\n        return rows;\n      }\n      return fields;\n    },\n\n    replaceAll: function(ss, r) {\n      //var s = this.s.replace(new RegExp(ss, 'g'), r);\n      var s = this.s.split(ss).join(r)\n      return new this.constructor(s);\n    },\n\n    strip: function() {\n      var ss = this.s;\n      for(var i= 0, n=arguments.length; i<n; i++) {\n        ss = ss.split(arguments[i]).join('');\n      }\n      return new this.constructor(ss);\n    },\n\n    right: function(N) {\n      if (N >= 0) {\n        var s = this.s.substr(this.s.length - N, N);\n        return new this.constructor(s);\n      } else {\n        return this.left(-N);\n      }\n    },\n\n    setValue: function (s) {\n\t  initialize(this, s);\n\t  return this;\n    },\n\n    slugify: function() {\n      var sl = (new S(new S(this.s).latinise().s.replace(/[^\\w\\s-]/g, '').toLowerCase())).dasherize().s;\n      if (sl.charAt(0) === '-')\n        sl = sl.substr(1);\n      return new this.constructor(sl);\n    },\n\n    startsWith: function() {\n      var prefixes = Array.prototype.slice.call(arguments, 0);\n      for (var i = 0; i < prefixes.length; ++i) {\n        if (this.s.lastIndexOf(prefixes[i], 0) === 0) return true;\n      }\n      return false;\n    },\n\n    stripPunctuation: function() {\n      //return new this.constructor(this.s.replace(/[\\.,-\\/#!$%\\^&\\*;:{}=\\-_`~()]/g,\"\"));\n      return new this.constructor(this.s.replace(/[^\\w\\s]|_/g, \"\").replace(/\\s+/g, \" \"));\n    },\n\n    stripTags: function() { //from sugar.js\n      var s = this.s, args = arguments.length > 0 ? arguments : [''];\n      multiArgs(args, function(tag) {\n        s = s.replace(RegExp('<\\/?' + tag + '[^<>]*>', 'gi'), '');\n      });\n      return new this.constructor(s);\n    },\n\n    template: function(values, opening, closing) {\n      var s = this.s\n      var opening = opening || Export.TMPL_OPEN\n      var closing = closing || Export.TMPL_CLOSE\n\n      var open = opening.replace(/[-[\\]()*\\s]/g, \"\\\\$&\").replace(/\\$/g, '\\\\$')\n      var close = closing.replace(/[-[\\]()*\\s]/g, \"\\\\$&\").replace(/\\$/g, '\\\\$')\n      var r = new RegExp(open + '(.+?)' + close, 'g')\n        //, r = /\\{\\{(.+?)\\}\\}/g\n      var matches = s.match(r) || [];\n\n      matches.forEach(function(match) {\n        var key = match.substring(opening.length, match.length - closing.length).trim();//chop {{ and }}\n        var value = typeof values[key] == 'undefined' ? '' : values[key];\n        s = s.replace(match, value);\n      });\n      return new this.constructor(s);\n    },\n\n    times: function(n) {\n      return new this.constructor(new Array(n + 1).join(this.s));\n    },\n\n    toBoolean: function() {\n      if (typeof this.orig === 'string') {\n        var s = this.s.toLowerCase();\n        return s === 'true' || s === 'yes' || s === 'on' || s === '1';\n      } else\n        return this.orig === true || this.orig === 1;\n    },\n\n    toFloat: function(precision) {\n      var num = parseFloat(this.s)\n      if (precision)\n        return parseFloat(num.toFixed(precision))\n      else\n        return num\n    },\n\n    toInt: function() { //thanks Google\n      // If the string starts with '0x' or '-0x', parse as hex.\n      return /^\\s*-?0x/i.test(this.s) ? parseInt(this.s, 16) : parseInt(this.s, 10)\n    },\n\n    trim: function() {\n      var s;\n      if (typeof __nsp.trim === 'undefined') \n        s = this.s.replace(/(^\\s*|\\s*$)/g, '')\n      else \n        s = this.s.trim()\n      return new this.constructor(s);\n    },\n\n    trimLeft: function() {\n      var s;\n      if (__nsp.trimLeft)\n        s = this.s.trimLeft();\n      else\n        s = this.s.replace(/(^\\s*)/g, '');\n      return new this.constructor(s);\n    },\n\n    trimRight: function() {\n      var s;\n      if (__nsp.trimRight)\n        s = this.s.trimRight();\n      else\n        s = this.s.replace(/\\s+$/, '');\n      return new this.constructor(s);\n    },\n\n    truncate: function(length, pruneStr) { //from underscore.string, author: github.com/rwz\n      var str = this.s;\n\n      length = ~~length;\n      pruneStr = pruneStr || '...';\n\n      if (str.length <= length) return new this.constructor(str);\n\n      var tmpl = function(c){ return c.toUpperCase() !== c.toLowerCase() ? 'A' : ' '; },\n        template = str.slice(0, length+1).replace(/.(?=\\W*\\w*$)/g, tmpl); // 'Hello, world' -> 'HellAA AAAAA'\n\n      if (template.slice(template.length-2).match(/\\w\\w/))\n        template = template.replace(/\\s*\\S+$/, '');\n      else\n        template = new S(template.slice(0, template.length-1)).trimRight().s;\n\n      return (template+pruneStr).length > str.length ? new S(str) : new S(str.slice(0, template.length)+pruneStr);\n    },\n\n    toCSV: function() {\n      var delim = ',', qualifier = '\"', escape = '\\\\', encloseNumbers = true, keys = false;\n      var dataArray = [];\n\n      function hasVal(it) {\n        return it !== null && it !== '';\n      }\n\n      if (typeof arguments[0] === 'object') {\n        delim = arguments[0].delimiter || delim;\n        delim = arguments[0].separator || delim;\n        qualifier = arguments[0].qualifier || qualifier;\n        encloseNumbers = !!arguments[0].encloseNumbers;\n        escape = arguments[0].escape || escape;\n        keys = !!arguments[0].keys;\n      } else if (typeof arguments[0] === 'string') {\n        delim = arguments[0];\n      }\n\n      if (typeof arguments[1] === 'string')\n        qualifier = arguments[1];\n\n      if (arguments[1] === null)\n        qualifier = null;\n\n       if (this.orig instanceof Array)\n        dataArray  = this.orig;\n      else { //object\n        for (var key in this.orig)\n          if (this.orig.hasOwnProperty(key))\n            if (keys)\n              dataArray.push(key);\n            else\n              dataArray.push(this.orig[key]);\n      }\n\n      var rep = escape + qualifier;\n      var buildString = [];\n      for (var i = 0; i < dataArray.length; ++i) {\n        var shouldQualify = hasVal(qualifier)\n        if (typeof dataArray[i] == 'number')\n          shouldQualify &= encloseNumbers;\n        \n        if (shouldQualify)\n          buildString.push(qualifier);\n        \n        if (dataArray[i] !== null && dataArray[i] !== undefined) {\n          var d = new S(dataArray[i]).replaceAll(qualifier, rep).s;\n          buildString.push(d);\n        } else \n          buildString.push('')\n\n        if (shouldQualify)\n          buildString.push(qualifier);\n        \n        if (delim)\n          buildString.push(delim);\n      }\n\n      //chop last delim\n      //console.log(buildString.length)\n      buildString.length = buildString.length - 1;\n      return new this.constructor(buildString.join(''));\n    },\n\n    toString: function() {\n      return this.s;\n    },\n\n    //#modified from https://github.com/epeli/underscore.string\n    underscore: function() {\n      var s = this.trim().s.replace(/([a-z\\d])([A-Z]+)/g, '$1_$2').replace(/[-\\s]+/g, '_').toLowerCase();\n      return new this.constructor(s);\n    },\n\n    unescapeHTML: function() { //from underscore.string\n      return new this.constructor(this.s.replace(/\\&([^;]+);/g, function(entity, entityCode){\n        var match;\n\n        if (entityCode in escapeChars) {\n          return escapeChars[entityCode];\n        } else if (match = entityCode.match(/^#x([\\da-fA-F]+)$/)) {\n          return String.fromCharCode(parseInt(match[1], 16));\n        } else if (match = entityCode.match(/^#(\\d+)$/)) {\n          return String.fromCharCode(~~match[1]);\n        } else {\n          return entity;\n        }\n      }));\n    },\n\n    valueOf: function() {\n      return this.s.valueOf();\n    },\n\n    //#Added a New Function called wrapHTML.\n    wrapHTML: function (tagName, tagAttrs) {\n      var s = this.s, el = (tagName == null) ? 'span' : tagName, elAttr = '', wrapped = '';\n      if(typeof tagAttrs == 'object') for(var prop in tagAttrs) elAttr += ' ' + prop + '=\"' +(new this.constructor(tagAttrs[prop])).escapeHTML() + '\"';\n      s = wrapped.concat('<', el, elAttr, '>', this, '</', el, '>');\n      return new this.constructor(s);\n    }\n  }\n\n  var methodsAdded = [];\n  function extendPrototype() {\n    for (var name in __sp) {\n      (function(name){\n        var func = __sp[name];\n        if (!__nsp.hasOwnProperty(name)) {\n          methodsAdded.push(name);\n          __nsp[name] = function() {\n            String.prototype.s = this;\n            return func.apply(this, arguments);\n          }\n        }\n      })(name);\n    }\n  }\n\n  function restorePrototype() {\n    for (var i = 0; i < methodsAdded.length; ++i)\n      delete String.prototype[methodsAdded[i]];\n    methodsAdded.length = 0;\n  }\n\n\n/*************************************\n/* Attach Native JavaScript String Properties\n/*************************************/\n\n  var nativeProperties = getNativeStringProperties();\n  for (var name in nativeProperties) {\n    (function(name) {\n      var stringProp = __nsp[name];\n      if (typeof stringProp == 'function') {\n        //console.log(stringProp)\n        if (!__sp[name]) {\n          if (nativeProperties[name] === 'string') {\n            __sp[name] = function() {\n              //console.log(name)\n              return new this.constructor(stringProp.apply(this, arguments));\n            }\n          } else {\n            __sp[name] = stringProp;\n          }\n        }\n      }\n    })(name);\n  }\n\n\n/*************************************\n/* Function Aliases\n/*************************************/\n\n  __sp.repeat = __sp.times;\n  __sp.include = __sp.contains;\n  __sp.toInteger = __sp.toInt;\n  __sp.toBool = __sp.toBoolean;\n  __sp.decodeHTMLEntities = __sp.decodeHtmlEntities //ensure consistent casing scheme of 'HTML'\n\n\n//******************************************************************************\n// Set the constructor.  Without this, string.js objects are instances of\n// Object instead of S.\n//******************************************************************************\n\n  __sp.constructor = S;\n\n\n/*************************************\n/* Private Functions\n/*************************************/\n\n  function getNativeStringProperties() {\n    var names = getNativeStringPropertyNames();\n    var retObj = {};\n\n    for (var i = 0; i < names.length; ++i) {\n      var name = names[i];\n      var func = __nsp[name];\n      try {\n        var type = typeof func.apply('teststring', []);\n        retObj[name] = type;\n      } catch (e) {}\n    }\n    return retObj;\n  }\n\n  function getNativeStringPropertyNames() {\n    var results = [];\n    if (Object.getOwnPropertyNames) {\n      results = Object.getOwnPropertyNames(__nsp);\n      results.splice(results.indexOf('valueOf'), 1);\n      results.splice(results.indexOf('toString'), 1);\n      return results;\n    } else { //meant for legacy cruft, this could probably be made more efficient\n      var stringNames = {};\n      var objectNames = [];\n      for (var name in String.prototype)\n        stringNames[name] = name;\n\n      for (var name in Object.prototype)\n        delete stringNames[name];\n\n      //stringNames['toString'] = 'toString'; //this was deleted with the rest of the object names\n      for (var name in stringNames) {\n        results.push(name);\n      }\n      return results;\n    }\n  }\n\n  function Export(str) {\n    return new S(str);\n  };\n\n  //attach exports to StringJSWrapper\n  Export.extendPrototype = extendPrototype;\n  Export.restorePrototype = restorePrototype;\n  Export.VERSION = VERSION;\n  Export.TMPL_OPEN = '{{';\n  Export.TMPL_CLOSE = '}}';\n  Export.ENTITIES = ENTITIES;\n\n\n\n/*************************************\n/* Exports\n/*************************************/\n\n  if (typeof module !== 'undefined'  && typeof module.exports !== 'undefined') {\n    module.exports = Export;\n\n  } else {\n\n    if(typeof define === \"function\" && define.amd) {\n      define([], function() {\n        return Export;\n      });\n    } else {\n      window.S = Export;\n    }\n  }\n\n\n/*************************************\n/* 3rd Party Private Functions\n/*************************************/\n\n  //from sugar.js\n  function multiArgs(args, fn) {\n    var result = [], i;\n    for(i = 0; i < args.length; i++) {\n      result.push(args[i]);\n      if(fn) fn.call(args, args[i], i);\n    }\n    return result;\n  }\n\n  //from underscore.string\n  var escapeChars = {\n    lt: '<',\n    gt: '>',\n    quot: '\"',\n    apos: \"'\",\n    amp: '&'\n  };\n\n  //from underscore.string\n  var reversedEscapeChars = {};\n  for(var key in escapeChars){ reversedEscapeChars[escapeChars[key]] = key; }\n\n  ENTITIES = {\n    \"amp\" : \"&\",\n    \"gt\" : \">\",\n    \"lt\" : \"<\",\n    \"quot\" : \"\\\"\",\n    \"apos\" : \"'\",\n    \"AElig\" : 198,\n    \"Aacute\" : 193,\n    \"Acirc\" : 194,\n    \"Agrave\" : 192,\n    \"Aring\" : 197,\n    \"Atilde\" : 195,\n    \"Auml\" : 196,\n    \"Ccedil\" : 199,\n    \"ETH\" : 208,\n    \"Eacute\" : 201,\n    \"Ecirc\" : 202,\n    \"Egrave\" : 200,\n    \"Euml\" : 203,\n    \"Iacute\" : 205,\n    \"Icirc\" : 206,\n    \"Igrave\" : 204,\n    \"Iuml\" : 207,\n    \"Ntilde\" : 209,\n    \"Oacute\" : 211,\n    \"Ocirc\" : 212,\n    \"Ograve\" : 210,\n    \"Oslash\" : 216,\n    \"Otilde\" : 213,\n    \"Ouml\" : 214,\n    \"THORN\" : 222,\n    \"Uacute\" : 218,\n    \"Ucirc\" : 219,\n    \"Ugrave\" : 217,\n    \"Uuml\" : 220,\n    \"Yacute\" : 221,\n    \"aacute\" : 225,\n    \"acirc\" : 226,\n    \"aelig\" : 230,\n    \"agrave\" : 224,\n    \"aring\" : 229,\n    \"atilde\" : 227,\n    \"auml\" : 228,\n    \"ccedil\" : 231,\n    \"eacute\" : 233,\n    \"ecirc\" : 234,\n    \"egrave\" : 232,\n    \"eth\" : 240,\n    \"euml\" : 235,\n    \"iacute\" : 237,\n    \"icirc\" : 238,\n    \"igrave\" : 236,\n    \"iuml\" : 239,\n    \"ntilde\" : 241,\n    \"oacute\" : 243,\n    \"ocirc\" : 244,\n    \"ograve\" : 242,\n    \"oslash\" : 248,\n    \"otilde\" : 245,\n    \"ouml\" : 246,\n    \"szlig\" : 223,\n    \"thorn\" : 254,\n    \"uacute\" : 250,\n    \"ucirc\" : 251,\n    \"ugrave\" : 249,\n    \"uuml\" : 252,\n    \"yacute\" : 253,\n    \"yuml\" : 255,\n    \"copy\" : 169,\n    \"reg\" : 174,\n    \"nbsp\" : 160,\n    \"iexcl\" : 161,\n    \"cent\" : 162,\n    \"pound\" : 163,\n    \"curren\" : 164,\n    \"yen\" : 165,\n    \"brvbar\" : 166,\n    \"sect\" : 167,\n    \"uml\" : 168,\n    \"ordf\" : 170,\n    \"laquo\" : 171,\n    \"not\" : 172,\n    \"shy\" : 173,\n    \"macr\" : 175,\n    \"deg\" : 176,\n    \"plusmn\" : 177,\n    \"sup1\" : 185,\n    \"sup2\" : 178,\n    \"sup3\" : 179,\n    \"acute\" : 180,\n    \"micro\" : 181,\n    \"para\" : 182,\n    \"middot\" : 183,\n    \"cedil\" : 184,\n    \"ordm\" : 186,\n    \"raquo\" : 187,\n    \"frac14\" : 188,\n    \"frac12\" : 189,\n    \"frac34\" : 190,\n    \"iquest\" : 191,\n    \"times\" : 215,\n    \"divide\" : 247,\n    \"OElig;\" : 338,\n    \"oelig;\" : 339,\n    \"Scaron;\" : 352,\n    \"scaron;\" : 353,\n    \"Yuml;\" : 376,\n    \"fnof;\" : 402,\n    \"circ;\" : 710,\n    \"tilde;\" : 732,\n    \"Alpha;\" : 913,\n    \"Beta;\" : 914,\n    \"Gamma;\" : 915,\n    \"Delta;\" : 916,\n    \"Epsilon;\" : 917,\n    \"Zeta;\" : 918,\n    \"Eta;\" : 919,\n    \"Theta;\" : 920,\n    \"Iota;\" : 921,\n    \"Kappa;\" : 922,\n    \"Lambda;\" : 923,\n    \"Mu;\" : 924,\n    \"Nu;\" : 925,\n    \"Xi;\" : 926,\n    \"Omicron;\" : 927,\n    \"Pi;\" : 928,\n    \"Rho;\" : 929,\n    \"Sigma;\" : 931,\n    \"Tau;\" : 932,\n    \"Upsilon;\" : 933,\n    \"Phi;\" : 934,\n    \"Chi;\" : 935,\n    \"Psi;\" : 936,\n    \"Omega;\" : 937,\n    \"alpha;\" : 945,\n    \"beta;\" : 946,\n    \"gamma;\" : 947,\n    \"delta;\" : 948,\n    \"epsilon;\" : 949,\n    \"zeta;\" : 950,\n    \"eta;\" : 951,\n    \"theta;\" : 952,\n    \"iota;\" : 953,\n    \"kappa;\" : 954,\n    \"lambda;\" : 955,\n    \"mu;\" : 956,\n    \"nu;\" : 957,\n    \"xi;\" : 958,\n    \"omicron;\" : 959,\n    \"pi;\" : 960,\n    \"rho;\" : 961,\n    \"sigmaf;\" : 962,\n    \"sigma;\" : 963,\n    \"tau;\" : 964,\n    \"upsilon;\" : 965,\n    \"phi;\" : 966,\n    \"chi;\" : 967,\n    \"psi;\" : 968,\n    \"omega;\" : 969,\n    \"thetasym;\" : 977,\n    \"upsih;\" : 978,\n    \"piv;\" : 982,\n    \"ensp;\" : 8194,\n    \"emsp;\" : 8195,\n    \"thinsp;\" : 8201,\n    \"zwnj;\" : 8204,\n    \"zwj;\" : 8205,\n    \"lrm;\" : 8206,\n    \"rlm;\" : 8207,\n    \"ndash;\" : 8211,\n    \"mdash;\" : 8212,\n    \"lsquo;\" : 8216,\n    \"rsquo;\" : 8217,\n    \"sbquo;\" : 8218,\n    \"ldquo;\" : 8220,\n    \"rdquo;\" : 8221,\n    \"bdquo;\" : 8222,\n    \"dagger;\" : 8224,\n    \"Dagger;\" : 8225,\n    \"bull;\" : 8226,\n    \"hellip;\" : 8230,\n    \"permil;\" : 8240,\n    \"prime;\" : 8242,\n    \"Prime;\" : 8243,\n    \"lsaquo;\" : 8249,\n    \"rsaquo;\" : 8250,\n    \"oline;\" : 8254,\n    \"frasl;\" : 8260,\n    \"euro;\" : 8364,\n    \"image;\" : 8465,\n    \"weierp;\" : 8472,\n    \"real;\" : 8476,\n    \"trade;\" : 8482,\n    \"alefsym;\" : 8501,\n    \"larr;\" : 8592,\n    \"uarr;\" : 8593,\n    \"rarr;\" : 8594,\n    \"darr;\" : 8595,\n    \"harr;\" : 8596,\n    \"crarr;\" : 8629,\n    \"lArr;\" : 8656,\n    \"uArr;\" : 8657,\n    \"rArr;\" : 8658,\n    \"dArr;\" : 8659,\n    \"hArr;\" : 8660,\n    \"forall;\" : 8704,\n    \"part;\" : 8706,\n    \"exist;\" : 8707,\n    \"empty;\" : 8709,\n    \"nabla;\" : 8711,\n    \"isin;\" : 8712,\n    \"notin;\" : 8713,\n    \"ni;\" : 8715,\n    \"prod;\" : 8719,\n    \"sum;\" : 8721,\n    \"minus;\" : 8722,\n    \"lowast;\" : 8727,\n    \"radic;\" : 8730,\n    \"prop;\" : 8733,\n    \"infin;\" : 8734,\n    \"ang;\" : 8736,\n    \"and;\" : 8743,\n    \"or;\" : 8744,\n    \"cap;\" : 8745,\n    \"cup;\" : 8746,\n    \"int;\" : 8747,\n    \"there4;\" : 8756,\n    \"sim;\" : 8764,\n    \"cong;\" : 8773,\n    \"asymp;\" : 8776,\n    \"ne;\" : 8800,\n    \"equiv;\" : 8801,\n    \"le;\" : 8804,\n    \"ge;\" : 8805,\n    \"sub;\" : 8834,\n    \"sup;\" : 8835,\n    \"nsub;\" : 8836,\n    \"sube;\" : 8838,\n    \"supe;\" : 8839,\n    \"oplus;\" : 8853,\n    \"otimes;\" : 8855,\n    \"perp;\" : 8869,\n    \"sdot;\" : 8901,\n    \"lceil;\" : 8968,\n    \"rceil;\" : 8969,\n    \"lfloor;\" : 8970,\n    \"rfloor;\" : 8971,\n    \"lang;\" : 9001,\n    \"rang;\" : 9002,\n    \"loz;\" : 9674,\n    \"spades;\" : 9824,\n    \"clubs;\" : 9827,\n    \"hearts;\" : 9829,\n    \"diams;\" : 9830\n  }\n\n\n}).call(this);\n"],"sourceRoot":"/source/"}